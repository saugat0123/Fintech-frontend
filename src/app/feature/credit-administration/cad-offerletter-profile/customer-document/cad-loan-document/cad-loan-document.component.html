<div class="col-md-12">
    <div class="w-100">
        <strong>Loan Documents</strong>
    </div>
</div>

<div class="col-md-12">
    <table class="table table-bordered  text-center sb-small table-sm">

        <tbody>
        <ng-container *ngFor="let customerLoan of customerLoanList">
            <tr class="sb-bg-dark text-white">
                <td>
                    <strong>{{customerLoan?.loan?.name}}</strong>
                </td>
            </tr>
            <ng-container>
                <div *ngIf="customerLoan.loan.loanTag === loanTag.getKeyByValue(loanTag.REMIT_LOAN); else otherLoan">
                    <tr *ngIf="(customerLoan.remitCustomer.remitFilePathData | jsonParse).length < 1">
                        NO DOCUMENT available in this loan
                    </tr>
                    <tr *ngIf="customerLoan.loan.loanTag === loanTag.getKeyByValue(loanTag.REMIT_LOAN); else otherLoan">
                        <td class="text-left">
                            <div class="col-md-12 ">
                                <div class="row">
                                    <div class="col-md-3 img-hover flex-wrap"
                                         *ngFor="let data of ((customerLoan.remitCustomer.remitFilePathData | jsonParse));let i =index"
                                         [nbTooltip]="data?.name">
                                        <a (click)="service.openDocuments(data?.fullpath)" class="cursor"><em
                                                [className]="service.SET_CLASS_NAME"></em>
                                            <span class="mx-1"> {{data?.name?.length > 15 ?
                                                data?.name?.substring(0, 12) + '..' :
                                                data?.name}}</span></a>
                                    </div>
                                </div>
                            </div>

                        </td>
                    </tr>
                </div>


                <ng-template #otherLoan>
                    <tr *ngIf="customerLoan?.customerDocument?.length < 1">
                        NO DOCUMENT available in this loan
                    </tr>
                    <tr>
                        <td class="text-left">
                            <div class="col-md-12 ">
                                <div class="row">
                                    <div class="col-md-3 img-hover flex-wrap"
                                         *ngFor="let data of customerLoan?.customerDocument;let i =index"
                                         [nbTooltip]="data?.document?.displayName">
                                        <a (click)="service.openDocument(data?.documentPath)" class="cursor"><em
                                                [className]="service.SET_CLASS_NAME"></em>
                                            <span class="mx-1"> {{data?.document?.displayName?.length > 15 ?
                                                data?.document?.displayName?.substring(0, 12) + '..' :
                                                data?.document?.displayName}}</span></a>
                                    </div>
                                </div>
                            </div>

                        </td>
                    </tr>
                </ng-template>
            </ng-container>
        </ng-container>
        </tbody>
    </table>

</div>

