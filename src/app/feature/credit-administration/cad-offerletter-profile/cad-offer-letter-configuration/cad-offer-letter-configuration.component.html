<nb-card accent="primary" class="m-0"
         [nbSpinner]="spinner"
         nbSpinnerStatus="primary"
         nbSpinnerSize="giant">
  <nb-card-header>
    <a (click)="closeModal()" aria-label="Close" class="close cursor"
       data-dismiss="modal">
      <span aria-hidden="true">×</span></a>
  </nb-card-header>
  <nb-card-body>
    <form [formGroup]="userConfigForm">
      <nb-tabset (changeTab)="onChangeTab($event)">
        <nb-tab tabId="0" [active]="activeCustomerTab" tabTitle="Client Details"
                [disabled]="!activeCustomerTab"
                [nbSpinner]="spinner"
                #personal>
          <h4>{{actionType}} detail of {{ this.customerType }} customer.</h4>
          <hr>
          <table class="table table-borderless table-4 mb-5">
            <tr>
              <th colspan="2" class="text-center">
                <b>
                  Customer Details
                </b>
              </th>
              <th class="text-center">
                <b>
                  Translated Value
                </b>
              </th>
              <th class="text-center">
                <b>
                  Edit
                </b>
              </th>
              <th class="text-center">
                <b>
                  Correction Data
                </b>
              </th>
            </tr>
            <tr>
              <td>
                <label class="title" for="branch">Branch</label>
              </td>
              <td>
                <select class="form-control" formControlName="branch" id="branch">
                  <option [value]="null" hidden>Select Branch</option>
                  <option *ngFor="let branch of branchList" [value]="branch.id">{{branch.name}}
                  </option>
                </select>
              </td>
              <td>{{translatedValues?.branch}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'branch')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="branchCT" [readOnly]="!this['branchCheck']" type="text"/>
              </td>
            </tr>
            <tr hidden>
              <td>
                <label class="title" for="clientType">Client Type</label>
              </td>
              <td>
                <select class="form-control" formControlName="clientType" id="clientType" disabled>
                  <option value="INDIVIDUAL">INDIVIDUAL</option>
                  <option value="INSTITUTION">INSTITUTION</option>
                </select>
              </td>
              <td>{{translatedValues?.clientType}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'clientType')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="clientTypeCT" [readOnly]="!this['clientTypeCheck']"
                       type="text"/>
              </td>
            </tr>
            <tbody *ngIf="configForm?.clientType?.value != null">
            <tr>
              <td>
                <label class="title">Customer Code</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="customerCode"
                       [ngClass]="{'is-invalid': submitted && configForm.customerCode.errors}"
                       name="customerCode" placeholder="Customer Code"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.customerCode}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'customerCode')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="customerCodeCT" [readOnly]="!this['customerCodeCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr>
              <td><label class="title" for="name">Client Name</label></td>
              <td><input class="form-control "
                         formControlName="name"
                         id="name"
                         [ngClass]="{'is-invalid': submitted && configForm.name.errors}"
                         name="name" placeholder="Client Name"
                         type="text"/>
              </td>
              <td>{{translatedValues?.name}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'name')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="nameCT" [readOnly]="!this['nameCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr>
              <td>DOB</td>
              <td>
                <div class="row">
                  <nb-radio-group name="dobDateType" #dobDateType class="d-inline-flex" formControlName="dobDateType">
                    <nb-radio *ngFor="let option of dateOption" [value]="option.value">{{option.label}}</nb-radio>
                  </nb-radio-group>&nbsp;
                </div>
              </td>
            </tr>
            <tr>
              <td>
              </td>
              <td>
                <nepali-patro *ngIf="dobDateType.value ==='BS'" formControlName="dob" [responseType]="2"
                              [displayNepali]="true">
                </nepali-patro>
                <input [nbDatepicker]="dob"
                       *ngIf="dobDateType.value ==='AD'"
                       class="form-control form-control-sm-error rounded"
                       formControlName="dob"
                       id="dateOfBirth"
                       name="dateOfBirth"
                       placeholder="Date of Birth"
                       type="text">
                <nb-datepicker #dob></nb-datepicker>
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td><label class="title" for="email">Email</label></td>
              <td><input class="form-control "
                         formControlName="email"
                         id="email"
                         [ngClass]="{'is-invalid': submitted && configForm.email.errors}"
                         name="email" placeholder="Email"
                         type="text"/>
              </td>
              <td>
                {{translatedValues?.email}}</td>
              <td></td>
            </tr>

            <tr>
              <td><label class="title" for="contactNo">Contact No</label></td>
              <td><input class="form-control "
                         formControlName="contactNo"
                         id="contactNo"
                         [ngClass]="{'is-invalid': submitted && configForm.contactNo.errors}"
                         name="contactNo" placeholder="Contact No"
                         type="text"/>
              </td>
              <td>
                {{translatedValues?.contactNo}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'contactNo')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="contactNoCT" [readOnly]="!this['contactNoCheck']"
                       type="text"/>
              </td>
            </tr>

            <!--            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL'">-->
            <!--              <td>-->
            <!--                <label class="title" for="name">DOB</label>-->
            <!--              </td>-->
            <!--              <td>-->
            <!--                <input *ngIf="calendarType === 'AD'" [nbDatepicker]="dob"-->
            <!--                       class="table-input form-control"-->
            <!--                       formControlName="dob">-->
            <!--                &lt;!&ndash;                <app-calendar (messageToEmit)="userConfigForm.get('dob').patchValue($event?.eDate)"&ndash;&gt;-->
            <!--                &lt;!&ndash;                              *ngIf="calendarType === 'BS'"&ndash;&gt;-->
            <!--                &lt;!&ndash;                              [ePreDate]="userConfigForm.get('dob').value"></app-calendar>&ndash;&gt;-->
            <!--                <nb-datepicker format="yyyy-MM-dd" #dob></nb-datepicker>-->

            <!--              </td>-->
            <!--              <td>  {{translatedValues?.dob}}</td>
            <td>
            <nb-checkbox (change)="checkboxVal($event, 'ownersName')"></nb-checkbox>-->
            <!--              <td>
                <input class="form-control nepaliFont" formControlName="dobCT" [readOnly]="!this['branchCheck']" type="text"/>
              </td>-->
            <!--            </tr>-->
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL'">

              <td><label class="title" for="gender">Gender</label></td>
              <td><select  class="form-control" formControlName="gender" id="gender"
                          [ngClass]="{'is-invalid': submitted && configForm.gender.errors}">
                <option [value]="null" hidden>Select Gender</option>
                <option [selected]="loanHolder.gender === 'MALE'" value="MALE">Male</option>
                <option [selected]="loanHolder.gender === 'FEMALE'" value="FEMALE">Female</option>
                <option [selected]="loanHolder.gender === 'OTHERS'" value="OTHERS">Others</option>
              </select>
              </td>
              <td>{{translatedValues?.gender}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'gender')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="genderCT" [readOnly]="!this['genderCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr *ngIf="configForm?.gender?.value == 'FEMALE'">
              <td>
                <label class="relationMedium" for="relationMedium">Relation Medium</label>
              </td>
              <td>
                <select class="form-control" formControlName="relationMedium"
                        id="relationMedium"
                        [ngClass]="{'is-invalid': submitted && configForm.relationMedium.errors}">
                  <option [value]="null" hidden>Select Relation Medium</option>
                  <option value="0">Husband Relation</option>
                  <option value="1">Father Relation</option>
                </select>
              </td>
              <td>{{translatedValues?.relationMedium}}</td>
              <td></td>
            </tr>
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL' && (configForm?.gender?.value == 'FEMALE' && configForm?.relationMedium?.value == 0)">
              <td><label class="title" for="husbandName">Husband Name</label></td>
              <td><input class="form-control "
                         formControlName="husbandName"
                         [ngClass]="{'is-invalid': submitted && configForm.husbandName.errors}"
                         id="husbandName"
                         name="husbandName" placeholder="Husband Name"
                         type="text"/></td>
              <td>                {{translatedValues?.husbandName}}</td>
              <td></td>
              <td></td>
            </tr>
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL' && (configForm?.gender?.value == 'FEMALE' && configForm?.relationMedium?.value == 0)">
              <td><label class="title" for="fatherInLawName">Father In Law Name</label></td>
              <td><input class="form-control "
                         formControlName="fatherInLawName"
                         [ngClass]="{'is-invalid': submitted && configForm.fatherInLawName.errors}"
                         id="fatherInLawName"
                         name="fatherInLawName" placeholder="Father In Law Name"
                         type="text"/></td>
              <td>                {{translatedValues?.fatherInLawName}}</td>
              <td></td>
              <td></td>
            </tr>
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL' &&
             (configForm?.gender?.value == 'FEMALE' || configForm?.gender?.value == 'MALE' || configForm?.gender?.value == 'OTHERS') && !(configForm?.relationMedium?.value == 0)">
              <td>
                <label class="title" for="grandFatherName">Grand Father Name</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="grandFatherName"
                       [ngClass]="{'is-invalid': submitted && configForm.grandFatherName.errors}"
                       id="grandFatherName"
                       name="grandFatherName" placeholder="Grand Father Name"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.grandFatherName}}
              </td>
              <td></td>
            </tr>
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL' &&
            (configForm?.gender?.value == 'FEMALE' || configForm?.gender?.value == 'MALE' || configForm?.gender?.value == 'OTHERS') && !(configForm?.relationMedium?.value == 0)">
              <td>
                <label class="title" for="name">Father Name</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="fatherName"
                       [ngClass]="{'is-invalid': submitted && configForm.fatherName.errors}"
                       id="fatherName"
                       name="fatherName" placeholder="Father Name"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.fatherName}}
              </td>
              <td></td>
            </tr>
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL'">
              <td><label class="title" for="citizenshipNo">Citizenship No</label></td>
              <td>
                <input class="form-control "
                       formControlName="citizenshipNo"
                       id="citizenshipNo"
                       [ngClass]="{'is-invalid': submitted && configForm.citizenshipNo.errors}"
                       name="citizenshipNo" placeholder="Citizenship No"
                       type="text"/>

              </td>
              <td>
                {{translatedValues?.citizenshipNo}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'citizenshipNo')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="citizenshipNoCT" [readOnly]="!this['citizenshipNoCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr *ngIf="configForm?.clientType?.value == 'INSTITUTION'">
              <td>
                <label class="title" for="registrationNo">Registration No</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="registrationNo"
                       id="registrationNo"
                       [ngClass]="{'is-invalid': submitted && configForm.registrationNo.errors}"
                       name="registrationNo" placeholder="Registration No"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.registrationNo}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'registrationNo')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="registrationNoCT" [readOnly]="!this['registrationNoCheck']"
                       type="text"/>
              </td>
            </tr>
            <!--            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL'">-->
            <!--              <td>-->
            <!--                <label class="title" for="citizenshipIssueDate">Citizenship Issue Date</label>-->
            <!--              </td>-->
            <!--              <td>-->
            <!--                <input *ngIf="calendarType === 'AD'" [nbDatepicker]="citizenshipIssueDate"-->
            <!--                       class="form-control "-->
            <!--                       formControlName="citizenshipIssueDate"-->
            <!--                       id="citizenshipIssueDate"-->
            <!--                       [ngClass]="{'is-invalid': submitted && configForm.citizenshipIssueDate.errors}"-->
            <!--                       name="citizenshipIssueDate" placeholder="Citizenship Issue Date"-->
            <!--                       type="text"/>-->

            <!--                &lt;!&ndash;                <app-calendar (messageToEmit)="userConfigForm.get('dob').patchValue($event?.eDate)"&ndash;&gt;-->
            <!--                &lt;!&ndash;                              *ngIf="calendarType === 'BS'"&ndash;&gt;-->
            <!--                &lt;!&ndash;                              [ePreDate]="userConfigForm.get('dob').value"></app-calendar>&ndash;&gt;-->
            <!--                <nb-datepicker format="yyyy-MM-dd" #citizenshipIssueDate></nb-datepicker>-->
            <!--              </td>-->
            <!--              <td>-->
            <!--                {{translatedValues?.citizenshipIssueDate}}-->
            <!--              </td>-->
            <!--              <td>
                <input class="form-control nepaliFont" formControlName="citizenshipIssueDateCT" [readOnly]="!this['branchCheck']" type="text"/>
              </td>-->
            <!--            </tr>-->
            <!--            <tr *ngIf="configForm?.clientType?.value == 'INSTITUTION'">-->
            <!--              <td>-->
            <!--                <label class="title" for="registrationDate">Registration Date</label>-->
            <!--              </td>-->
            <!--              <td>-->
            <!--                <input *ngIf="calendarType === 'AD'" [nbDatepicker]="registrationDate"-->
            <!--                       class="form-control "-->
            <!--                       formControlName="registrationDate"-->
            <!--                       id="registrationDate"-->
            <!--                       [ngClass]="{'is-invalid': submitted && configForm.registrationDate.errors}"-->
            <!--                       name="registrationDate" placeholder="Registration Date"-->
            <!--                       type="text"/>-->
            <!--                &lt;!&ndash;                <app-calendar (messageToEmit)="userConfigForm.get('dob').patchValue($event?.eDate)"&ndash;&gt;-->
            <!--                &lt;!&ndash;                              *ngIf="calendarType === 'BS'"&ndash;&gt;-->
            <!--                &lt;!&ndash;                              [ePreDate]="userConfigForm.get('dob').value"></app-calendar>&ndash;&gt;-->
            <!--                <nb-datepicker format="yyyy-MM-dd" #registrationDate></nb-datepicker>-->
            <!--              </td>-->
            <!--              <td>-->
            <!--                {{translatedValues?.registrationDate}}-->
            <!--              </td>-->
            <!--              <td>
                <input class="form-control nepaliFont" formControlName="registrationDateCT" [readOnly]="!this['branchCheck']" type="text"/>
              </td>-->
            <!--            </tr>-->
            <tr *ngIf="configForm?.clientType?.value == 'INDIVIDUAL'">
              <td>
                <label class="title" for="citizenshipNo">Citizenship Issue District</label>
              </td>
              <td>
                <select
                        [compareWith]="compareFn"
                        [ngClass]="{'is-invalid': submitted && form.permanentProvince.errors}"
                        class="custom-select"
                        formControlName="citizenshipIssueDistrict"
                        id="citizenshipIssueDistrict">
                  <option [ngValue]="null" hidden>District</option>
                  <option  *ngFor="let district of allDistrictList"
                          [ngValue]="district">
                    {{district.name}}
                  </option>
                </select>
              </td>
              <td>
                {{objectValueTranslater?.citizenshipIssueDistrict}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'citizenshipIssueDistrict')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="citizenshipIssueDistrictCT" [readOnly]="!this['citizenshipIssueDistrictCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="issueDate">Issue Date</label>
              </td>
              <td>
                <div class="row">
                  <nb-radio-group name="issueDateType" formControlName="issuedDate"
                                  #issueDateVal class="d-inline-flex">
                    <nb-radio *ngFor="let option of dateOption"
                              [value]="option.value">{{option.label}}</nb-radio>
                  </nb-radio-group>
                </div>
              </td>
            </tr>
            <tr>
              <td></td>
              <td>
                <nepali-patro *ngIf="issueDateVal.value ==='BS'" formControlName="dob" [responseType]="2"
                              [displayNepali]="true">
                </nepali-patro>
                <input [nbDatepicker]="issueDate"
                       *ngIf="issueDateVal.value ==='AD'"
                       class="form-control form-control-sm-error rounded"
                       formControlName="citizenshipIssueDate"
                       id="issueDate"
                       name="issueDate"
                       placeholder="Issue Date"
                       type="text">
                <nb-datepicker #issueDate></nb-datepicker>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <label class="title" for="panNo">PAN No</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="panNo" id="panNo"
                       [ngClass]="{'is-invalid': submitted && configForm.panNo.errors}"
                       name="panNo" placeholder="PAN No" type="text"/>
              </td>
              <td>
                {{translatedValues?.panNo}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'panNo')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="panNoCT" [readOnly]="!this['panNoCheck']"
                       type="text"/>
              </td>
            </tr>
            </tbody>
            <tbody *ngIf="configForm?.clientType?.value == 'INDIVIDUAL'">
            <tr>
            <td>
              <strong>Permanent Address</strong>
            </td>
            </tr>
<!--            <tr>-->
<!--              <td><label class="title" for="permanentMunType">Municipality</label></td>-->
<!--              <td>-->
<!--                <select class="form-control" formControlName="permanentMunType"-->
<!--                        id="permanentMunType"-->
<!--                        [ngClass]="{'is-invalid': submitted && configForm.permanentMunType.errors}">-->
<!--                  <option value="0">Municipality</option>-->
<!--                  <option value="1">VDC</option>-->
<!--                </select>-->
<!--              </td>-->
<!--              <td>{{translatedValues?.permanentMunType}}</td>
<td>
<nb-checkbox (change)="checkboxVal($event, 'ownersName')"></nb-checkbox>-->
<!--              <td></td>-->
<!--            </tr>-->
            <tr>
              <td><label class="title">Province</label></td>
              <td>
<!--                <input class="form-control "-->
<!--                       formControlName="permanentProvince"-->
<!--                       [ngClass]="{'is-invalid': submitted && configForm.permanentProvince.errors}"-->
<!--                       id="permanentProvince"-->
<!--                       name="permanentProvince" placeholder="Province"-->
<!--                       type="text"/>-->
                <select #element (change)="getDistrictsById(form.permanentProvince.value?.id , $event)"
                        [compareWith]="compareFn"
                        [ngClass]="{'is-invalid': submitted && form.permanentProvince.errors}"
                        class="custom-select"
                        formControlName="permanentProvince"
                        id="province">
                  <option [ngValue]="null" hidden>Province</option>
                  <option  *ngFor="let provinceVal of provinceList"
                          [ngValue]="provinceVal">
                    {{provinceVal.name}}
                  </option>
                </select>
              </td>

              <td>
                {{objectValueTranslater?.permanentProvince}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'permanentProvince')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="permanentProvinceCT" [readOnly]="!this['permanentProvinceCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr>
              <td><label class="title" for="permanentDistrict">District</label></td>
              <td> <select (change)="getMunicipalitiesById(form?.permanentDistrict.value?.id, $event)"
                           [compareWith]="compareFn"
                           [ngClass]="{'is-invalid': submitted && form.permanentDistrict.errors}"
                           class="custom-select"
                           formControlName="permanentDistrict"
                           id="permanentDistrict">
                <option [ngValue]="null" hidden>District</option>
                <option *ngFor="let districtVal of districts"
                        [ngValue]="districtVal">
                  {{districtVal.name}}
                </option>
              </select>
              </td>
              <td>
                {{objectValueTranslater?.permanentDistrict}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'permanentDistrict')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="permanentDistrictCT" [readOnly]="!this['permanentDistrictCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title"
                         for="permanentMunicipality">Municipality or VDC
                </label>
              </td>
              <td>
                <nb-radio-group name="MunicipalityOrVdc" formControlName="municipalityOrVdc" class="d-inline-flex">
                  <nb-radio *ngFor="let option of vdcOption" [value]="vdcOption.values()">{{option.label}}</nb-radio>
                </nb-radio-group>
                <select [compareWith]="compareFn"
                        [ngClass]="{'is-invalid': submitted && form.permanentMunicipality.errors}"
                        class="custom-select"
                        formControlName="permanentMunicipality"
                        id="permanentMunicipality"
                        name="municipality">
                  <option [ngValue]="null" hidden>Municipality</option>
                  <option  *ngFor="let municipalityVal of municipalities"
                          [ngValue]="municipalityVal">
                    {{municipalityVal.name}}
                  </option>
                </select>
              </td>
              <td>
                {{objectValueTranslater?.permanentMunicipality}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'permanentMunicipality')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="permanentMunicipalityCT" [readOnly]="!this['permanentMunicipalityCheck']"   type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="permanentWard">Ward No</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="permanentWard"
                       [ngClass]="{'is-invalid': submitted && configForm.permanentWard.errors}"
                       id="permanentWard"
                       name="permanentMunicipality" placeholder="Ward No"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.permanentWard}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'permanentWard')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="permanentWardCT" [readOnly]="!this['permanentWardCheck']"
                       type="text"/>
              </td>

            </tr>
            <td></td>
            <td>
                <nb-checkbox (change)="sameAsPermanent($event)"><i>Check if Temporary Address is same as Permanent Address</i></nb-checkbox>
            </td>
            </tbody>

            <tbody *ngIf="addressSameAsAbove !== true && configForm?.clientType?.value == 'INDIVIDUAL'">
            <tr>
              <td>
                <strong>Temporary Address</strong>
              </td>

            </tr>
            <br>
            <tr>
              <td><label class="title" for="temporaryProvince">Province</label></td>
              <td>
                <select (change)="getTempDistrictsById(form.temporaryProvince.value?.id , $event)"
                        [compareWith]="compareFn"
                        [ngClass]="{'is-invalid': submitted && form.temporaryProvince.errors}"
                        class="custom-select"
                        formControlName="temporaryProvince"
                        id="temporaryProvince">
                  <option [ngValue]="null" hidden>Province</option>
                  <option *ngFor="let provinceVal of tempProvinceList"
                          [ngValue]="provinceVal">
                    {{provinceVal.name}}
                  </option>
                </select>
              </td>
              <td>
                {{objectValueTranslater?.temporaryProvince}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'temporaryProvince')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="temporaryProvinceCT" [readOnly]="!this['temporaryProvinceCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td><label class="title" for="temporaryDistrict">District</label></td>
              <td>
                <select (change)="getTempMunicipalitiesById(form?.temporaryDistrict.value?.id, $event)"
                        [compareWith]="compareFn"
                        [ngClass]="{'is-invalid': submitted && form.temporaryDistrict.errors}"
                        class="custom-select"
                        formControlName="temporaryDistrict"
                        id="temporaryDistrict">
                  <option [ngValue]="null" hidden>District</option>
                  <option  *ngFor="let districtVal of tempDistricts"
                          [ngValue]="districtVal">
                    {{districtVal.name}}
                  </option>
                </select>
              </td>
              <td>
                {{objectValueTranslater?.temporaryDistrict}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'temporaryDistrict')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="temporaryDistrictCT" [readOnly]="!this['temporaryDistrictCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td><label class="title"
                         for="temporaryMunicipality">Municipality or VDC</label>
              </td>
              <td>
                <select [compareWith]="compareFn"
                        [ngClass]="{'is-invalid': submitted && form.temporaryMunicipality.errors}"
                        class="custom-select"
                        formControlName="temporaryMunicipality"
                        id="temporaryMunicipality"
                        name="municipality">
                  <option [ngValue]="null" hidden>Municipality</option>
                  <option  *ngFor="let municipalityVal of tempMunicipalities"
                          [ngValue]="municipalityVal">
                    {{municipalityVal.name}}
                  </option>
                </select>
              </td>
              <td>
                {{objectValueTranslater?.temporaryMunicipality}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'temporaryMunicipality')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="temporaryMunicipalityCT" [readOnly]="!this['temporaryMunicipalityCheck']"  type="text"/>
              </td>
            </tr>
            <tr>
              <td><label class="title" for="temporaryWard">Ward No</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="temporaryWard"
                       [ngClass]="{'is-invalid': submitted && configForm.permanentWard.errors}"
                       id="temporaryWard"
                       name="temporaryWard" placeholder="Ward No"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.temporaryWard}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'temporaryWard')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="temporaryWardCT" [readOnly]="!this['temporaryWardCheck']"
                       type="text"/>
              </td>
            </tr>

            </tbody>
            <tbody *ngIf="configForm?.clientType?.value == 'INSTITUTION'">
            <tr>
              <td>
                <strong>Registered Address</strong>
              </td>
              <td>
                <select class="form-control" formControlName="registeredMunType"
                        id="registeredMunType"
                        [ngClass]="{'is-invalid': submitted && configForm.registeredMunType.errors}">
                  <option value="0">Municipality</option>
                  <option value="1">VDC</option>
                </select>

              </td>
              <td>{{translatedValues?.registeredMunType}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'registeredMunType')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="registeredMunTypeCT" [readOnly]="!this['registeredMunTypeCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="registeredProvince">Province</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="registeredProvince"
                       [ngClass]="{'is-invalid': submitted && configForm.registeredProvince.errors}"
                       id="registeredProvince"
                       name="registeredProvince" placeholder="Province"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.registeredProvince}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'registeredProvince')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="registeredProvinceCT" [readOnly]="!this['registeredProvinceCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="registeredDistrict">District</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="registeredDistrict"
                       [ngClass]="{'is-invalid': submitted && configForm.registeredDistrict.errors}"
                       id="registeredDistrict"
                       name="registeredDistrict" placeholder="District"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.registeredDistrict}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'registeredDistrict')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="registeredDistrictCT" [readOnly]="!this['registeredDistrictCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title"
                       for="registeredMunicipality">{{configForm.registeredMunType.value == 0
                    ? 'Municipality' : 'VDC'}}</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="registeredMunicipality"
                       [ngClass]="{'is-invalid': submitted && configForm.registeredMunicipality.errors}"
                       id="registeredMunicipality"
                       name="registeredMunicipality"
                       placeholder="{{configForm.registeredMunType.value == 0 ? 'Municipality' : 'VDC'}}"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.registeredMunicipality}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'registeredMunicipality')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="registeredMunicipalityCT" [readOnly]="!this['registeredMunicipalityCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="registeredWard">Ward No</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="permanentWard"
                       [ngClass]="{'is-invalid': submitted && configForm.registeredWard.errors}"
                       id="registeredWard"
                       name="registeredMunicipality" placeholder="Ward No"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.registeredWard}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'registeredWard')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="permanentWardCT" [readOnly]="!this['registeredWardCheck']"
                       type="text"/>
              </td>
            </tr>
            </tbody>
            <tbody *ngIf="configForm?.clientType?.value == 'INSTITUTION'">
            <tr>
              <td>
                <strong>Current Address</strong>
              </td>
              <td class="offset-10 col-md-2">
                <select class="form-control" formControlName="currentMunType"
                        id="currentMunType"
                        [ngClass]="{'is-invalid': submitted && configForm.currentMunType.errors}">
                  <option value="0">Municipality</option>
                  <option value="1">VDC</option>
                </select>
              </td>
              <td>{{translatedValues?.currentMunType}}</td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'currentMunType')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="currentMunTypeCT" [readOnly]="!this['currentMunTypeCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="currentProvince">Province</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="currentProvince"
                       [ngClass]="{'is-invalid': submitted && configForm.currentProvince.errors}"
                       id="currentProvince"
                       name="currentProvince" placeholder="Province"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.currentProvince}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'currentProvince')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="currentProvinceCT" [readOnly]="!this['currentProvinceCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="currentDistrict">District</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="currentDistrict"
                       [ngClass]="{'is-invalid': submitted && configForm.currentDistrict.errors}"
                       id="currentDistrict"
                       name="currentDistrict" placeholder="District"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.currentDistrict}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'currentDistrict')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="currentDistrictCT" [readOnly]="!this['currentDistrictCheck']"
                       type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="currentMunicipality">
                  {{configForm.currentMunType.value == 0 ? 'Municipality' : 'VDC'}}
                </label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="currentMunicipality"
                       [ngClass]="{'is-invalid': submitted && configForm.currentMunicipality.errors}"
                       id="currentMunicipality"
                       name="currentMunicipality"
                       placeholder="{{configForm.currentMunType.value == 0 ? 'Municipality' : 'VDC'}}"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.currentMunicipality}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'currentMunicipality')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="currentMunicipalityCT" [readOnly]="!this['currentMunicipalityCheck']" type="text"/>
              </td>
            </tr>
            <tr>
              <td>
                <label class="title" for="currentWard">Ward No</label>
              </td>
              <td>
                <input class="form-control "
                       formControlName="currentWard"
                       [ngClass]="{'is-invalid': submitted && configForm.currentWard.errors}"
                       id="currentWard"
                       name="currentWard" placeholder="Ward No"
                       type="text"/>
              </td>
              <td>
                {{translatedValues?.currentWard}}
              </td>
              <td>
                <nb-checkbox (change)="checkboxVal($event, 'currentWard')"></nb-checkbox>
              </td>
              <td>
                <input class="form-control nepaliFont" formControlName="currentWardCT" [readOnly]="!this['currentWardCheck']"
                       type="text"/>
              </td>
            </tr>
            </tbody>
          </table>

          <div class="row">
            <div class="col-sm-12">
              <button class="float-right" nbButton size="small" status="info" (click)="translate()">
                Translate Customer Data
              </button>
            </div>
          </div>

          <h4>Guarantors
            <button nbButton status="primary" size="tiny" (click)="addGuarantor()">Add
              Guarantor
            </button>
          </h4>
          <div
              *ngFor="let guarantor of userConfigForm.get('guarantorDetails')['controls']; let i = index;"
              formArrayName="guarantorDetails"
              style="border: 1px solid rgba(255,255,255, 0.1)">
            <table [formGroupName]="i" class="table table-borderless table-4">
              <tr>
                <td>
                  <label class="title">{{i + 1}}. Guarantor Name</label>
                </td>
                <td>
                  <input class="form-control "
                         formControlName="guarantorName"
                         id="guarantorName"
                         autocomplete="off"
                         name="name" placeholder="Guarantor Name"
                         type="text"/>
                </td>
                <td>
                  <input class="form-control" type="text"
                         formControlName="guarantorNameTrans" readonly/>
                </td>
                <td>
                  <nb-checkbox (change)="checkboxVal($event, 'guarantorName')"></nb-checkbox>
                </td>
                <td>
                  <input class="form-control nepaliFont" type="text"
                         formControlName="guarantorNameCT" [readOnly]="!this['guarantorNameCheck']"/>
                </td>
              </tr>
              <tr>
                <td>
                  <label class="title">Citizenship No</label>
                </td>
                <td>
                  <input class="form-control "
                         formControlName="citizenNumber"
                         id="guarantorCitizenshipNum"
                         autocomplete="off"
                         name="name" placeholder="Citizenship No"
                         type="text"/>
                </td>
                <td>
                  <input class="form-control" type="text"
                         formControlName="citizenNumberTrans" readonly/>
                </td>
                <td>
                  <nb-checkbox (change)="checkboxVal($event, 'citizenNumber')"></nb-checkbox>
                </td>
                <td>
                  <input class="form-control nepaliFont" type="text"
                         formControlName="citizenNumberCT" [readOnly]="!this['citizenNumberCheck']"/>
                </td>
              </tr>
              <!--              <tr>-->
              <!--                <td>-->
              <!--                  <label class="title" for="guarantorIssueDate">Citizenship Issue Date</label>-->
              <!--                </td>-->
              <!--                <td>-->
              <!--                  <input-->
              <!--                      *ngIf="calendarType === 'AD'" [nbDatepicker]="issuedYear"-->
              <!--                      class="form-control "-->
              <!--                      formControlName="issuedYear"-->
              <!--                      id="guarantorIssueDate"-->
              <!--                      autocomplete="off"-->
              <!--                      name="name" placeholder="Citizenship Issue Date"-->
              <!--                      type="text"/>-->
              <!--                  &lt;!&ndash;                <app-calendar (messageToEmit)="userConfigForm.get('dob').patchValue($event?.eDate)"&ndash;&gt;-->
              <!--                  &lt;!&ndash;                              *ngIf="calendarType === 'BS'"&ndash;&gt;-->
              <!--                  &lt;!&ndash;                              [ePreDate]="userConfigForm.get('dob').value"></app-calendar>&ndash;&gt;-->
              <!--                  <nb-datepicker format="yyyy-MM-dd" #issuedYear></nb-datepicker>-->
              <!--                </td>-->
              <!--                <td>{{translatedValues?.issuedYear}}</td>
              <td>
              <nb-checkbox (change)="checkboxVal($event, 'issuedYear')"></nb-checkbox>-->
              <!--                <td>
                  <input class="form-control nepaliFont" type="text" formControlName="issuedYear" />
                </td>-->
              <!--              </tr>-->
              <tr>
                <td>
                  <label class="title" for="guarantorIssueDistrict">Citizenship Issue
                    District</label>
                </td>
                <td>
                  <input class="form-control "
                         formControlName="issuedPlace"
                         id="guarantorIssueDistrict"
                         autocomplete="off"
                         name="name" placeholder="Citizenship Issue District"
                         type="text"/>
                </td>
                <td>
                  <input class="form-control" type="text"
                         formControlName="issuedPlaceTrans" readonly/>
                </td>
                <td>
                  <nb-checkbox (change)="checkboxVal($event, 'issuedPlace')"></nb-checkbox>
                </td>
                <td>
                  <input class="form-control nepaliFont" type="text" formControlName="issuedPlaceCT" [readOnly]="!this['issuedPlaceCheck']"/>
                </td>
              </tr>
              <tr>
                <td>
                  <label class="title" for="guarantorAddress">Guarantor Address</label>
                </td>
                <td>
                  <input class="form-control "
                         formControlName="guarantorLegalDocumentAddress"
                         id="guarantorAddress"
                         autocomplete="off"
                         name="name" placeholder="Guarantor Address"
                         type="text"/>
                </td>
                <td>
                  <input class="form-control" type="text"
                         formControlName="guarantorLegalDocumentAddressTrans" readonly/>
                </td>
                <td>
                  <nb-checkbox (change)="checkboxVal($event, 'guarantorLegalDocumentAddress')"></nb-checkbox>
                </td>
                <td>
                  <input class="form-control nepaliFont" type="text"
                         formControlName="guarantorLegalDocumentAddressCT" [readOnly]="!this['guarantorLegalDocumentAddressCheck']"/>
                </td>
              </tr>
              <tr>
                <td>
                  <label class="relationMedium" for="guarantorRelationship">Guarantor
                    Relation</label>
                </td>
                <td>
                  <select class="form-control" formControlName="relationship"
                          id="guarantorRelationship">
                    <option *ngFor="let relationship of relationshipList"
                            [value]="relationship.value">{{relationship?.value}}</option>
                  </select>
                </td>
                <td></td>
                <td></td>
              </tr>
              <tr>
                <td *ngIf="userConfigForm.get('guarantorDetails')['length'] > 1" colspan="2" class="text-left">
                  <button nbButton status="danger" size="tiny" (click)="removeAtIndex(i)"
                          style="position: static">
                    <em class="fa fa-trash" style="color: white;"></em>
                  </button>
                </td>
                <td [attr.colspan]="userConfigForm.get('guarantorDetails')['length'] > 1 ? '3' : '5'" class="text-right">
                  <button nbButton status="info" size="tiny" (click)="translateGuarantorData(i)">
                    Translate Guarantor Data
                  </button>
                </td>
              </tr>
            </table>
          </div>
          <button class="float-right" nbButton (click)="saveCustomer()" [disabled]="disableSave">
            save
          </button>
        </nb-tab>
        <nb-tab tabId="2" tabTitle="Loan Details" [active]="activeLoanTab"
                [disabled]="!activeLoanTab">
          <app-loan-create [data]="responseData" *ngIf="responseData"
                           (cadApprovedData)="getCadApprovedData($event)"
                           [customerType]="customerType"></app-loan-create>
        </nb-tab>
        <nb-tab tabId="3" tabTitle="टेम्प्लेट डाटा" [active]="activeTemplateDataTab"
                [disabled]="!activeTemplateDataTab">
          <app-template-data [cadData]="cadData"></app-template-data>
        </nb-tab>
      </nb-tabset>
    </form>
  </nb-card-body>
  <nb-card-footer>
    <div *ngIf="!hideSaveBtn">
      <div class="col-md-12">
        <!--<button class="float-right" nbButton (click)="save()">save</button>-->
        <!--        <button class="float-right" nbButton status="info" (click)="translate()">Translate</button>-->
      </div>
    </div>
  </nb-card-footer>
</nb-card>
