<nb-card class="m-0" [nbSpinner]="spinner"
          nbSpinnerStatus="primary"
          accent="primary"
          nbSpinnerSize="giant"
          nbSpinnerMessage="Loading data please wait.....">

     <nb-card-body>
         <div class="main-body">

             <div class="row gutters-sm">
                 <div class="col-md-4 mb-3">
                     <div class="card">
                         <div class="card-body">
                             <div class="d-flex flex-column align-items-center text-center">
                                 <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                                 <div class="mt-3">
                                     <h4>{{customerInfoData?.name}}</h4>
                                     <p class="text-secondary mb-1">{{customerInfoData?.customerType |titlecase}} Customer</p>
                                     <!--todo change to address -->
                                     <p class="text-muted font-size-sm">
                                         {{customerInfoData?.branch?.province?.name}} ,
                                         {{customerInfoData?.branch?.district?.name}} ,
                                         {{customerInfoData?.branch?.municipalityVdc?.name}}</p>
                                 </div>
                             </div>
                         </div>
                     </div>
                     <nb-card class="mt-3">
                         <nb-card-header>
                             <h6>Generate Offer Letter</h6>
                         </nb-card-header>
                       <nb-card-body>
                           <div class="row">
                        <div class="col-md-12">
                            <nb-select
                                    #offerLetterType
                                    placeholder="Select Offer Letter"
                                       fullWidth
                                       status="info">
                                <nb-option *ngFor="let i of offerLetterTypes" [value]="i.value">
                                    {{i.key}}
                                </nb-option>
                            </nb-select>
                        </div>
                               <div class="col-md-12 mt-3">
                                   <button nbButton size="small" class="float-right"
                                           (click)="openOfferLetterDocumentModal(offerLetterType?.selected)">Generate</button>
                               </div>
                       </div>

                       </nb-card-body>
                     </nb-card>
                     <nb-card>
                         <nb-card-header>Offer Letter Documents</nb-card-header>
                         <nb-card-body>

                         </nb-card-body>
                     </nb-card>
                 </div>
                 <div class="col-md-8">
                     <div class="card mb-3">
                         <div class="card-body">
                             <div class="row">
                                     <div class="col-sm-3">
                                         <h6 class="mb-0">Branch</h6>
                                     </div>
                                     <div class="col-sm-9 text-secondary">
                                         {{customerInfoData?.branch?.name}}
                                     </div>
                                 </div>
                                 <hr>
                                     <div class="row">
                                 <div class="col-sm-3">
                                     <h6 class="mb-0"> Customer ID</h6>
                                 </div>
                                 <div class="col-sm-9 text-secondary">
                                     {{customerInfoData?.customerCode}}
                                 </div>
                             </div>
                             <hr>
                             <div class="row">
                                 <div class="col-sm-3">
                                     <h6 class="mb-0"> Subsector Code</h6>
                                 </div>
                                 <div class="col-sm-9 text-secondary">
                                     {{customerInfoData?.subSectorDetailCode}}
                                 </div>
                             </div>

                             <hr>
                             <div class="row">
                                 <div class="col-sm-3">
                                     <h6 class="mb-0">Email</h6>
                                 </div>
                                 <div class="col-sm-9 text-secondary">
                                   {{customerInfoData?.email}}
                                 </div>
                             </div>
                             <hr>
                             <div class="row">
                                 <div class="col-sm-3">
                                     <h6 class="mb-0">Phone</h6>
                                 </div>
                                 <div class="col-sm-9 text-secondary">
                                    {{customerInfoData?.contactNo}}
                                 </div>
                             </div>
                             <hr>
                         </div>
                     </div>
                     <div class="row">
                         <div class="col-md-12 mb-3">
                             <nb-card class="h-100" style="min-height: 500px">
                                 <nb-card-header><strong>Loan Information</strong></nb-card-header>
                                 <nb-card-body>
                                      <table class="table table-bordered table-hover text-center sb-small table-sm">
                                          <thead>
                                          <tr class="sb-bg-dark text-white">
                                              <th>S.No.</th>
                                              <th>Loan Facility</th>
                                              <th>Proposed Amount</th>
                                              <th>Status</th>
                                              <th>Created On</th>
                                          </tr>
                                          </thead>
                                          <tbody>
                                         <ng-container>
                                             <tr *ngFor="let model of cadOfferLetterApprovedDoc?.assignedLoan;let i=index">
                                                 <td>{{i + 1}}</td>
                                                 <td>{{model?.loan?.name}}</td>
                                                 <td class="text-right">Rs. {{model?.proposal?.proposedLimit | number}}
                                                 <td>{{model?.documentStatus}}</td>
                                                 <td>
                                                         {{model?.createdAt | date}}
                                                 </td>
                                             </tr>
                                         </ng-container>
                                          </tbody>
                                      </table>
                                 </nb-card-body>
                             </nb-card>
                         </div>
                     </div>
                 </div>
             </div>
         </div>
     </nb-card-body>
 </nb-card>
