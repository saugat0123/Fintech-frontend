<div [nbSpinner]="spinner">
    <form [formGroup]="form">
        <div class="row mt-5">
            <table class="table table-borderless text-center sb-small table-sm">
                <tr>
                    <th></th>
                    <th>Loan Data</th>
                    <th>Nepali Translation</th>
                    <th>Correct Translation</th>
                </tr>
                <tr>
                    <td>Date Of Approval</td>
                    <td>
                        <div class="row" style="margin-left: 5px; margin-top: -8px;">
                            <nb-radio-group name="dateOfApproval">
                                <nb-radio (click)="setDateTypeBS()"><span style="margin-left:-60px">BS</span></nb-radio>
                                <nb-radio (click)="setDateTypeAD()" style="margin-left: 60px;margin-top: -35px;">AD</nb-radio>
                            </nb-radio-group>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                    </td>
                    <td>
                        <nepali-patro *ngIf="dateTypeBS" formControlName="dateOfApproval" [responseType]="2"
                                      [displayNepali]="true">
                        </nepali-patro>
                        <input [nbDatepicker]="doa"
                               *ngIf="dateTypeAD"
                               class="form-control form-control-sm-error rounded"
                               formControlName="dateOfApproval"
                               id="dateOfApproval"
                               name="dateOfApproval"
                               placeholder="Date of Approval"
                               type="text">
                        <nb-datepicker #doa></nb-datepicker>
                    </td>
                </tr>
                <tr>
                    <td>Reference Number</td>
                    <td><input type="text" class="form-control" formControlName="refNumber"/></td>
                    <td class="abc">{{translatedData?.refNumber}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.refNumberTransVal.errors }"
                               formControlName="refNumberTransVal"/>
                        <div *ngIf="submitted && Form.refNumberTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.refNumberTransVal.errors.required">Reference number is required</div>
                        </div>
                    </td>
                </tr>
                <tr style="padding: 12px">
                    <td>Date Of Application</td>
                    <td>
                        <div class="row" style="margin-left: 5px; margin-top: -8px;">
                            <nb-radio-group name="dateofApplication">
                                <nb-radio (click)="setDateTypeBS1()"><span style="margin-left:-60px">BS</span></nb-radio>
                                <nb-radio (click)="setDateTypeAD1()" style="margin-left: 60px;margin-top: -35px;">
                                    AD
                                </nb-radio>
                            </nb-radio-group>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                    </td>
                    <td>
                        <nepali-patro *ngIf="dateTypeBS1" formControlName="dateofApplication" [responseType]="2"
                                      [displayNepali]="true">
                        </nepali-patro>
                        <input [nbDatepicker]="doap"
                               *ngIf="dateTypeAD1"
                               class="form-control form-control-sm-error rounded"
                               formControlName="dateofApplication"
                               id="dateofApplication"
                               name="dateofApplication"
                               placeholder="Date of Application"
                               type="text">
                        <nb-datepicker #doap></nb-datepicker>
                    </td>
                </tr>
                <tr>
                    <td>Purpose Of Loan</td>
                    <td><input type="text" class="form-control" formControlName="loanPurpose"/></td>
                    <td class="abc">{{translatedData?.loanPurpose}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.loanPurposeTransVal.errors }"
                               formControlName="loanPurposeTransVal"/>
                        <div *ngIf="submitted && Form.loanPurposeTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.loanPurposeTransVal.errors.required">Purpose of loan is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Base Rate</td>
                    <td><input type="text" class="form-control" formControlName="baseRate" (input)="calInterestRate()"/></td>
                    <td class="abc">{{translatedData?.baseRate}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.baseRateTransVal.errors }"
                               formControlName="baseRateTransVal"/>
                        <div *ngIf="submitted && Form.baseRateTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.baseRateTransVal.errors.required">Base rate is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Premium Rate</td>
                    <td><input type="text" class="form-control" formControlName="premiumRate" (input)="calInterestRate()"/></td>
                    <td class="abc">{{translatedData?.premiumRate}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.premiumRateTransVal.errors }"
                               formControlName="premiumRateTransVal"/>
                        <div *ngIf="submitted && Form.premiumRateTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.premiumRateTransVal.errors.required">Premium rate is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Interest Rate</td>
                    <td><input type="text" class="form-control" formControlName="yearlyFloatingInterestRate"/></td>
                    <td class="abc">{{translatedData?.yearlyFloatingInterestRate}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.yearlyFloatingInterestRateTransVal.errors }"
                               formControlName="yearlyFloatingInterestRateTransVal"/>
                        <div *ngIf="submitted && Form.yearlyFloatingInterestRateTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.yearlyFloatingInterestRateTransVal.errors.required">Interest rate is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Loan Admin Fee</td>
                    <td>
                        <input type="text" class="form-control"
                               formControlName="loanAdminFee"/>
                    </td>
                    <td class="abc">{{translatedData?.loanAdminFee}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.loanAdminFeeTransVal.errors }"
                               formControlName="loanAdminFeeTransVal"/>
                        <div *ngIf="submitted && Form.loanAdminFeeTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.loanAdminFeeTransVal.errors.required">Loan admin fee is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Emi Amount Figure</td>
                    <td><input type="text" class="form-control"
                               formControlName="emiAmount"
                               (input)="getNumAmountWord('emiAmount', 'emiAmountWords')"/></td>
                    <td class="abc">{{translatedData?.emiAmount}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.emiAmountTransVal.errors }"
                               formControlName="emiAmountTransVal"/>
                        <div *ngIf="submitted && Form.emiAmountTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.emiAmountTransVal.errors.required">EMI amount is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Emi Amount Words</td>
                    <td><input type="text" class="form-control" formControlName="emiAmountWords"/></td>
                    <td class="abc">{{translatedData?.emiAmountWords}}</td>
                    <td>
                        <input type="text" class="form-control" formControlName="emiAmountWordsTransVal"/>
                    </td>
                </tr>
                <tr>
                    <td>Name of Company</td>
                    <td><input type="text" class="form-control" formControlName="companyName"/></td>
                    <td class="abc">{{translatedData?.companyName}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.companyNameTransVal.errors }"
                               formControlName="companyNameTransVal"/>
                        <div *ngIf="submitted && Form.companyNameTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.companyNameTransVal.errors.required">Name of Company is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Name of Branch</td>
                    <td><input type="text" class="form-control" formControlName="branchName"/></td>
                    <td class="abc">{{translatedData?.branchName}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.branchNameTransVal.errors }"
                               formControlName="branchNameTransVal"/>
                        <div *ngIf="submitted && Form.branchNameTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.branchNameTransVal.errors.required">Name of Branch is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Account Number</td>
                    <td><input type="text" class="form-control" formControlName="accountNumber"/></td>
                    <td class="abc">{{translatedData?.accountNumber}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.accountNumberTransVal.errors }"
                               formControlName="accountNumberTransVal"/>
                        <div *ngIf="submitted && Form.accountNumberTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.accountNumberTransVal.errors.required">Account Number is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Relationship Officer Name</td>
                    <td><input type="text" class="form-control" formControlName="relationshipOfficer"/></td>
                    <td class="abc">{{translatedData?.relationshipOfficer}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.relationshipOfficerTransVal.errors }"
                               formControlName="relationshipOfficerTransVal"/>
                        <div *ngIf="submitted && Form.relationshipOfficerTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.relationshipOfficerTransVal.errors.required">Relationship Officer name is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Branch Manager</td>
                    <td><input type="text" class="form-control" formControlName="managerName"/></td>
                    <td class="abc">{{translatedData?.managerName}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.managerNameTransVal.errors }"
                               formControlName="managerNameTransVal"/>
                        <div *ngIf="submitted && Form.managerNameTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.managerNameTransVal.errors.required">Branch Manager name is required</div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Signature Date</td>
                    <td>
                        <div class="row" style="margin-left: 5px; margin-top: -8px;">
                            <nb-radio-group name="signatureDate">
                                <nb-radio (click)="setDateTypeBS2()"><span style="margin-left:-60px">BS</span></nb-radio>
                                <nb-radio (click)="setDateTypeAD2()" style="margin-left: 60px;margin-top: -35px;">AD</nb-radio>
                            </nb-radio-group>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                    </td>
                    <td>
                        <nepali-patro *ngIf="dateTypeBS2" formControlName="signatureDate" [responseType]="2"
                                      [displayNepali]="true">
                        </nepali-patro>
                        <input [nbDatepicker]="dos"
                               *ngIf="dateTypeAD2"
                               class="form-control form-control-sm-error rounded"
                               formControlName="signatureDate"
                               id="signatureDate"
                               name="signatureDate"
                               placeholder="Date of Signature"
                               type="text">
                        <nb-datepicker #dos></nb-datepicker>
                    </td>
                </tr>
                <!--<tr>
                    <td>Witness District</td>
                    <td><input type="text" class="form-control" formControlName="sakshiDistrict"/></td>
                    <td class="abc">{{translatedData?.sakshiDistrict}}</td>
                    <td>
                        <input type="text" class="form-control"
                               formControlName="sakshiDistrictTransVal"/>
                    </td>
                </tr>
                <tr>
                    <td>Witness Municipality</td>
                    <td><input type="text" class="form-control" formControlName="sakshiMunicipality"/></td>
                    <td class="abc">{{translatedData?.sakshiMunicipality}}</td>
                    <td>
                        <input type="text" class="form-control"
                               formControlName="sakshiMunicipalityTransVal"/>
                    </td>
                </tr>
                <tr>
                    <td>Witness Ward No</td>
                    <td><input type="text" class="form-control" formControlName="sakshiWardNum"/></td>
                    <td class="abc">{{translatedData?.sakshiWardNum}}</td>
                    <td>
                        <input type="text" class="form-control"
                               formControlName="sakshiWardNumTransVal"/>
                    </td>
                </tr>
                <tr>
                    <td>Witness Name</td>
                    <td><input type="text" class="form-control" formControlName="sakshiName"/></td>
                    <td class="abc">{{translatedData?.sakshiName}}</td>
                    <td>
                        <input type="text" class="form-control"
                               formControlName="sakshiNameTransVal"/>
                    </td>
                </tr>-->
                <tr>
                    <td>Approval Staff Name</td>
                    <td><input type="text" class="form-control" formControlName="employeeName"/></td>
                    <td class="abc">{{translatedData?.employeeName}}</td>
                    <td>
                        <input type="text" class="form-control"
                               [ngClass]="{ 'is-invalid':submitted && Form.employeeNameTransVal.errors }"
                               formControlName="employeeNameTransVal"/>
                        <div *ngIf="submitted && Form.employeeNameTransVal.errors"
                             class="invalid-feedback">
                            <div *ngIf="Form.employeeNameTransVal.errors.required">Approval Staff name is required</div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </form>
    <button [disabled]="previewBtn" class="float-right" nbButton (click)="openModel()" status="primary">Preview
    </button>
    <button nbButton status="info" (click)="submit()" size="medium" type="submit" class="float-right" [disabled]="btnDisable">Save</button>
    <button nbButton size="medium" class="float-right" (click)="translate()">
        Translate
    </button>
</div>
