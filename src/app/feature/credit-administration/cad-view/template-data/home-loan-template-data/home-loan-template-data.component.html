<nb-card>
<nb-card-header class="container-fluid" [nbSpinner]="spinner">
    <div class="row">
        <div class="col-md-4" style="height: 125px;">
            <form [formGroup]="homeLoanForm">
                <label><strong>Home Loan Case</strong></label>
                <ng-select (change)="typeOfHomeLoan($event)"
                           [multiple]="false"
                           formControlName="homeLoanType"
                           placeholder="Select Case Type">
                    <ng-option *ngFor="let typeOfLoan of homeLoanType" [value]="typeOfLoan.value">{{typeOfLoan.value}}</ng-option>
                </ng-select>
            </form>
        </div>
    </div>
</nb-card-header>
<nb-card-body class="row pt-3 pl-2">
    <div *ngIf="isConstructionLoan">
        <app-construction-loan #constructionLoan [submitted]="submitted" [spinner]="spinner"></app-construction-loan>
    </div>
    <div *ngIf="isPurchaseLoan || isTakeOverLoan">
        <app-home-land-and-building #landAndBuilding [submitted]="submitted" [spinner]="spinner" [isTakeOver]="isTakeOverLoan" [isPurchase]="isPurchaseLoan"></app-home-land-and-building>
    </div>
</nb-card-body>
<nb-card-footer>
    <div class="row d-flex justify-content-end">
        <button nbButton status="primary" size="medium" (click)="onSubmit()" [disabled]="!btnDisable">Save</button>
        <button [disabled]="previewBtn"
                class="float-right" nbButton
                (click)="openModel()"
                status="primary" size="medium">
            Preview
        </button>
        <button class="float-right" nbButton size="medium" (click)="openCloseTemplate(confirm)" status="info" style="margin-right: 0.5em" [disabled]="!closed">
            Close
        </button>
        <ng-template #confirm>
            <div class="modal-header" style="padding-left: 90%">
                <a (click)="dismiss(confirm)" aria-label="Close" class="close pull-right cursor">
                    <span aria-hidden="true">&times;</span>
                </a>
            </div>
            <div class="modal-body" style="text-align:center; font-size: 18px">
                Are you sure you want to close ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" (click)="decline(confirm)">No</button>
                <button type="button" class="btn btn-primary" (click)="accept()">Yes</button>
            </div>
        </ng-template>
    </div>
</nb-card-footer>
</nb-card>
