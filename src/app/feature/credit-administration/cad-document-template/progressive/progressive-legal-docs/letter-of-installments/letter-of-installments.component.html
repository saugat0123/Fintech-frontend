<div [nbSpinner]="spinner" class="container text-justify row nepali"
     id="{{offerLetterConst.LETTER_OF_INSTALLMENT}}">

    <div class="col-md-12 viewFull">
        <form (ngSubmit)="onSumbit()" [formGroup]="form">
            <h6 class="text-center">किस्ताबन्दी–पत्र<br>
                (Letter of Installments)</h6>
            <p class="text-right"> मिति:
                <input class="form-field form-control-sm nepaliFont "
                       formControlName="date"
                       placeholder=""
                       type="text"/>
            </p>
            <b> श्री प्रोग्रेशिभ फाइनान्स लि.</b>
            <br>
            <b> <input class="form-field form-control-sm nepaliFont "
                       formControlName="branchName"
                       placeholder=""
                       type="text"/> शाखा ।</b>
            <br>
            <div class="row col-md-12">
                <p>महोदय,</p>
                <br>
                <p>त्यस वित्तीय संस्थाबाट म/हामी <input class="form-field form-control-sm nepaliFont "
                                                        formControlName="customerName"
                                                        placeholder=""
                                                        type="text"/>
                    लाई जारी गरिएको रु.<input class="form-field form-control-sm nepaliFont "
                                              formControlName="karjaAmount"
                                              placeholder=""
                                              type="text"/>कर्जाको सन्दर्भमा त्यस वित्तीय संस्थाबाट कुनै पनि
                    समयभित्र कर्जा चुक्ता गर्न माग गरिएको अवस्थामा कुनै पूर्वाग्रह नराखी <input
                            class="form-field form-control-sm nepaliFont "
                            formControlName="timePeriod"
                            placeholder=""
                            type="text"/>वर्षको अवधि भित्र रु.<input
                            class="form-field form-control-sm nepaliFont "
                            formControlName="kistaAmount"
                            placeholder=""
                            type="text"/>
                    को प्रत्येक महिनामा किस्तावन्दी स्वरुप
                    पूर्ण कर्जा भुक्तानी गर्न म/हामी दृढ
                    छु/छौं । यदि कुनै किस्ता तोकिएको मितिमा भुक्तानी
                    नभएमा त्यस वित्तीय संस्थालाई सम्पूर्ण कर्जा तुरुन्तभुक्तानीको माग गर्ने अधिकार हुनेछ र
                    म/हामी उपर त्यस वित्तीय संस्थाले सम्पूर्ण हक तथा उपाय कार्यान्वय नगर्न
                    सक्ने छ । म/हामी यकिन गर्दछौं कि त्यस वित्तीय संस्थाले म/हामीलाई सुविधाको निमित्त मात्र
                    किस्तावन्दीको व्यवस्था गरेको हो र साथै म/हामीले त्यस वित्तीय
                    संस्थालाई अनुमोदन गर्दै प्रतिज्ञा–पत्र मा
                    सहिछाप गरीदिएकोमा सोको शर्त बमोजिम सम्पूर्ण कर्जा रकम माग गर्ने अधिकार त्यस बैंकमा
                    सुरक्षित हुनेछ ।
                </p>
                <br>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <p>भवदीय,<br> <input class="form-field form-control-sm nepaliFont "
                                         formControlName="debtorSign"
                                         placeholder=""
                                         type="text"/></p>


                    <br>
                    <p>ऋणीको तर्फबाट आधिकारीक दस्तखत <br>

                        दस्तखत गर्नेको नाम : <input class="form-field form-control-sm nepaliFont "
                                                    formControlName="debtorName"
                                                    placeholder=""
                                                    type="text"/>

                        <br>
                        म/हामी उपरोक्त व्यहोराको दृदता र त्यस बैंकले मुख्य ऋणीहरुलाई कुनै पनि समय
                        वासमयाबधि
                        दिइएकोमा मैले/हामीले सहिछाप गरि दिएको प्रत्याभूति पत्र (Letter of Guarantee/Guarantee
                        Bond)
                        कोशर्तहरु अनुरुप म/हामी उपर कारवाही चलाउन त्यस वित्तीय संस्थाको अधिकारमा कुनै असर पर्ने
                        छैन ।
                    </p>
                </div>
                <br>
                <div class="col-md-12">
                    <p>
                        जमानीवाला
                        <br>
                        <br>

                    <div class="col-md-12 float-right">
                        <button (click)="addGuarantor()" class="btn btn-primary btn-sm float-right " size="tiny"
                                type="button">साक्षी थप्नुहोस्<i class="fas fa-plus"></i></button>
                    </div>
                    <div *ngFor="let guarantor of form.get('guarantorData')['controls']; let i=index"
                         formArrayName="guarantorData">
                        <div [formGroupName]="i">

                            <div>
                                <p> {{i + 1 | nepaliWord:'unicode'}}</p>
                                दस्तखत :................
                                <br>
                                नाम :<input class="form-field form-control-sm nepaliFont "
                                            formControlName="guarantorName"
                                            placeholder=""
                                            type="text"/>
                                <br>
                                ठेगाना :<input class="form-field form-control-sm nepaliFont "
                                               formControlName="guarantorAddress"
                                               placeholder=""
                                               type="text"/>

                                <div *ngIf="form.get('guarantorData')['length']>1" class="col-md-3 float-right">
                                    <button (click)="removeGuarantor(i)"
                                            class="ml-2 mt-1 br-5 btn-danger btn-sm btn-flat"
                                            value="Delete">
                                        <em class="fas fa-trash" style="color: white;">
                                            Delete Guarantor
                                        </em>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class='col-md-12 justify-content-between'>
                <button class="btn btn-primary float-right" nbButton status="success" type="submit">
                    Save
                </button>
            </div>
        </form>
        <button [disabled]="!initialInfoPrint"
                [useExistingCss]="true"
                class="btn btn-primary float-left d-print-none"
                ngxPrint
                printSectionId="print-section-{{ offerLetterConst.LETTER_OF_INSTALLMENT }}"> Print
        </button>
    </div>
</div>


<app-letter-of-installments-print *ngIf="initialInfoPrint" [printDocForm]="initialInfoPrint" hidden>

</app-letter-of-installments-print>

