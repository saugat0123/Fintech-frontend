<div class="container nep text-justify">
    <form [formGroup]="form" class="nep">
        <div class="container nep text-justify">
            <div class="col-md-12 viewFull">
               <div>
                   <p class="text-center" style="font-size: 16pt"><b>विषयः ऋण तमसुक</b>
                   </p>
                   <div>
                       लिखितम् धनीका नाम काठमाण्डौ जिल्ला काठमाण्डौ महानगरपालिका
                       वीणा मार्ग तिनधारा दरवारमार्ग स्थित नबिल सेनटरमा मुख्य कार्यालय रही
                       <input class="form-field form-control-sm"
                              formControlName="nameOfBranch"
                              placeholder="शाखा कार्यालय रहेको नाम"
                              type="text"/>
                       मा शाखा कार्यालय रहेको <b>नबिल बैंक लिमिटेड</b>
                       (जसलाई यस उप्रान्त <b>“धनी बैंक”</b> भनिएको छ) 
                       लिखत गरी दिने ऋणीका नाम -
                       <input class="form-field form-control-sm"
                              formControlName="actName"
                              type="text"/>
                       ऐन
                       <input class="form-field form-control-sm"
                              formControlName="actYearInFigure"
                              type="text"/>
                       बमोजिम नेपाल सरकार
                       <input class="form-field form-control-sm"
                              formControlName="authorizedBody"
                              type="text"/>
                       <input class="form-field form-control-sm"
                              formControlName="headSectionDepartment"
                              placeholder="विभाग प्रमुख"
                              type="text"/>
                       विभाग/कार्यालयमा मिति
                       <input class="form-field form-control-sm"
                              formControlName="registrationDate"
                              placeholder="दर्ता मिति"
                              type="text"/>
                       मा दर्ता भै द.नं.:–
                       <input class="form-field form-control-sm"
                              formControlName="registrationNo"
                              placeholder="दर्ता नं"
                              type="text"/>
                       कायम भएको श्री
                       <input class="form-field form-control-sm"
                              formControlName="companyName"
                              placeholder="कम्पनीको नाम"
                              type="text"/>
                       प्रा.लि. (जसलाई यस उप्रान्त <b>"ऋणी कम्पनी"</b> भनिएको छ) का
                       तर्फवाट ऐ.का अख्तियार प्राप्त

                  <ng-container *ngFor="let partner of companyInfo; let i = index">
                       <ng-container *ngIf="partner?.ownerGender === 'MALE' ||
                            (partner?.ownerGender === 'FEMALE' && partner?.ownerRelationMedium === '1')">
                           <input class="form-field form-control-sm"
                                  placeholder="प्राधिकरण व्यक्तिको नाम"
                                  name="grandfatherNameOfPartner"
                                  [value]="partner?.ownerGrandFatherNameCT"
                                  placeholder=" "
                                  type="text"/>को
                           <ng-container *ngIf="partner?.ownerGender === 'MALE'">नाती</ng-container>
                           <ng-container *ngIf="partner?.ownerGender === 'FEMALE'">नातिनी</ng-container>
                       </ng-container>

                      <ng-container *ngIf="partner?.ownerGender === 'FEMALE' && partner?.ownerRelationMedium === '0'">
                          <input class="form-field form-control-sm"
                                 name="grandfatherNameOfPartner"
                                 [value]="partner?.ownerFatherInLawNameCT"
                                 placeholder=" "
                                 type="text"/>को बुहारी
                      </ng-container>

                      <ng-container *ngIf="partner?.ownerGender === 'MALE' || (partner?.ownerGender === 'FEMALE' && partner?.ownerRelationMedium === '1')">
                          <input class="form-field form-control-sm"
                                 name="fatherNameOfPartner"
                                 [value]="partner?.ownerFatherNameCT"
                                 placeholder=" "
                                 type="text"/>को
                          <ng-container *ngIf="partner?.ownerGender === 'MALE'">छोरा</ng-container>
                          <ng-container *ngIf="partner?.ownerGender === 'FEMALE'">छोरी</ng-container>
                      </ng-container>

                      <ng-container *ngIf="partner?.ownerGender === 'FEMALE' && partner?.ownerRelationMedium === '0'">
                          <input class="form-field form-control-sm"
                                 name="fatherNameOfPartner"
                                 [value]="partner?.ownerHusbandNameCT"
                                 placeholder=" "
                                 type="text"/>को श्रीमती
                      </ng-container>

                      <ng-container *ngIf="partner?.ownerNationality === 'Nepali' || partner?.foreignAddressOption === 'Local'">
                          <input class="form-field form-control-sm"
                                 name="districtOfPartner"
                                 [value]="partner?.ownerPermanentDistrictCT"
                                 placeholder=" "
                                 type="text"/> जिल्ला
                          <input class="form-field form-control-sm"
                                name="vdcNameOfPartner"
                                [value]="partner?.ownerPermanentMunicipalityCT"
                                placeholder=" "
                                type="text"/>
                          <ng-container *ngIf="partner?.ownerPermanentAddressRadio === '0'">न.पा</ng-container>
                          <ng-container *ngIf="partner?.ownerPermanentAddressRadio === '1'">गा.वि.स.</ng-container>
                          <ng-container *ngIf="partner?.ownerPermanentAddressRadio === '2'">गाँउपालिका</ng-container>
                          वडा नं <input class="form-field form-control-sm"
                                        name="wardNoOfPartner"
                                        [value]="partner?.ownerPermanentWardNoCT"
                                        placeholder=" "
                                        type="text"/>
                      </ng-container>

                      <ng-container *ngIf="(partner?.ownerNationality === 'Indian' || partner?.ownerNationality === 'Other')
                             && partner?.foreignAddressOption === 'Foreign'">
                          <input class="form-field form-control-sm"
                                 name="otherAddress"
                                 [value]="partner?.ownerOtherAddressCT"
                                 placeholder=" "
                                 type="text"/>
                      </ng-container>

                      बस्ने बर्ष <input class="form-field form-control-sm"
                                        name="ageOfPartner"
                                        [value]="ageCalculation(partner?.ownerDobCT)"
                                        placeholder=" "
                                        type="text"/>
                      <ng-container *ngIf="partner?.ownerGender === 'MALE'">को</ng-container>
                      <ng-container *ngIf="partner?.ownerGender === 'FEMALE'">की</ng-container>
                      <ng-container *ngIf="partner?.ownerGender === 'MALE'">श्री</ng-container>
                      <ng-container *ngIf="partner?.ownerGender === 'FEMALE' && partner?.ownerRelationMedium === '0'">
                          श्रीमती
                      </ng-container>
                      <ng-container *ngIf="partner?.ownerGender === 'FEMALE' && partner?.ownerRelationMedium === '1'">
                          सुश्री
                      </ng-container>

                      <input class="form-field form-control-sm"
                             name="nameOfPartner"
                             [value]="partner?.ownerNameCT"
                             placeholder=" "
                             type="text"/>)–१,
                  </ng-container>
                       समेत (जसलाई यसपछि ऋणी(हरु) भनिएको छ), आगे हामी म/ऋणी(हरु)लाई
                       <input class="form-field form-control-sm"
                              name="purposeOfLoan"
                              formControlName="purposeOfLoan"
                              [value]="purposeOfLoan"
                              type="text"/>
                       प्रयोजनका लागि
                       <!--Autopopulate but editable-->
                       <ng-container *ngIf="newOrExisting">
                       यस अघी देखी नै तपाई धनी बैंकवाट विभिन्न ऋणकर्जा तथा
                       बैकिङ्ग सुविधाहरु प्राप्त गरी उपभोग गर्दै आएको ठिक सांचो हो  ।
                       हाल म/हामी ऋणी(हरु)लाई उक्त ऋणकर्जा तथा बैंकिङ्ग सुविधा
                       नवीकरण गर्न एवम् थप तथा अतिरिक्त
                       </ng-container>
                       ऋणकर्जा सुविधा आवश्यक भई सोको
                       लागि तपाई धनी बैंकसंग अनुरोध गरेकोमा तपाईं धनी
                       बैंकसंग अनुरोध गरेकोमा तपाई धनी बैंकले मेरो/हाम्रो नाउँमा जारी गरेको मिति
                       <input class="form-field form-control-sm"
                              formControlName="sanctionLetterIssuedDate"
                              placeholder="स्वीकृति पत्र जारी मिति"
                              type="text"/>
                       को ऋण स्वीकृति पत्रानुसार स्वीकृत देहाय बमोजिमका ऋणकर्जा तथा बैकिङ्ग सुविधाहरु
                       सोही ऋण स्वीकृति पत्रमा उल्लेखित तरिका बमोजिम प्राप्त गर्ने गरी यो ऋणकर्जाको तमसुक गरिदिएको ठिक
                       सांचो हो । तपाई धनी बैंकबाट प्राप्त ऋणकर्जा तथा बैकिङ्ग सुविधाहरुमा लाग्ने ब्याज, कमिशन, शुल्क आदि
                       स्वीकृत ऋणकर्जा तथा बैकिङ्ग सुविधाहरु तल उल्लेखित खण्ड खण्डमा उल्लेख भएको दर अनुसार तिरी बुझाई \
                       सोही खण्डमा लेखिएको मिति भित्रमा वा स्वीकृत ऋणकर्जा तथा बैकिङ्ग सुविधा नवीकरण भएमा नवीकरण भएको
                       बखत तपाई धनी बैंकले म/हामी ऋणी(हरु)का नाममा जारी गर्ने ऋण स्वीकृति पत्रमा तोकिएको मिति
                       भित्रमा म/हामी ऋणी(हरु) आफै वा प्रतिनिधि मार्फत तपाई धनी बैंकमा उपस्थित भै सोधखोज गरी धनी
                       बैंकलाई तिर्नु बुझाउनु पर्ने ऋणकर्जाको सम्पूर्ण ब्याज चुक्ताभूक्तान गर्नेछु/छौं ।
                       म/हामी ऋणी(हरु)को नाममा स्वीकृत बैकिङ्ग सुविधा (एल.सी., ग्यारेण्टी, बण्ड आदि)
                       उपभोग गर्दा तपाई धनी बैंक उपर कुनै थप दायित्व श्रृजना भएमा त्यस्तो थप दायित्व तपाई धनी बैंकले
                       माग गर्नासाथ तिर्ने बुझाउने छु/छौं । स्वीकृत ऋणकर्जा तथा बैकिङ्ग सुविधा तथा भविष्यमा तपाई धनी
                       बैंकले उपलब्ध गराउने थप ऋणकर्जा तथा सुविधाहरु समेतको सुरक्षण वापत म/हामी ऋणी(हरु)को
                       निजी श्रोतबाट खरिद गरेको, श्रृजना भएको र तपाई धनी बैंकबाट प्राप्त ऋणकर्जाबाट खरिद वा आयात गरेको,
                       श्रृजना गरेको लगायत म ऋणीको नाममा रहे भएको सम्पूर्ण चल अचल श्रीसम्पत्तिहरु तथा भविष्यमा म/हामी
                       ऋणी(हरु)को नाममा कायम हुने श्रीसम्पत्ति तथा म/हामी ऋणी(हरु)को भुक्तानी  प्राप्त गर्न बांकि रकमहरु
                       (Account Receivables)
                       समेत यसै लिखतबाट तपाई धनी बैंकको नाममा धितोबन्धक लेखिदिएको छु/छौं ।
                       सोको अलावा तपसिलमा उल्लेख गरे बमोजिमको सम्पत्ति समेत छुट्टै लिखतबाट तपाई
                       धनी बैंकको नाममा धितोबन्धकको लिखत लेखिदिई सकेको छ ।
                       प्राप्त ऋणकर्जाको तपाई धनी बैंकलाई तिर्नु पर्ने साँवा, व्याज, कमिशन, शुल्क
                       आदि यसै लिखत तथा उल्लेखित ऋण स्वीकृति पत्रानुसार तोकिएको तरिका बमोजिम
                       नतिरे नबुझाएमा वा तिर्नु बुझाउन आलटाल गरेमा वा किस्ता खिलाफी गरेमा वा ऋण
                       स्वीकृति पत्र तथा यसै लिखतको कुनै शर्त उल्लंघन गरेमा समेत म/हामी ऋणी(हरु)को
                       नाममा तपाई धनी बैंकमा खोलेको निक्षेप खातामा जम्मा रहेको रकमबाट कट्टा गरी तथा
                       धितो लेखिदिएको सम्पत्ति बैंक तथा वित्तिय संस्था सम्बन्धी ऐन २०७३ बमोजिम लिलाम विक्री
                       तथा अन्य व्यवस्था गरी तपाई धनी बैंकको सम्पूर्ण लेना असुल उपर गरिलिनु होला । कथमकदाचित
                       धितो लेखिएको श्रीसम्पत्ति कच्चा नकरा ठहरी लिलाम बिक्री हुन नसकेमा वा लिलाम विक्री हुंदा
                       समेत तपाई धनी बैंकको सम्पूर्ण लेना रकम असुल उपर नभएमा मेरो/हाम्रो घरघरानाको श्रीसम्पत्तिबाट
                       असुल उपर गरी लिनु होला भनी देहायका साक्षीहरुको रोहवरमा तपाई धनी बैंकको कार्यालयमा बसी
                       यो लिखतमा सहिछाप गरी तपाई धनी बैंकलाई दियौं र यसको दोहरी समेत बुझिलिए/लियौं ।
                   </div>
               </div>
            </div>
            <div>
                <p class="text-center" style="font-size: 12pt"><strong>स्विकृत ऋणकर्जाको विवरण</strong></p>
                <table class="table-bordered" style="width: 100%">
                    <thead>
                    <tr>
                        <th>ऋणकर्जा वा बैंकिङ्ग सुविधा</th>
                        <th>रकम</th>
                        <th>ब्याज र कमिसन</th>
                        <th>अन्तिम चुक्ताभुक्तान गर्ने वा बहाल मिति</th>
                    </tr>
                    </thead>
                    <tbody *ngIf="this.cadData.offerDocumentList[0].docName !== 'Combined Offer Letter'">
                    <tr *ngFor="let loan of cadData?.assignedLoan">
                        <td>{{loan?.loan?.nepaliName || loan?.loan?.name}}</td>
                        <td>{{convertNepaliNumberAmount(loan?.proposal?.proposedLimit)}}</td>
                        <td>{{this.interestRate}}%</td>
                        <td><input class="form-field form-control-sm"
                                   name="dateOfExpirySingle"
                                   formControlName="dateOfExpirySingle"
                                   placeholder=""
                                   type="text"/>
                        </td>
                    </tr>
                    </tbody>
                    <tbody *ngIf="this.cadData.offerDocumentList[0].docName === 'Combined Offer Letter'">
                    <tr *ngFor="let free of form.get(['combinedFreeText'])['controls']; let i = index"
                        formArrayName="combinedFreeText">
                        <ng-container [formGroupName]="i">
                            <td>{{newTempData[i]?.loanNepaliName}}</td>
                            <td>{{newTempData[i]?.loanAmount}}</td>
                            <td><input class="form-field form-control-sm"
                                       name="interestRateCombined"
                                       formControlName="interestRateCombined"
                                       placeholder=""
                                       type="text"/></td>
                            <td><input class="form-field form-control-sm"
                                       name="dateOfExpiry"
                                       formControlName="dateOfExpiry"
                                       placeholder=""
                                       type="text"/></td>
                        </ng-container>
                    </tr>
                    </tbody>
                </table>
                <P><strong>कुल ऋणकर्जा तथा बैंकिङ्ग सुविधा रु.<input
                        class="form-field form-control-sm outside disable-print col-2"
                        (input)="getNumAmountWord('loanAmountInFigure', 'loanAmountInWords')"
                        name="loanAmountInFigure"
                        formControlName="loanAmountInFigure"
                        placeholder="ऋण रकम"
                        type="text"/>।
                    (अक्षरेपी <input class="form-field form-control-sm outside disable-print col-2"
                                     name="loanAmountInWords"
                                     formControlName="loanAmountInWords"
                                     placeholder="रकम"
                                     type="text"/>मात्र)</strong></P>
                <div *ngIf="primarySecurityTypeCheck">
                    <div class="mt-lg-5">
                        <p class="text-center" style="font-size: 12pt"><strong>तपसिल</strong></p>
                        उपरोक्त ऋणकर्जा तथा बैंकिग सुविधाको सुरक्षण वापत देहाय बमोजिमको घरजग्गा तपाई
                        धनी बैंकको नाममा धितो बन्धक पारित गरिदिएका छौं।<br>
                        <table class="table-bordered mt-2" style="width: 100%">
                            <thead>
                            <tr>
                                <th>घरजग्गा धनी</th>
                                <th>जिल्ला</th>
                                <th>नगर</th>
                                <th>वडा नं.</th>
                                <th>कित्ता नं.</th>
                                <th>क्षेत्रफल</th>
                            </tr>
                            </thead>
                            <tbody *ngFor="let security of initialInfo.securities.primarySecurity; let i = index">
                            <ng-container
                                    *ngIf="security?.securityType === 'LAND' || security?.securityType === 'LAND_AND_BUILDING'">
                                <tr>
                                    <td [attr.rowspan]="security?.propertyDetails?.length + 1">{{security?.securityOwnersNameCT}}</td>
                                    <td [attr.rowspan]="security?.propertyDetails?.length + 1">{{security?.securityOwnersDistrictCT}}</td>
                                    <td [attr.rowspan]="security?.propertyDetails?.length + 1">{{security?.securityOwnersMunicipalityCT}}</td>
                                </tr>
                                <tr *ngFor="let details of security?.propertyDetails;">
                                    <td>{{details?.securityOwnersWardNoCT}}</td>
                                    <td>{{details?.securityOwnersKittaNoCT}}</td>
                                    <td>{{details?.securityOwnersLandAreaCT}}</td>
                                </tr>
                            </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div *ngIf="secondarySecurityTypeCheck">
                    <div class="mt-lg-5">
                        <p class="text-center" style="font-size: 12pt"><strong>तपसिल</strong></p>
                        उपरोक्त ऋणकर्जा तथा बैंकिग सुविधाको सुरक्षण वापत देहाय बमोजिमको घरजग्गा तपाई
                        धनी बैंकको नाममा धितो बन्धक पारित गरिदिएका छौं।<br>
                        <table class="table-bordered mt-2" style="width: 100%">
                            <thead>
                            <tr>
                                <th>घरजग्गा धनी</th>
                                <th>जिल्ला</th>
                                <th>नगर</th>
                                <th>वडा नं.</th>
                                <th>कित्ता नं.</th>
                                <th>क्षेत्रफल</th>
                            </tr>
                            </thead>
                            <tbody *ngFor="let security of initialInfo.securities.secondarySecurity; let i = index">
                            <ng-container
                                    *ngIf="security?.securityType === 'LAND' || security?.securityType === 'LAND_AND_BUILDING'">
                                <tr>
                                    <td [attr.rowspan]="security?.propertyDetails?.length + 1">{{security?.securityOwnersNameCT}}</td>
                                    <td [attr.rowspan]="security?.propertyDetails?.length + 1">{{security?.securityOwnersDistrictCT}}</td>
                                    <td [attr.rowspan]="security?.propertyDetails?.length + 1">{{security?.securityOwnersMunicipalityCT}}</td>
                                </tr>
                                <tr *ngFor="let details of security?.propertyDetails;">
                                    <td>{{details?.securityOwnersWardNoCT}}</td>
                                    <td>{{details?.securityOwnersKittaNoCT}}</td>
                                    <td>{{details?.securityOwnersLandAreaCT}}</td>
                                </tr>
                            </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div *ngIf="SecurityTypeCheck">
                    <div class="mt-lg-5">
                        <p class="text-center" style="font-size: 12pt"><strong>तपसिल</strong></p>
                        उपरोक्त ऋणकर्जा तथा बैंकिग सुविधाको सुरक्षण वापत देहाय बमोजिमको घरजग्गा तपाई
                        धनी बैंकको नाममा धितो बन्धक पारित गरिदिएका छौं।<br>
                        <table class="table-bordered mt-2" style="width: 100%">
                            <thead>
                            <tr>
                                <th>घरजग्गा धनी</th>
                                <th>जिल्ला</th>
                                <th>नगर</th>
                                <th>वडा नं.</th>
                                <th>कित्ता नं.</th>
                                <th>क्षेत्रफल</th>
                            </tr>
                            </thead>
                            <tbody *ngFor="let security of initialInfo.securities; let i = index">
                            <tr>
                                <td>{{security?.securityOwnersNameCT}}</td>
                                <td>{{security?.securityOwnersDistrictCT}}</td>
                                <td>{{security?.securityOwnersMunicipalityCT}}</td>
                                <td>{{security?.securityOwnersWardNoCT}}</td>
                                <td>{{security?.securityOwnersKittaNoCT}}</td>
                                <td>{{security?.securityOwnersLandAreaCT}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="mt-4" *ngIf="autoCheck">
                    <p class="text-center" style="margin-top: -1em;"><b>तपसिल</b></p>
                    <p style="margin-top: -1em;">
                        उपरोक्त ऋणकर्जाको सुरक्षण बापत निम्न बमोजिमको सवारी साधन तपांई धनी बैंकको नाममा नामसारी
                        गरीदिएको छु/छौं ।
                    </p>
                    <p><strong>
                        सवारी साधनको विवरण :
                    </strong>
                    </p>
                    <p style="padding-left: 1.6em;line-height: 2em;margin-top: -1em">
                        १. सवारी साधनकाे प्रकार: _________________________
                        <br/>
                        २. इन्जीन नं. _________________________________
                        <br/>
                        ३. च्यासीस नं. ________________________________
                        <br/>
                        ४. गाडी नं. __________________________________
                    </p>
                </div>
                <div class="col-md-12 mt-3">
                    <ckeditor formControlName="freeText1" [config]="ckEditorConfig"></ckeditor>
                </div>
                <div class="col-md-12">
                    <p class="text-center"><strong><u>साक्षी</u></strong></p>
                    १. .............................. जिल्ला .................................
                    न.पा/गा.वि.स. वडा नं. ............................
                    बस्ने बर्ष. ...................को/की ...........................<br>
                    २.कारणीले प्रस्तुत लिखत मेरो सामुन्ने सहिछाप गरेको हो भनी सनाखत गर्ने नविल बैंक
                    लिमिटेडका कर्मचारी ...............................................
                </div>
                <div class="mt-lg-3">
                    <div class="col-md-12">
                        <p>
                            ईति सम्वत् ..................साल ................महिना
                            .............. गते रोज ...................... शुभम्
                            ..........................
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-12 text-right disable-print">
                <button nbButton status="info" class="mb-4 float-right disable-print"
                        [useExistingCss]="true"
                        ngxPrint printSectionId="{{offerLetterConst.LOAN_DEED_COMPANY}}Print">Print
                </button>
                <button nbButton status="success" class="disable-print" (click)="submit()">Save</button>
            </div>
        </div>
    </form>
</div>
