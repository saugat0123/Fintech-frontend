<nb-card class="m-0" accent="primary" [nbSpinner]="spinner"
         nbSpinnerStatus="primary"
         nbSpinnerSize="giant">
    <nb-card-header>
        <div class="row">
            <div class="col-md-12 text-right" *ngIf="fromProfile">
                <nb-radio-group [(ngModel)]="calendarType" class="d-inline-flex"
                                name="securityInitialInfoCalendarType">
                    <nb-radio value="AD">AD</nb-radio>
                    <nb-radio value="BS">BS</nb-radio>
                </nb-radio-group>
            </div>
        </div>
    </nb-card-header>
    <nb-card-body>
        <form [formGroup]="reviewDate" class="form-horizontal">
            <div class="row form-group">
                <div class="col-md-4">
                    <label>Last Review Date</label>
                    <ng-container *ngIf="checked; else na">
                        <input class="form-control"
                               [readOnly]="true"
                               formControlName="lastReviewDate"
                               placeholder="Last Review Date"/>
                    </ng-container>
                    <ng-template #na>
                        <input [nbDatepicker]="lastReviewDate"
                               *ngIf="calendarType === 'AD'"
                               class="form-control date-picker"
                               formControlName="lastReviewDate"
                               placeholder="Last Review Date"/>
                        <input *ngIf="calendarType === 'BS'" formControlName="lastReviewDate" hidden>
                        <app-calendar *ngIf="calendarType === 'BS'"
                                      [ePreDate]="reviewDate?.get('lastReviewDate')?.value"></app-calendar>
                        <nb-datepicker #lastReviewDate></nb-datepicker>
                    </ng-template>
                </div>
                <div class="col-md-4">
                    <label>Next Review Date</label>
                    <ng-container *ngIf="checked; else na">
                        <input class="form-control"
                               [readOnly]="true"
                               formControlName="nextReviewDate"
                               placeholder="Next Review Date"/>
                    </ng-container>
                    <ng-template #na>
                        <input [nbDatepicker]="nextReviewDate"
                               *ngIf="calendarType === 'AD'"
                               class="form-control date-picker"
                               formControlName="nextReviewDate"
                               placeholder="Next Review Date"/>
                        <input *ngIf="calendarType === 'BS'"
                               formControlName="nextReviewDate" hidden>
                        <app-calendar *ngIf="calendarType === 'BS'"
                                      [ePreDate]="reviewDate?.get('nextReviewDate')?.value"></app-calendar>
                        <nb-datepicker #nextReviewDate></nb-datepicker>
                    </ng-template>
                </div>
                <div class="col-md-4 py-4">
                    <nb-checkbox (change)="checkChecked($event.target.checked)"
                                 [checked]="checked" formControlName="checked"><b>NA</b>
                    </nb-checkbox>
                </div>
            </div>

            <nb-card-footer *ngIf="fromProfile">
                <button (click)="submitForm()" class="btn float-right" nbButton type="submit">Save</button>
            </nb-card-footer>
        </form>
    </nb-card-body>
</nb-card>



