<div class="col-md-12" *ngIf="fromProfile">
    <nb-card>
        <nb-card-header>
            Counter Party Risk Rating
        </nb-card-header>
        <nb-card-body>
            <div class="col-md-12">
                <div class="form-group">
                    <label for="file"><b>Sign Sheet Upload</b></label>
                    <br>
                    <input type="file" accept="application/pdf" id="file" placeholder="Upload" nbButton (input)="upload($event)">
                    <span *ngIf="data?.file" class="col-md-3 img-hover flex-wrap"
                          nbTooltip="CRG CCBL">
                  <a (click)="commonService.openDocument(data?.file)" class="cursor"><em
                          [className]="commonService.SET_CLASS_NAME"></em>
                  </a>
                </span>
                </div>
            </div>
            <div class="col-md-12" class="d-flex">
                <div class="mr-5">
                    <label for="score"><b>Obtained Score :</b></label>
                    <br>
                    <input [(ngModel)]="obtainedScore" (change)="calculateCCBL()" name="obtainedScore" id="score" nbInput>
                </div>
                <div>
                    <nb-card-body>
                        <label><b>Fiscal Year :</b></label>
                        <br>
                        <nb-select placeholder="Select Fiscal Year" style="width: 230px !important;" [(ngModel)]="selectedFiscalYear">
                            <nb-option name="selectedFiscalYear" *ngFor="let fiscalYear of fiscalYearArray" [value]="fiscalYear.year">{{fiscalYear.year}}
                                <ng-container *ngIf="fiscalYear?.isCurrentYear"> (Current Year)</ng-container>
                            </nb-option>
                        </nb-select>
                    </nb-card-body>
                </div>
            </div>
            <div class="col-md-4">
                <br>
                <table class="table table-responsive-md sb-small table-sm table-bordered">
                    <tr>
                        <th style="width: 75%" class="sb-bg-dark">Credit Scoring</th>
                        <td style="width: 25%">{{obtainedScore}}</td>
                    </tr>
                    <tr>
                        <th style="width: 75%" class="sb-bg-dark">CCBL Rating</th>
                        <td style="width: 25%">{{thresholdPoint}}</td>
                    </tr>
                    <tr>
                        <th style="width: 75%" class="sb-bg-dark">Outcome</th>
                        <td style="width: 25%">{{thresholdOutcome}}</td>
                    </tr>
                </table>
            </div>
            <button class="float-right" nbButton (click)="save()">Save</button>
        </nb-card-body>
    </nb-card>
</div>
<nb-card *ngIf="!fromProfile">
    <nb-card-header>
        CRG - CCBL
    </nb-card-header>
    <nb-card-body>
        <div class="col-md-12">
            <div class="form-group">
                <label><strong>Sign Sheet</strong></label>
                <br>
                <span style="height: 40px;width: 40px;" *ngIf="data?.file" class="col-md-3 img-hover flex-wrap"
                      nbTooltip="Financial CCBL">
                             <a (click)="commonService.openDocument(data?.file)" class="cursor"><em
                                     [className]="commonService.SET_CLASS_NAME"></em></a>
                </span>
            </div>
        </div>
        <div class="col-md-12">
            <br>
            <label><strong>Obtained Score</strong></label>
            <p>{{obtainedScore}}</p>
        </div>

    </nb-card-body>
</nb-card>

