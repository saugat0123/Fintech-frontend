<section>
    <table aria-describedby="Grade details table"
           class="table table-bordered text-center">
        <tr>
            <th scope="col">Number</th>
            <th scope="col">Grading</th>
            <th scope="col">Short</th>
            <th scope="col">Score</th>
        </tr>
        <tr>
            <td>1</td>
            <td>Superior</td>
            <td>SUP</td>
            <td>
                Fully cash secured, secured by
                Government/International Bank
                Guarantee
            </td>
        </tr>
        <tr>
            <td>2</td>
            <td>Good</td>
            <td>GD</td>
            <td>85+</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Acceptable</td>
            <td>ACCEPT</td>
            <td>75-84</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Marginal/Watchlist</td>
            <td>MG/WL</td>
            <td>65-74</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Special Mention</td>
            <td>SM</td>
            <td>55-64</td>
        </tr>
        <tr>
            <td>6</td>
            <td>Substandard</td>
            <td>SS</td>
            <td>45-54</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Doubtful</td>
            <td>DF</td>
            <td>35-44</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Bad & Loss</td>
            <td>BL</td>
            <td><35</td>
        </tr>
    </table>

    <form [formGroup]="creditRiskGrading">
        <table class="table table-bordered table-striped">
            <thead>
            <tr>
                <th>SN.</th>
                <th>Criteria</th>
                <th>Weight</th>
                <th>Parameter</th>
                <th *ngIf="fromProfile">Score</th>
                <th *ngIf="fromProfile">Actual Parameter</th>
                <th>Score Obtained</th>
            </tr>
            </thead>
            <tbody>

            <tr>
                <td></td>

                <td width="280px">
                    <b>A. Financial Risk</b>
                    <br><br>
                    <p>
                        1. Leverage: (15%)
                        Debt Equity Ratio (x) - Times
                        Total Liabilities to Tangible Net worth

                        All calculations should be based on annual financial
                        statements of the borrower (audited preferred).
                    </p>
                </td>
                <td>
                    50%
                </td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('leverage').value === undefined ? '' :
                    leverageMap.get(creditRiskGrading.get('leverage').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let leverage of leverageMap | keyvalue: asIsOrder">
                                {{ leverage.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let leverage of leverageMap | keyvalue: asIsOrder">
                                {{ leverage.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let lev of leverageMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('leverage', lev.key)"
                                   [checked]="totalPointMapper.get('leverage') === lev.key"
                                   [value]="lev.key"
                                   class="form-control-input"
                                   formControlName="leverage"
                                   id="leverage"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('leverage').value === undefined ? '' : creditRiskGrading.get('leverage').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        2. Liquidity: (15%)

                        Current Ratio (x) - Times
                        Current Assets to Current Liabilities
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('liquidity').value === undefined ? '' :
                    liquidityMap.get(creditRiskGrading.get('liquidity').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let liquidity of liquidityMap | keyvalue: asIsOrder">
                                {{ liquidity.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let liquidity of liquidityMap | keyvalue: asIsOrder">
                                {{ liquidity.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let liq of liquidityMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('liquidity', liq.key)"
                                   [checked]="totalPointMapper.get('liquidity') === liq.key" [value]="liq.key"
                                   class="form-control-input"
                                   formControlName="liquidity"
                                   id="liquidity"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('liquidity').value === undefined ? '' : creditRiskGrading.get('liquidity').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        3. Profitability: (15%)
                        Operating Profit Margin (%)
                        (Operating Profit/Sales) * 100
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('profit').value === undefined ? '' :
                    profitMap.get(creditRiskGrading.get('profit').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let profit of profitMap | keyvalue: asIsOrder">
                                {{ profit.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let profit of profitMap | keyvalue: asIsOrder">
                                {{ profit.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let pro of profitMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('profit', pro.key)"
                                   [checked]="totalPointMapper.get('profit') === pro.key" [value]="pro.key"
                                   class="form-control-input"
                                   formControlName="profit"
                                   id="profit"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('profit').value === undefined ? '' : creditRiskGrading.get('profit').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        4. Coverage: (5%)
                        Interest Coverage Ratio (x) - Times
                        Earning Before Interest & Tax (EBIT) / Interest on debt
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('coverage').value === undefined ? '' :
                    coverageMap.get(creditRiskGrading.get('coverage').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let coverage of coverageMap | keyvalue: asIsOrder">
                                {{ coverage.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let coverage of coverageMap | keyvalue: asIsOrder">
                                {{ coverage.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let cov of coverageMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('coverage', cov.key)"
                                   [checked]="totalPointMapper.get('coverage') === cov.key" [value]="cov.key"
                                   class="form-control-input"
                                   formControlName="coverage"
                                   id="coverage"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('coverage').value === undefined ? '' : creditRiskGrading.get('coverage').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td width="280px">
                    <b>B. Business/Industry Risk</b>
                    <br><br>
                    <p>
                        1. Size of Business (Sales in BDT crore)

                        The size of the borrower's business
                        measured by the most recent year's total sales.
                        Preferably based on audited financial statements
                    </p>
                </td>
                <td>
                    18%
                </td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('sizeOfBusiness').value === undefined ? '' :
                    sizeOfBusinessMap.get(creditRiskGrading.get('sizeOfBusiness').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let sizeOfBusiness of sizeOfBusinessMap | keyvalue: asIsOrder">
                                {{ sizeOfBusiness.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let sizeOfBusiness of sizeOfBusinessMap | keyvalue: asIsOrder">
                                {{ sizeOfBusiness.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let sob of sizeOfBusinessMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('sizeOfBusiness', sob.key)"
                                   [checked]="totalPointMapper.get('sizeOfBusiness') === sob.key" [value]="sob.key"
                                   class="form-control-input"
                                   formControlName="sizeOfBusiness"
                                   id="sizeOfBusiness"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('sizeOfBusiness').value === undefined ? '' : creditRiskGrading.get('sizeOfBusiness').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        2. Age of Business

                        The number of years the borrower has been engaged in the
                        primary line of business.

                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('ageOfBusiness').value === undefined ? '' :
                    ageOfBusinessMap.get(creditRiskGrading.get('ageOfBusiness').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let ageOfBusiness of ageOfBusinessMap | keyvalue: asIsOrder">
                                {{ ageOfBusiness.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let ageOfBusiness of ageOfBusinessMap | keyvalue: asIsOrder">
                                {{ ageOfBusiness.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let aob of ageOfBusinessMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('ageOfBusiness', aob.key)"
                                   [checked]="totalPointMapper.get('ageOfBusiness') === aob.key" [value]="aob.key"
                                   class="form-control-input"
                                   formControlName="ageOfBusiness"
                                   id="ageOfBusiness"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('ageOfBusiness').value === undefined ? '' : creditRiskGrading.get('ageOfBusiness').value}}</td>

            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        3. Business Outlook

                        A critical assessment of the medium term prospects
                        of the borrower, taking into account the industry, market
                        share and economic factors.
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('businessOutlook').value === undefined ? '' :
                    businessOutlookMap.get(creditRiskGrading.get('businessOutlook').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let businessOutlook of businessOutlookMap | keyvalue: asIsOrder">
                                {{ businessOutlook.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let businessOutlook of businessOutlookMap | keyvalue: asIsOrder">
                                {{ businessOutlook.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let bok of businessOutlookMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('businessOutlook', bok.key)"
                                   [checked]="totalPointMapper.get('businessOutlook') === bok.key" [value]="bok.key"
                                   class="form-control-input"
                                   formControlName="businessOutlook"
                                   id="businessOutlook"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('businessOutlook').value === undefined ? '' : creditRiskGrading.get('businessOutlook').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        4. Industry Growth
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('industryGrowth').value === undefined ? '' :
                    industryGrowthMap.get(creditRiskGrading.get('industryGrowth').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let industryGrowth of industryGrowthMap | keyvalue: asIsOrder">
                                {{ industryGrowth.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let industryGrowth of industryGrowthMap | keyvalue: asIsOrder">
                                {{ industryGrowth.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let ig of industryGrowthMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('industryGrowth', ig.key)"
                                   [checked]="totalPointMapper.get('industryGrowth') === ig.key" [value]="ig.key"
                                   class="form-control-input"
                                   formControlName="industryGrowth"
                                   id="industryGrowth"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('industryGrowth').value === undefined ? '' : creditRiskGrading.get('industryGrowth').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        5. Market Competition
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('marketCompetition').value === undefined ? '' :
                    marketCompetitionMap.get(creditRiskGrading.get('marketCompetition').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let marketCompetition of marketCompetitionMap | keyvalue: asIsOrder">
                                {{ marketCompetition.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let marketCompetition of marketCompetitionMap | keyvalue: asIsOrder">
                                {{ marketCompetition.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let market of marketCompetitionMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('marketCompetition', market.key)"
                                   [checked]="totalPointMapper.get('marketCompetition') === market.key"
                                   [value]="market.key"
                                   class="form-control-input"
                                   formControlName="marketCompetition"
                                   id="marketCompetition"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('marketCompetition').value === undefined ? '' : creditRiskGrading.get('marketCompetition').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        6. Entry/Exit Barriers
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('entryExitBarriers').value === undefined ? '' :
                    entryExitBarriersMap.get(creditRiskGrading.get('entryExitBarriers').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let entryExitBarriers of entryExitBarriersMap | keyvalue: asIsOrder">
                                {{ entryExitBarriers.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let entryExitBarriers of entryExitBarriersMap | keyvalue: asIsOrder">
                                {{ entryExitBarriers.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let barriers of entryExitBarriersMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('entryExitBarriers', barriers.key)"
                                   [checked]="totalPointMapper.get('entryExitBarriers') === barriers.key"
                                   [value]="barriers.key"
                                   class="form-control-input"
                                   formControlName="entryExitBarriers"
                                   id="entryExitBarriers"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('entryExitBarriers').value === undefined ? '' : creditRiskGrading.get('entryExitBarriers').value}}</td>
            </tr>

            <tr>
                <td></td>

                <td width="280px">
                    <b>C. Management Risk</b>
                    <br><br>
                    <p>
                        1. Experience
                        (Management & Management Team)

                        The quality of management based on
                        the aggregate number of years that
                        the Senior Management Team has been
                        in the industry.
                    </p>
                </td>
                <td>
                    12%
                </td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('experience').value === undefined ? '' :
                    experienceMap.get(creditRiskGrading.get('experience').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let experience of experienceMap | keyvalue: asIsOrder">
                                {{ experience.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let experience of experienceMap | keyvalue: asIsOrder">
                                {{ experience.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let exp of experienceMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('experience', exp.key)"
                                   [checked]="totalPointMapper.get('experience') === exp.key" [value]="exp.key"
                                   class="form-control-input"
                                   formControlName="experience"
                                   id="experience"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('experience').value === undefined ? '' : creditRiskGrading.get('experience').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        2. Second Line/ Succession

                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('secondLineSuccession').value === undefined ? '' :
                    secondLineSuccessionMap.get(creditRiskGrading.get('secondLineSuccession').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let secondLineSuccession of secondLineSuccessionMap | keyvalue: asIsOrder">
                                {{ secondLineSuccession.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let secondLineSuccession of secondLineSuccessionMap | keyvalue: asIsOrder">
                                {{ secondLineSuccession.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let secondSuccession of secondLineSuccessionMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('secondLineSuccession', secondSuccession.key)"
                                   [checked]="totalPointMapper.get('secondLineSuccession') === secondSuccession.key"
                                   [value]="secondSuccession.key"
                                   class="form-control-input"
                                   formControlName="secondLineSuccession"
                                   id="secondLineSuccession"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('secondLineSuccession').value === undefined ? '' : creditRiskGrading.get('secondLineSuccession').value}}</td>

            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        3. Team Work
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('teamWork').value === undefined ? '' :
                    teamWorkMap.get(creditRiskGrading.get('teamWork').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let teamWork of teamWorkMap | keyvalue: asIsOrder">
                                {{ teamWork.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let teamWork of teamWorkMap | keyvalue: asIsOrder">
                                {{ teamWork.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let tw of teamWorkMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('teamWork', tw.key)"
                                   [checked]="totalPointMapper.get('teamWork') === tw.key"
                                   [value]="tw.key"
                                   class="form-control-input"
                                   formControlName="teamWork"
                                   id="teamWork"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('teamWork').value === undefined ? '' : creditRiskGrading.get('teamWork').value}}</td>
            </tr>

            <tr>
                <td></td>

                <td width="280px">
                    <b>D. Security Risk</b>
                    <br><br>
                    <p>
                        1. Security Coverage (Primary)
                    </p>
                </td>
                <td>
                    10%
                </td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('securityCoverage').value === undefined ? '' :
                    securityCoverageMap.get(creditRiskGrading.get('securityCoverage').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let securityCoverage of securityCoverageMap | keyvalue: asIsOrder">
                                {{ securityCoverage.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let securityCoverage of securityCoverageMap | keyvalue: asIsOrder">
                                {{ securityCoverage.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let sc of securityCoverageMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('securityCoverage', sc.key)"
                                   [checked]="totalPointMapper.get('securityCoverage') === sc.key"
                                   [value]="sc.key"
                                   class="form-control-input"
                                   formControlName="securityCoverage"
                                   id="securityCoverage"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('securityCoverage').value === undefined ? '' : creditRiskGrading.get('securityCoverage').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        2. Collateral Coverage
                        (Property Location)

                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('collateralCoverage').value === undefined ? '' :
                    collateralCoverageMap.get(creditRiskGrading.get('collateralCoverage').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let collateralCoverage of collateralCoverageMap | keyvalue: asIsOrder">
                                {{ collateralCoverage.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let collateralCoverage of collateralCoverageMap | keyvalue: asIsOrder">
                                {{ collateralCoverage.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let cc of collateralCoverageMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('collateralCoverage', cc.key)"
                                   [checked]="totalPointMapper.get('collateralCoverage') === cc.key"
                                   [value]="cc.key"
                                   class="form-control-input"
                                   formControlName="collateralCoverage"
                                   id="collateralCoverage"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('collateralCoverage').value === undefined ? '' : creditRiskGrading.get('collateralCoverage').value}}</td>

            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        3. Support (Guarantee)
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('support').value === undefined ? '' :
                    supportMap.get(creditRiskGrading.get('support').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let support of supportMap | keyvalue: asIsOrder">
                                {{ support.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let support of supportMap | keyvalue: asIsOrder">
                                {{ support.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let spt of supportMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('support', spt.key)"
                                   [checked]="totalPointMapper.get('support') === spt.key"
                                   [value]="spt.key"
                                   class="form-control-input"
                                   formControlName="support"
                                   id="support"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('support').value === undefined ? '' : creditRiskGrading.get('support').value}}</td>
            </tr>

            <tr>
                <td></td>

                <td width="280px">
                    <b>E. Relationship Risk</b>
                    <br><br>
                    <p>
                        1. Account Conduct
                    </p>
                </td>
                <td>
                    10%
                </td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('accountConduct').value === undefined ? '' :
                    accountConductMap.get(creditRiskGrading.get('accountConduct').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let accountConduct of accountConductMap | keyvalue: asIsOrder">
                                {{ accountConduct.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let accountConduct of accountConductMap | keyvalue: asIsOrder">
                                {{ accountConduct.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let ac of accountConductMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('accountConduct', ac.key)"
                                   [checked]="totalPointMapper.get('accountConduct') === ac.key"
                                   [value]="ac.key"
                                   class="form-control-input"
                                   formControlName="accountConduct"
                                   id="accountConduct"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('accountConduct').value === undefined ? '' : creditRiskGrading.get('accountConduct').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        2. Utilization of Limit
                        (actual/projection)

                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('utilizationOfLimit').value === undefined ? '' :
                    utilizationOfLimitMap.get(creditRiskGrading.get('utilizationOfLimit').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let utilizationOfLimit of utilizationOfLimitMap | keyvalue: asIsOrder">
                                {{ utilizationOfLimit.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let utilizationOfLimit of utilizationOfLimitMap | keyvalue: asIsOrder">
                                {{ utilizationOfLimit.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let ul of utilizationOfLimitMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('utilizationOfLimit', ul.key)"
                                   [checked]="totalPointMapper.get('utilizationOfLimit') === ul.key"
                                   [value]="ul.key"
                                   class="form-control-input"
                                   formControlName="utilizationOfLimit"
                                   id="utilizationOfLimit"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('utilizationOfLimit').value === undefined ? '' : creditRiskGrading.get('utilizationOfLimit').value}}</td>

            </tr>
            <tr>
                <td></td>
                <td>
                    <p>
                        3. Compliance of
                        Covenants / Conditions
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('complianceOfCovenants').value === undefined ? '' :
                    complianceOfCovenantsMap.get(creditRiskGrading.get('complianceOfCovenants').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let complianceOfCovenants of complianceOfCovenantsMap | keyvalue: asIsOrder">
                                {{ complianceOfCovenants.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let complianceOfCovenants of complianceOfCovenantsMap | keyvalue: asIsOrder">
                                {{ complianceOfCovenants.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let coc of complianceOfCovenantsMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('complianceOfCovenants', coc.key)"
                                   [checked]="totalPointMapper.get('complianceOfCovenants') === coc.key"
                                   [value]="coc.key"
                                   class="form-control-input"
                                   formControlName="complianceOfCovenants"
                                   id="complianceOfCovenants"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('complianceOfCovenants').value === undefined ? '' : creditRiskGrading.get('complianceOfCovenants').value}}</td>
            </tr>

            <tr>
                <td></td>
                <td>
                    <p>
                        4. Personal Deposits

                        The extent to which the bank maintains
                        a personal banking relationship with the key
                        business sponsors/principals.
                    </p>
                </td>
                <td></td>
                <td *ngIf="!fromProfile">{{creditRiskGrading.get('personalDeposits').value === undefined ? '' :
                    personalDepositsMap.get(creditRiskGrading.get('personalDeposits').value)}}</td>
                <ng-container *ngIf="fromProfile">
                    <td>
                        <ul>
                            <li *ngFor="let personalDeposits of personalDepositsMap | keyvalue: asIsOrder">
                                {{ personalDeposits.value }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul class="list-unstyled">
                            <li *ngFor="let personalDeposits of personalDepositsMap | keyvalue: asIsOrder">
                                {{ personalDeposits.key }}
                            </li>
                        </ul>
                    </td>
                    <td>
                        <div *ngFor="let pd of personalDepositsMap | keyvalue: asIsOrder; let i = index">
                            <input (change)="onChangeOption('personalDeposits', pd.key)"
                                   [checked]="totalPointMapper.get('personalDeposits') === pd.key"
                                   [value]="pd.key"
                                   class="form-control-input"
                                   formControlName="personalDeposits"
                                   id="personalDeposits"
                                   type="radio"><br>
                        </div>
                    </td>
                </ng-container>
                <td>{{creditRiskGrading.get('personalDeposits').value === undefined ? '' : creditRiskGrading.get('personalDeposits').value}}</td>
            </tr>
            <tr>
                <th class="text-center" colspan="2"><b>Grading:</b> {{grading === undefined ? '' : grading}}</th>
                <th [attr.colspan]="totalPointsColspan" class="text-center">Total Score:</th>
                <th class="text-center">{{totalPoints === undefined ? '' : totalPoints}}</th>
            </tr>
            </tbody>
        </table>
    </form>
    <div *ngIf="fromProfile" class="py-4 d-flex justify-content-end">
        <button (click)="onSubmit()" nbButton type="button">save</button>
    </div>
</section>

