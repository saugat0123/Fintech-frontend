<div class="col-md-12">
    <div class="d-flex justify-content-end">
        <nb-radio-group [(ngModel)]="calendarType" class="d-inline-flex"
                        name="guarantorCalendarType">
            <nb-radio value="AD">AD</nb-radio>
            <nb-radio value="BS">BS</nb-radio>
        </nb-radio-group>
    </div>
</div>
<nb-card [nbSpinner]="spinner"
         nbSpinnerStatus="primary"
         nbSpinnerSize="large"
         nbSpinnerMessage="Loading Data Please Wait..."
         status="primary">
    <nb-card-body>
        <form [formGroup]="siteVisitFormGroup" class="form-horizontal">
            <div class="row justify-content-around">
                <div class="col-md-4">
                    <nb-checkbox [checked]="currentResidentForm"
                                 (change)="checkboxSelected('currentResident',$event.target.checked)">
                        Current Resident
                    </nb-checkbox>
                </div>
                <div class="col-md-4">
                    <nb-checkbox [checked]="businessSiteVisitForm"
                                 (change)="checkboxSelected('businessSiteVisit',$event.target.checked)">
                        Business Site Visit
                    </nb-checkbox>
                </div>
                <div class="col-md-4" *ngIf="customerInfo?.customerType === 'INSTITUTION'">
                    <nb-checkbox [checked]="currentAssetsInspectionForm"
                                 (change)="checkboxSelected('currentAssetsInspection',$event.target.checked)">
                        Current Assets Inspection
                    </nb-checkbox>
                </div>
            </div>
            <div [hidden]="!currentResidentForm" class="row mt-3" formGroupName="currentResidentDetails">
                <h4 class="col-md-12">Current Resident</h4>
               <div class="col-md-12">
                   <app-common-address [address]="formDataForEdit?.currentResidentDetails?.address" #currentResidentAddress></app-common-address>
               </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="nearBy">Near By</label>
                    <input class="form-control" formControlName="nearBy" id="nearBy" name="nearBy"
                           [ngClass]="{ 'is-invalid': (submitted) && siteVisitFormGroup.get('currentResidentDetails')?.get('nearBy')?.errors }"
                           placeholder="near by" type="text">
                    <div *ngIf="(submitted) && siteVisitFormGroup.get('currentResidentDetails')?.get('nearBy')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('currentResidentDetails')?.get('nearBy')?.errors.required">Value is required</span>
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label class="ownerName" for="ownerName">Owner Name</label>
                    <input class="form-control" formControlName="ownerName" id="ownerName" name="ownerName"
                           [ngClass]="{ 'is-invalid': (submitted) && siteVisitFormGroup.get('currentResidentDetails')?.get('ownerName')?.errors }"
                           placeholder="owner name" type="text">
                    <div *ngIf="(submitted) && siteVisitFormGroup.get('currentResidentDetails')?.get('ownerName')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('currentResidentDetails')?.get('ownerName')?.errors.required">owner Name is required</span>
                        <span *ngIf="siteVisitFormGroup.get('currentResidentDetails')?.get('ownerName')?.errors.pattern">Invalid Owner Name</span>
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeNameDesignation"
                           for="staffRepresentativeNameDesignation">Staff Representative Designation 1</label>
                    <select class="form-control"
                            formControlName="staffRepresentativeNameDesignation"
                            id="staffRepresentativeNameDesignation"
                            name="staffRepresentativeNameDesignation">
                        <option [ngValue]="null" hidden>Staff Representative Designation 1</option>
                        <option *ngFor="let designation of designationList"
                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                    </select>
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeName" for="staffRepresentativeName">Staff Representative Name 1</label>
                    <input class="form-control" formControlName="staffRepresentativeName"
                           id="staffRepresentativeName" name="staffRepresentativeName"
                           placeholder="Staff Representative Name 1" type="text">
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeNameDesignation2"
                           for="staffRepresentativeNameDesignation2">Staff Representative Designation 2</label>
                    <select class="form-control"
                            formControlName="staffRepresentativeNameDesignation2"
                            id="staffRepresentativeNameDesignation2"
                            name="staffRepresentativeNameDesignation2">
                        <option [ngValue]="null">Staff Representative Designation 2
                        </option>
                         <option *ngFor="let designation of designationList"
                                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                    </select>
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeName2"
                           for="staffRepresentativeName2">Staff Representative Name 2</label>
                    <input class="form-control" formControlName="staffRepresentativeName2"
                           id="staffRepresentativeName2"
                           name="staffRepresentativeName2"
                           placeholder="Staff Representative Name 2" type="text">
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Finding & Comment</label>
                        <textarea class="form-control pr-0" formControlName="findingComment"
                                  id="findingComment"
                                  name="findingComment" placeholder="Finding & Comment" rows="3"
                                  type="text"></textarea>
                    </div>
                </div>
                <div>
                    <label class="ml-2"><strong>Location Detail</strong></label>
                </div>
                <div class="row col-md-12">
                        <div class="col-md-4">
                            <label for="currentSiteVisitLongitude">Longitude</label>
                            <input type="number" class="form-control" id="currentSiteVisitLongitude"
                                   formControlName="currentSiteVisitLongitude" name="currentSiteVisitLongitude"
                                   placeholder="Longitude">
                        </div>
                        <div class="col-md-4">
                            <label for="currentSiteVisitLatitude">Latitude</label>
                            <input type="number" class="form-control" id="currentSiteVisitLatitude"
                                   formControlName="currentSiteVisiLatitude" name="currentSiteVisiLatitude"
                                   placeholder="Latitude">
                        </div>
                </div>

<!--                <div class=" input-group mb-3">-->
<!--                    <input class="form-control pr-0" formControlName="locationPreview" id="locationPreview1"-->
<!--                           name="locationPreview"-->
<!--                           type="text">-->
<!--                    <div class=" input-group-append">-->
<!--                        <button (click)="findLocation1()" class="btn btn-light">Find Location</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <agm-map (mapClick)="placeMaker1($event.coords.lat,$event.coords.lng)"-->
<!--                         [clickableIcons]='false'-->
<!--                         [fullscreenControl]='true'-->
<!--                         [latitude]="latitude"-->
<!--                         [longitude]="longitude"-->
<!--                         [mapTypeControl]='true'-->
<!--                         [zoom]="zoom"-->
<!--                         style="height: 200px; width: 100%;">-->
<!--                    <agm-marker [latitude]="markerLatitude" [longitude]="markerLongitude">-->
<!--                        <agm-info-window [isOpen]="infoWindowOpen.value">-->
<!--                            {{addressLabel.value}}-->
<!--                        </agm-info-window>-->
<!--                    </agm-marker>-->
<!--                </agm-map>-->
            </div>
            <div [hidden]="!businessSiteVisitForm" class="row mt-3"
                 formGroupName="businessSiteVisitDetails">
                <h4 class="col-md-12">Business Site Visit</h4>
                <div class="col-md-12">
                    <app-common-address #businessOfficeAddress [address]="formDataForEdit?.businessSiteVisitDetails?.officeAddress"></app-common-address>
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="nameOfThePersonContacted">Name Of The Person Contacted</label>
                    <input class="form-control" formControlName="nameOfThePersonContacted"
                           [ngClass]="{ 'is-invalid': (business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('nameOfThePersonContacted')?.errors }"
                           id="nameOfThePersonContacted"
                           name="nameOfThePersonContacted" placeholder="name of the person contacted"
                           type="text">
                    <div *ngIf="(business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('nameOfThePersonContacted')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('nameOfThePersonContacted')?.errors.required">Name is required</span>
                        <span *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('nameOfThePersonContacted')?.errors.pattern">Invalid person name</span>
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="dateOfVisit">Date Of Visit</label>
                    <input [nbDatepicker]="datepicker3" class="form-control" formControlName="dateOfVisit"
                           *ngIf="calendarType === 'AD'"
                           [ngClass]="{ 'is-invalid': (business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('dateOfVisit')?.errors }"
                           id="dateOfVisit" placeholder="date of visit">
                    <app-calendar
                            [ePreDate]="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('dateOfVisit')?.value"
                            *ngIf="calendarType === 'BS'"
                            (messageToEmit)="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('dateOfVisit').patchValue($event?.eDate)"></app-calendar>
                    <nb-datepicker #datepicker3></nb-datepicker>
                    <div *ngIf="(business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('dateOfVisit')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('dateOfVisit')?.errors.required">Date is required</span>
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="objectiveOfVisit">Objective Of Visit</label>
                    <input class="form-control" formControlName="objectiveOfVisit" id="objectiveOfVisit"
                           [ngClass]="{ 'is-invalid': (business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('objectiveOfVisit')?.errors }"
                           name="objectiveOfVisit" placeholder="objective of visit" type="text">
                    <div *ngIf="(business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('objectiveOfVisit')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('objectiveOfVisit')?.errors.required">objective is required</span>
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="unit">Unit</label>
                    <input class="form-control" formControlName="unit" id="unit"
                           [ngClass]="{ 'is-invalid': (business) && siteVisitFormGroup.get('unit')?.get('unit')?.errors }"
                           name="unit" placeholder="unit" type="text">
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeNameDesignation"
                           for="staffRepresentativeNameDesignation">Staff Representative Designation 1</label>
                    <select class="form-control"
                            formControlName="staffRepresentativeNameDesignation"
                            id="staffRepresentativeNameDesignationBusiness"
                            name="staffRepresentativeNameDesignation">
                        <option [ngValue]="null" hidden>Staff Representative Designation 1</option>
                         <option *ngFor="let designation of designationList"
                                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                    </select>
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeName" for="staffRepresentativeName">Staff Representative Name 1</label>
                    <input class="form-control" formControlName="staffRepresentativeName"
                           id="staffRepresentativeNameBusiness" name="staffRepresentativeName"
                           placeholder="Staff Representative Name 1" type="text">
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeNameDesignation2"
                           for="staffRepresentativeNameDesignation2">Staff Representative Designation 2</label>
                    <select class="form-control"
                            formControlName="staffRepresentativeNameDesignation2"
                            id="staffRepresentativeNameDesignationBusiness2"
                            name="staffRepresentativeNameDesignation2">
                        <option [ngValue]="null">Staff Representative Designation 2 </option>
                         <option *ngFor="let designation of designationList"
                                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                    </select>
                </div>
                <div class="col-md-4 form-group">
                    <label class="staffRepresentativeName2"
                           for="staffRepresentativeName2">Staff Representative Name 2</label>
                    <input class="form-control" formControlName="staffRepresentativeName2"
                           id="staffRepresentativeNameBusiness2"
                           name="staffRepresentativeName2"
                           placeholder="Staff Representative Name 2" type="text">
                </div>

                <!-- <div class="form-group col-md-4">
                     <label class="title" for="mapAddress">Map Address</label>
                     <input class="form-control col-md-12" formControlName="mapAddress" id="mapAddress"
                            [ngClass]="{ 'is-invalid': (business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('mapAddress')?.errors }"
                            name="mapAddress" placeholder="address"
                            type="text">
                     <div *ngIf="(business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('mapAddress')?.invalid"
                          class="invalid-feedback">
                         <span *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('mapAddress')?.errors.required">address is required</span>
                     </div>
                 </div>-->
                <div class="col-md-8 form-group">
                    <label class="title" for="findingsAndComments">Finding And Comments</label>
                    <textarea class="form-control" formControlName="findingsAndComments"
                              [ngClass]="{ 'is-invalid': (business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('findingsAndComments')?.errors }"
                              id="findingsAndComments" name="findingsAndComments"
                              placeholder="findings and comments"
                              row="3"></textarea>
                    <div *ngIf="(business) && siteVisitFormGroup.get('businessSiteVisitDetails')?.get('findingsAndComments')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('findingsAndComments')?.errors.required">comments required</span>
                    </div>
                </div>
                    <div class="row col-md-12 ml-1">
                        <label><strong>Location Detail</strong></label>
                    </div>
                    <div class="row col-md-12">
                        <div class="col-md-4">
                                <label class="title" for="businessSiteVisitLongitude">Longitude</label>
                            <input class="form-control" formControlName="businessSiteVisitLongitude"
                                   id="businessSiteVisitLongitude"
                                   name="businessSiteVisitLongitude" placeholder="Longitude"
                                   type="number">
                        </div>
                        <div class="col-md-4">
                                <label class="title" for="businessSiteVisitLatitude">Latitude</label>
                            <input class="form-control" formControlName="businessSiteVisitLatitude"
                                   id="businessSiteVisitLatitude"
                                   name="businessSiteVisitLatitude" placeholder="Latitude"
                                   type="number">
                        </div>
                    </div>
                <div class="row col-md-12 ml-1 mt-3">
                    <label><strong>Net Trading Assets</strong></label>
                </div>
                <div class="row col-md-12">
                    <div class="col-md-4 form-group">
                        <label class="title" for="inventory">Inventory</label>
                        <input (change)="calculateNetTradingAssests()"
                               class="form-control" formControlName="inventory"
                               id="inventory"
                               name="inventory" placeholder="Inventory"
                               type="number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="title" for="accountsReceivable">Accounts Receivable</label>
                        <input (change)="calculateNetTradingAssests()"
                               class="form-control" formControlName="accountsReceivable"
                               id="accountsReceivable"
                               name="accountsReceivable" placeholder="Accounts Receivable"
                               type="number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="title" for="accountsPayable">Accounts Payable</label>
                        <input (change)="calculateNetTradingAssests()"
                               class="form-control" formControlName="accountsPayable"
                               id="accountsPayable"
                               name="accountsPayable" placeholder="Accounts Payable"
                               type="number">
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="title" for="businessNetTradingAssets">Net Trading Assets</label>
                        <input class="form-control" formControlName="businessNetTradingAssets"
                               id="businessNetTradingAssets"
                               name="businessNetTradingAssets" placeholder="Net Trading Assets"
                               type="number" readonly>
                    </div>
                    <div class="col-md-4 form-group">
                        <label class="title" for="accountsPayable">Proposed Limit as % of NTA </label>
                        <input class="form-control" formControlName="proposedLimitNta"
                               id="proposedLimitNta"
                               name="proposedLimitNta" placeholder="Proposed Limit as % of NTA"
                               type="number">
                    </div>
                </div>
                <table class="table table-bordered table-responsive-md text-center">
                    <tr class="text-white sb-bg-dark">
                        <th>S.N</th>
                        <th>Particulars</th>
                        <th>Response</th>
                    </tr>
                    <tr class="text-left">
                        <td>1.</td>
                        <td class="text-justify px-2">Premises, where goods are stored is (are)
                        </td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Owned</th>
                                    <th>Rented</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of options"><input
                                            [value]="option" formControlName="premises" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>2.</td>
                        <td class="text-justify px-2">If rented, Rent Payment Current
                        </td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                    <th>NA</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of optionList"><input
                                            [value]="option" formControlName="rentPayment" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>3.</td>
                        <td class="text-justify px-2">Rent Receipt Shown
                        </td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                    <th>NA</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of optionList"><input
                                            [value]="option" formControlName="rentReceipt" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>4.</td>
                        <td class="text-justify px-2">All the goods belong to the borrower and that none are held on account of third parties (on consignment or otherwise).
                        </td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="borrowerRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>5.</td>
                        <td class="text-justify px-2">Valuation does not include any goods released under T/R and/or against acceptance.</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="valuationRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>6.</td>
                        <td class="text-justify px-2">Was there evidence of any other bank or party being interested in the goods hypothecated to the Bank?
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="evidenceRadio" type="radio">
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left" *ngIf="siteVisitFormGroup.get('businessSiteVisitDetails')?.get('evidenceRadio').value === 'Yes'">
                        <td>6.1.</td>
                        <td class="text-justify px-2">If, yes mention the names of banks/other parties.</td>
                        <td>
                            <input class="form-control" formControlName="nameOfBank"
                                    id="nameOfBank"
                                    name="nameOfBank"
                                    type="text">
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>7.</td>
                        <td class="text-justify px-2">Was the security in order?</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="securityRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>8.</td>
                        <td class="text-justify px-2">Are the stock registers up-to-date?</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="stockRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>9.</td>
                        <td class="text-justify px-2">Are firefighting arrangements in evidence?</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="fireFightingRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>10.</td>
                        <td class="text-justify px-2">Is the building / go-down / store in good condition?</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="buildingRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>11.</td>
                        <td class="text-justify px-2">Are goods of a hazardous nature stored on the premises?</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of yesNo"><input
                                            [value]="option" formControlName="hazardousRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>12</td>
                        <td class="text-justify px-2">Factors of environment & social risk assessed during the inspection?</td>
                        <td>
                            <table class="table table-borderless table-responsive-md text-center">
                                <tr>
                                    <th>Yes</th>
                                    <th>No</th>
                                    <th>NA</th>
                                </tr>
                                <tr>
                                    <td *ngFor="let option of optionList"><input
                                            [value]="option" formControlName="environmentRadio" type="radio"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td>12.1.</td>
                        <td class="text-justify px-2"> Remarks/updates, if any:</td>
                        <td>
                            <textarea class="form-control" formControlName="remarksUpdates"
                                      id="remarksUpdates"
                                      name="remarksUpdates"
                                      type="text"></textarea>
                        </td>
                    </tr>
                    <tr class="text-left">
                        <td colspan="3">
                            <textarea class="form-control" formControlName="remarksIfAny"
                                      id="remarksIfAny"
                                      name="remarksIfAny"
                                      type="text"></textarea>
                        </td>
                    </tr>
                </table>

<!--                <div class="input-group mb-3">-->
<!--                    <input class="form-control pr-0" formControlName="locationPreview" id="locationPreview"-->
<!--                           name="locationPreview"-->
<!--                           type="text">-->
<!--                    <div class="input-group-append">-->
<!--                        <button (click)="findLocation()" class="btn btn-light">Find Location</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <agm-map (mapClick)="placeMaker($event.coords.lat,$event.coords.lng)"-->
<!--                         [clickableIcons]='false'-->
<!--                         [fullscreenControl]='true'-->
<!--                         [latitude]="latitude"-->
<!--                         [longitude]="longitude"-->
<!--                         [mapTypeControl]='true'-->
<!--                         [zoom]="zoom"-->
<!--                         style="height: 200px; width: 100%;">-->
<!--                    <agm-marker [latitude]="markerLatitude" [longitude]="markerLongitude">-->
<!--                        <agm-info-window [isOpen]="infoWindowOpen.value">-->
<!--                            {{addressLabel.value}}-->
<!--                        </agm-info-window>-->
<!--                    </agm-marker>-->
<!--                </agm-map>-->
            </div>
            <div [hidden]="!currentAssetsInspectionForm" class="row mt-3"
                 formGroupName="currentAssetsInspectionDetails">
                <h4 class="col-md-12">Current Assets Inspection - Stock</h4>
                <div class="col-md-4 form-group">
                    <label class="title" for="dateOfInspection">Date Of Inspection</label>
                    <input [nbDatepicker]="datepicker1" class="form-control"
                           [ngClass]="{ 'is-invalid': (current) && siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('dateOfInspection')?.errors }"
                           formControlName="dateOfInspection"
                           id="dateOfInspection" placeholder="date of inspection"
                           *ngIf="calendarType === 'AD'">
                    <app-calendar
                            [ePreDate]="siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('dateOfInspection')?.value"
                            *ngIf="calendarType === 'BS'"
                            (messageToEmit)="siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('dateOfInspection').patchValue($event?.eDate)"></app-calendar>

                    <nb-datepicker #datepicker1 ></nb-datepicker>
                    <div *ngIf="(current) && siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('dateOfInspection')?.invalid"
                         class="invalid-feedback">
                        <span *ngIf="siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('dateOfInspection')?.errors.required">Date is required</span>
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="particularsOfGoodInspected">Particulars Of Good
                        Inspected</label>
                    <input class="form-control" formControlName="particularsOfGoodInspected"
                           id="particularsOfGoodInspected" name="particularsOfGoodInspected"
                           placeholder="particulars of good inspected">
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="stockValueReported">Stock Value Reported</label>
                    <input class="form-control" formControlName="stockValueReported"
                           id="stockValueReported" name="stockValueReported"
                           placeholder="0.0" type="number" appDecimalNumber>
                </div>
                <div class="col-md-4 form-group">
                    <label class="title" for="rents">Is the Premise self owned or rented?</label>
                    <select class="custom-select" formControlName="rents"
                            id="rents" name="rents">
                        <option [ngValue]="''" hidden>Select Rent</option>
                        <option value="Self owned">Self owned</option>
                        <option value="Rented/Leased">Rented/Leased</option>
                    </select>
                </div>
                <div class="col-md-4 form-group" *ngIf="siteVisitFormGroup.get(['currentAssetsInspectionDetails','rents']).value === 'Rented/Leased'">
                    <label class="title" for="rents">Is copy of rental/leased agreement obtained?</label>
                    <select class="custom-select" formControlName="rentLeased"
                            id="rentLeased" name="rentLeased">
                        <option [ngValue]="null" hidden>Is copy of rental/leased agreement obtained?</option>
                        <option *ngFor="let data of yesNo" [ngValue]="data">{{data}}</option>
                    </select>
                </div>
                <div class="col-md-4 form-group" *ngIf="siteVisitFormGroup.get(['currentAssetsInspectionDetails','rents']).value === 'Rented/Leased'">
                    <label class="title" for="isRentPmtUpToDate">IS Rent Pmt. Up to Date?</label>
                    <select class="custom-select" formControlName="isRentPmtUpToDate"
                            id="isRentPmtUpToDate" name="isRentPmtUpToDate">
                        <option [ngValue]="''" hidden>Is rent payment up to date?</option>
                        <option *ngFor="let data of yesNo" [ngValue]="data">{{data}}</option>
                    </select>
                </div>
                <div class="col-md-4 form-group" *ngIf="siteVisitFormGroup.get(['currentAssetsInspectionDetails','rents']).value === 'Rented/Leased'">
                    <label class="title" for="isRentReceiptShown">IS Rent Receipt Up to Date?</label>
                    <select class="custom-select" formControlName="isRentReceiptShown"
                            id="isRentReceiptShown" name="isRentReceiptShown">
                        <option [ngValue]="''" hidden>Is rent payment up to date?</option>
                        <option *ngFor="let data of yesNo" [ngValue]="data">{{data}}</option>
                    </select>
                </div>

                <h4 class="col-md-12 mt-3">Insurance Verification</h4>
                <div class="row col-md-12 mt-3" formGroupName="insuranceVerification">
                        <div class="col-md-4 form-group">
                            <label class="title" for="assetsMortgaged">Assets Mortgaged</label>
                            <input class="form-control" formControlName="assetsMortgaged" id="assetsMortgaged"
                                   name="assetsMortgaged" placeholder="assets mortgaged" type="number">
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="title" for="insuredAmount">Insured Amount</label>
                            <input class="form-control" formControlName="insuredAmount" id="insuredAmount"
                                   name="insuredAmount" placeholder="insured amount" type="number" appDecimalNumber>
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="title" for="insuranceCompany">Insurance Company</label>
                            <select class="form-control" formControlName="insuranceCompany"
                                   id="insuranceCompany" name="insuranceCompany">
                                <option [ngValue]="null">Select Insurance Company</option>
                                <option *ngFor="let insurance of insuranceList" [ngValue]="insurance.id">{{insurance.name}}</option>

                            </select>
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="title" for="expiryDate">Expiry Date</label>
                            <input [nbDatepicker]="datepicker2" class="form-control" formControlName="expiryDate"
                                   id="expiryDate" placeholder="expiry date" *ngIf="calendarType === 'AD'">
                            <app-calendar
                                    [ePreDate]="siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('insuranceVerification')?.get('expiryDate')?.value"
                                    *ngIf="calendarType === 'BS'"
                                    (messageToEmit)="siteVisitFormGroup.get('currentAssetsInspectionDetails')?.get('insuranceVerification')?.get('expiryDate').patchValue($event?.eDate)"></app-calendar>

                            <nb-datepicker #datepicker2></nb-datepicker>
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="title" for="clientsOverallRating">clients Overall Rating</label>
                            <select class="custom-select" formControlName="clientsOverallRating"
                                    id="clientsOverallRating"
                                    name="rents">
                                <option [ngValue]="''">Select Rating</option>
                                <option value="POOR">Poor</option>
                                <option value="GOOD">Good</option>
                                <option value="AVERAGE">Average</option>
                                <option value="EXCELLENT">Excellent</option>
                            </select>
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="title" for="comments">Comments</label>
                            <input class="form-control" formControlName="comments" id="comments"
                                   name="comments" placeholder="comments">
                        </div>
                        <div class="col-md-4 form-group">
                            <label class="title" for="stockValueConfirmed">Stock Value Confirmed</label>
                            <input class="form-control" formControlName="stockValueConfirmed"
                                   id="stockValueConfirmed" name="stockValueConfirmed"
                                   placeholder="0.0" type="number" appDecimalNumber>
                        </div>
                    <div class="col-md-12">
                        <div *ngFor="let inspectingStaff of inspectingStaffsDetailsForm; let i = index;"
                             formArrayName="inspectingStaffsDetails">
                            <div [formGroupName]="i" class="row">
                                <div class="col-md-4 form-group">
                                    <label class="staffRepresentativeNameDesignation"
                                           for="staffRepresentativeNameDesignation">Staff Representative Designation 1</label>
                                    <select class="form-control"
                                            formControlName="staffRepresentativeNameDesignation"
                                            id="staffRepresentativeNameDesignationCurrent"
                                            name="staffRepresentativeNameDesignation">
                                        <option [ngValue]="null" hidden>Staff Representative Designation 1</option>
                                         <option *ngFor="let designation of designationList"
                                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                                    </select>
                                </div>
                                <div class="col-md-4 form-group">
                                    <label class="staffRepresentativeName" for="staffRepresentativeName">Staff Representative Name 1</label>
                                    <input class="form-control" formControlName="staffRepresentativeName"
                                           id="staffRepresentativeNameCurrent" name="staffRepresentativeName"
                                           placeholder="Staff Representative Name 1" type="text">
                                </div>
                                <div class="col-md-4 form-group">
                                    <label class="staffRepresentativeNameDesignation2"
                                           for="staffRepresentativeNameDesignation2">Staff Representative Designation 2</label>
                                    <select class="form-control"
                                            formControlName="staffRepresentativeNameDesignation2"
                                            id="staffRepresentativeNameDesignationCurrent2"
                                            name="staffRepresentativeNameDesignation2">
                                        <option [ngValue]="null">Staff Representative Designation 2
                                        </option>
                                        <option *ngFor="let designation of designationList"
                                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                                    </select>
                                </div>
                                <div class="col-md-4 form-group">
                                    <label class="staffRepresentativeName2"
                                           for="staffRepresentativeName2">Staff Representative Name 2</label>
                                    <input class="form-control" formControlName="staffRepresentativeName2"
                                           id="alternativeStaffRepresentativeNameCurrent2"
                                           name="staffRepresentativeName2"
                                           placeholder="Staff Representative Name 2" type="text">
                                </div>
                                <div *ngIf="inspectingStaffsDetailsLength()>1" class="col-md-1 pt-4">
                                    <input (click)="deleteInspectingStaffsDetails(i)"
                                           class="align-self-end btn btn-sm btn-danger btn-primary"
                                           type="button" value="Delete"/>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <button
                                (click)="addInspectingStaffsDetails()"
                                class="btn btn-sm btn-flat btn-primary"
                            >Add Staff
                            </button>
                        </div>
                    </div>
                </div>
                <!--                New section Added-->
                <h4 class="col-md-12 mt-3">Major Inquiries and Observations</h4>
                <div class="col-md-12 mt-3" formGroupName="majorInquiriesAndObservations">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>
                                1. Explain the business nature, operating/manufacturing process in maximum 4
                                lines as per observation/discussion with the customer during inspection.
                            </label>
                            <textarea id="businessNature" formControlName="businessNature" name="creditor" type="text"
                                      class="form-control" placeholder="Business Nature" rows="4"></textarea>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>
                                2. Observation of business operation/activities: No of staffs/workers,
                                Machines/Plant in operation; Loading/unloading happening/brief of
                                various sections of business (Manufacturing/ Packaging/ Storage/
                                Dispatch/ Quality Control etc.), No of vehicles observed etc.
                            </label>
                            <textarea id="businessActivities" formControlName="businessActivities" name="businessActivities" type="text"
                                      class="form-control" placeholder="Business Activities" rows="4"></textarea>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>
                                3. Questions to be asked to the accompanying person of client:
                            </label>
                            <div class="col-md-12 mt-3">
                                <label>
                                    a. How is the business doing now compared to last year?
                                </label>
                                <textarea id="businessProgress" formControlName="businessProgress" name="businessProgress" type="text"
                                          class="form-control" placeholder="Business Progress" rows="4"></textarea>
                            </div>
                            <div class="col-md-12 mt-3">
                                <label>
                                    b. What are the prospects and challenges for the business?
                                </label>
                                <textarea id="businessChallenges" formControlName="businessChallenges" name="businessChallenges" type="text"
                                          class="form-control" placeholder="Business Challenges" rows="4"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>
                                4. Power Back-up Arrangement availability at site:
                            </label>
                            <div class="col-md-3">
                                <nb-checkbox formControlName="normalElectricityLine">
                                    Normal Electricity Line
                                </nb-checkbox>
                                <nb-checkbox formControlName="invertorOrGenerator">
                                    Inverter/Generators
                                </nb-checkbox>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>
                                5. The stock register system at the site is in the form of:
                            </label>
                            <div class="col-md-2">
                                <nb-checkbox formControlName="ledgerBook">
                                    Ledger Book
                                </nb-checkbox>
                                <nb-checkbox formControlName="electronic">
                                    Electronic
                                </nb-checkbox>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Ended-->
                <h4 class="col-md-12 mt-3">Current Assets Inspection - Stock Checklist Questionnaire</h4>
                <div class="col-md-12 mt-3" formGroupName="stockCheckListQuestionaire">
                    <table class="table table-sm sb-small text-center table-bordered">
                        <tr class="text-white sb-bg-dark">
                            <th>SN</th>
                            <th>Particulars</th>
                            <th>Check for Yes</th>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Is the customer upto date with other charges,chargeable to the other premises ?
                            </td>
                            <td><input
                                    formControlName="uptoDateWithCharges"
                                    type="checkbox">
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>All goods belongs to the borrowers and non are hold on account of third parties
                            </td>
                            <td><input
                                    formControlName="borrowersPossession"
                                    type="checkbox">
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Confirm that valuation of stocks does not include and goods under TR</td>
                            <td><input formControlName="notUnderTR"
                                       type="checkbox">
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>There is no evidence of any other bank interested in the goods</td>
                            <td><input formControlName="otherBankNotInterested"
                                       type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Was the security in order ?</td>
                            <td><input formControlName="securityOrder" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>Are the goods saleable ?</td>
                            <td><input formControlName="goodsSaleable" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>Are the stocks registered upto date ?</td>
                            <td><input formControlName="stocksUptoDate" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>Does the stocks registered match with the stock list ?</td>
                            <td><input formControlName="matchWithTheStockList"
                                       type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td> Is the storage condition satisfactory ?</td>
                            <td><input formControlName="storageConditionSatisfactory" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>Is fire fighting evidence through arrangement ?</td>
                            <td><input formControlName="fireFightingEvidence" type="checkbox">
                            </td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td>Are the building/store in the good condition?</td>
                            <td><input formControlName="buildingStoreCondition" type="checkbox">
                            </td>
                        </tr>
                        <tr>
                            <td>12</td>
                            <td>Are the special warranties in the insurance policy upto date ?</td>
                            <td><input formControlName="warrantiesUptoDate"
                                       type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>13</td>
                            <td>There is no evidence of goods hazardous nature in the premises</td>
                            <td><input formControlName="noHazardousNature"
                                       type="checkbox">
                            </td>
                        </tr>
                        <tr>
                            <td>14</td>
                            <td>Were our name board properly displayed ?</td>
                            <td><input formControlName="nameBoardProperlyDisplayed" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>15</td>
                            <td> Were our padlocks in use ?</td>
                            <td><input formControlName="padlocksUse" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>16</td>
                            <td> Is the PAN/Registration Certificate of the business is displayed? </td>
                            <td><input formControlName="certificate" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>17</td>
                            <td> Were we provided with a detailed NCA report at the time of inspection against which we could inspect the business? </td>
                            <td><input formControlName="ncaReport" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>18</td>
                            <td>Additional Impression: Do you feel the stocks are largely as per the stock report provided in terms of item/quantity?</td>
                            <td><input formControlName="stocksAreLarge" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td>19</td>
                            <td> Any evidence that there are charges of other entities/institutions in the assets? </td>
                            <td><input formControlName="otherEntitiesInTheAssets" type="checkbox"></td>
                        </tr>
                    </table>
                    <div class="row">
                        <div class=" col-md-6 form-group">
                            <label class="title" for="findingAndComments">Finding & Comments</label>
                            <textarea class="form-control" formControlName="findingAndComments"
                                      id="findingAndComments" name="findingAndComments"
                                      placeholder="findings and comments"
                                      row="3" type="text"></textarea>
                        </div>
                        <div class=" col-md-6 form-group">
                            <label class="title" for="remarksForNoOption">Remarks for 'NO' Option</label>
                            <textarea class="form-control" formControlName="remarksForNoOption"
                                      id="remarksForNoOption" name="remarksForNoOption" placeholder="remarks"
                                      row="3" type="text"></textarea>
                        </div>
                    </div>
                </div>

                <div *ngIf="client !== clientName?.SHINE_RESUNGA">
                <h4 class="col-md-12 mt-3">Current Assets Inspection - Receivables</h4>
                <div class="row col-md-12 mt-3" formGroupName="receivablesAndPayables">
                    <div *ngFor="let party of partyForm; let i = index;"
                         formArrayName="parties">
                        <div [formGroupName]="i" class="row">
                            <div class="col-md-2 form-group ml-3">
                                <label class="title" for="party">Party</label>
                                <input class="form-control" formControlName="party" id="party"
                                       name="party" placeholder="party">
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="withinThreeMonths">Within 3 Months</label>
                                <input (keyup)="onChangeValue('withinThreeMonths','threeMonthTotal')"
                                       class="form-control"
                                       formControlName="withinThreeMonths" id="withinThreeMonths"
                                       name="party"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="sixMonth">6 Month</label>
                                <input (keyup)="onChangeValue('sixMonth', 'sixMonthTotal')" class="form-control"
                                       formControlName="sixMonth"
                                       id="sixMonth" name="sixMonth"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="oneYear">One year</label>
                                <input (keyup)="onChangeValue('oneYear', 'oneYearTotal')" class="form-control"
                                       formControlName="oneYear"
                                       id="oneYear" name="oneYear"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="oneYearPlus">1+ year</label>
                                <input (keyup)="onChangeValue('oneYearPlus', 'moreThanOneYearTotal')"
                                       class="form-control" formControlName="oneYearPlus"
                                       id="oneYearPlus" name="oneYeaPlus"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div *ngIf="partyLength()>1" class="col-md-1 pt-4">
                                <input (click)="deletePartyForm(i)"
                                       class="align-self-end btn btn-sm btn-danger btn-primary"
                                       type="button" value="Delete"/>

                            </div>
                        </div>
                    </div>
                    <div class="row col-md-12 justify-content-end">
                        <input (click)="addPartyForm()"
                                class="btn btn-sm btn-flat btn-primary"
                               type="button"
                               value="Add Party"/>
                    </div>
                    <div class="col-md-12 pl-4">
                        <div class="row">
                            <div class="col-md-2 form-group"><label class="title">Total:</label></div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="threeMonthTotal" placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('receivablesAndPayables')">
                            </div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="sixMonthTotal" placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('receivablesAndPayables')">
                            </div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="oneYearTotal" placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('receivablesAndPayables')">
                            </div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="moreThanOneYearTotal"
                                       placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('receivablesAndPayables')">
                            </div>
                        </div>
                        <div class="row">
                                <div class="col-md-2">
                                    <label class="title">Grand Total:</label>
                                </div>
                                <div class="col-md-8">
                                    <input readonly formControlName="grandTotal" class="form-control" placeholder="Grand Total">

                                </div>
                        </div>
                    </div>
                    <div class="col-md-12 form-group">
                        <label class="title" for="findingsAndCommentsForCurrentAssetsInspection">Findings &
                            Comments</label>
                        <textarea class="form-control"
                                  formControlName="findingsAndCommentsForCurrentAssetsInspection"
                                  id="findingsAndCommentsForCurrentAssetsInspection"
                                  name="findingsAndCommentsForCurrentAssetsInspection"
                                  placeholder="findings and comments"
                                  row="3" type="text"></textarea>
                    </div>
                </div>
                <h4 class="col-md-12 mt-3">Current Assets Inspection - Payable</h4>
                <div class="row col-md-12 mt-3" formGroupName="payable">
                    <div *ngFor="let party of payablePartyForm; let i = index;"
                         formArrayName="parties">
                        <div [formGroupName]="i" class="row">
                            <div class="col-md-2 form-group ml-3">
                                <label class="title" for="party">Party</label>
                                <input class="form-control" formControlName="party"
                                       name="party" placeholder="party">
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="withinThreeMonths">Within 3 Months</label>
                                <input (keyup)="onChangePayableValue('withinThreeMonths','threeMonthTotal')"
                                       class="form-control"
                                       formControlName="withinThreeMonths"
                                       name="party"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="sixMonth">6 Month</label>
                                <input (keyup)="onChangePayableValue('sixMonth', 'sixMonthTotal')" class="form-control"
                                       formControlName="sixMonth"
                                       id="sixMonth" name="sixMonth"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="oneYear">One year</label>
                                <input (keyup)="onChangePayableValue('oneYear', 'oneYearTotal')" class="form-control"
                                       formControlName="oneYear"
                                        name="oneYear"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div class="col-md-2 form-group">
                                <label class="title" for="oneYearPlus">1+ year</label>
                                <input (keyup)="onChangePayableValue('oneYearPlus', 'moreThanOneYearTotal')"
                                       class="form-control" formControlName="oneYearPlus"
                                        name="oneYeaPlus"
                                       placeholder="0.0" type="number" appDecimalNumber>
                            </div>
                            <div *ngIf="payablePartyLength()>1" class="col-md-1 pt-4">
                                <input (click)="deletePayablePartyForm(i)"
                                       class="align-self-end btn btn-sm btn-danger btn-primary"
                                       type="button" value="Delete"/>

                            </div>
                        </div>
                    </div>
                    <div class="row col-md-12 justify-content-end">
                        <input (click)="addPayablePartyForm()"
                               class="btn btn-sm btn-flat btn-primary"
                               type="button"
                               value="Add Party"/>
                    </div>
                    <div class="col-md-12 pl-4">
                        <div class="row">
                            <div class="col-md-2 form-group"><label class="title">Total:</label></div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="threeMonthTotal" placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('payable')">
                            </div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="sixMonthTotal" placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('payable')">
                            </div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="oneYearTotal" placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('payable')">
                            </div>
                            <div class="col-md-2 form-group">
                                <input class="form-control" disabled formControlName="moreThanOneYearTotal"
                                       placeholder="0.0"
                                       type="text" (ngModelChange)="calculateGrandTotal('payable')">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <label class="title">Grand Total:</label>
                            </div>
                            <div class="col-md-8">
                                <input readonly formControlName="grandTotal" class="form-control" placeholder="Grand Total">

                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 form-group">
                        <label class="title" for="findingsAndCommentsForCurrentAssetsInspection">Findings &
                            Comments</label>
                        <textarea class="form-control"
                                  formControlName="findingsAndCommentsForCurrentAssetsInspection"
                                  name="findingsAndCommentsForCurrentAssetsInspection"
                                  placeholder="findings and comments"
                                  row="3" type="text"></textarea>
                    </div>
                </div>
                <h4 class="col-md-12 mt-3">Other Current Assets</h4>
                <div class="row col-md-12" formGroupName="otherCurrentAssets">
                    <div class="col-md-6 border-right">
                        <h5 class="col-md-12 mt-3">Receivable Assets</h5>
                        <div *ngFor="let asset of receivableAssetsForm; let i = index;"
                             formArrayName="receivableAssets">
                            <div [formGroupName]="i" class="row col-md-12">
                                <div class="col-md-5 form-group">
                                    <label class="title" for="particulars">Particulars</label>
                                    <input class="form-control" formControlName="particulars" id="particulars"
                                           name="party" placeholder="particular">
                                </div>
                                <div class="col-md-4 form-group ml-3">
                                    <label class="title" for="amount">Amount</label>
                                    <input (keyup)="onReceivableAssetValueChange('amount', 'receivableCurrentAssetsTotal')"
                                           class="form-control" formControlName="amount"
                                           id="amount" name="amount"
                                           placeholder="0.0" type="number" appDecimalNumber>
                                </div>
                                <div *ngIf="receivableAssetsLength()>1" class="col-md-2 form-group pt-4">
                                    <input (click)="deleteReceivableAssets(i)"
                                           class="btn btn-sm btn-danger btn-primary"
                                           type="button" value="Delete"/>
                                </div>
                            </div>
                        </div>
                        <div class="row col-md-12">
                            <div class="col-md-5 justify-content-end">
                                <button (click)="addReceivableAssets()" class="col-md-12 btn btn-sm btn-primary mt-4"
                                       >+Add Receivable Assets</button>
                            </div>
                            <div class="col-md-4 justify-content-end ml-3">
                                <label class="title" for="total">Total</label>
                                <input class="form-control" disabled formControlName="receivableCurrentAssetsTotal"
                                       id="total" name="amount"
                                       placeholder="0.0" type="text">
                            </div>
                        </div>
                        <h5 class="col-md-12 mt-3">Inspecting Staffs</h5>
                        <div *ngFor="let asset of inspectingStaffsForm; let i = index;"
                             formArrayName="inspectingStaffs">
                            <div [formGroupName]="i" class="row col-md-12">
                                <div class="col-md-5 form-group">
                                    <label class="title" for="inspectingStaff">Name</label>
                                    <input class="form-control" formControlName="name"
                                           id="inspectingStaff"
                                           name="inspectingStaff" placeholder="name">
                                </div>
                                <div class="col-md-4 form-group">
                                    <label class="title" for="position">Position</label>
                                    <select class="form-control"
                                            formControlName="position"
                                            id="position"
                                            name="position">
                                        <option [ngValue]="null">Position</option>
                                        <option *ngFor="let designation of designationList"
                                                [ngValue]="designation?.roleName">{{designation?.roleName}}</option>
                                    </select>
                                </div>
                                <div *ngIf="inspectingStaffsLength()>1" class="col-md-2 form-group pt-4">
                                    <input (click)="deleteInspectingStaffs(i)"
                                           class="btn btn-sm btn-danger btn-primary"
                                           type="button" value="Delete"/>
                                </div>
                            </div>
                        </div>
                        <div class="row col-md-12 justify-content-start">
                            <button (click)="addStaffOfOtherAssets()"
                                   class="col-md-9 btn btn-sm btn-flat btn-primary"
                                 >+Add Inspecting Staffs</button>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5 class="col-md-12 mt-3">Payable Assets</h5>
                        <div *ngFor="let asset of payableAssetsForm; let i = index;"
                             formArrayName="payableAssets">
                            <div [formGroupName]="i" class="row col-md-12">
                                <div class="col-md-5 form-group">
                                    <label class="title" for="particulars">Particulars</label>
                                    <input class="form-control" formControlName="particulars" id="particulars"
                                           name="party" placeholder="particular">
                                </div>
                                <div class="col-md-4 form-group ml-3">
                                    <label class="title" for="amount">Amount</label>
                                    <input (keyup)="onPayableAssetsValueChange('amount', 'payableCurrentAssetsTotal')"
                                           class="form-control" formControlName="amount"
                                           id="amount" name="amount"
                                           placeholder="0.0" type="number" appDecimalNumber>
                                </div>
                                <div *ngIf="payableAssetsLength()>1" class="col-md-2 form-group pt-4">
                                    <input (click)="deletePayableAssets(i)" class="btn btn-sm btn-danger btn-primary"
                                           type="button" value="Delete"/>
                                </div>
                            </div>
                        </div>
                        <div class="row col-md-12">
                            <div class="col-md-5 justify-content-end">
                                <button (click)="addPayableAssets()" class="col-md-12 btn btn-sm btn-primary mt-4">+Add Payable Assets</button>
                            </div>
                            <div class="col-md-4 justify-content-end ml-3">
                                <label class="title" for="total">Total</label>
                                <input class="form-control" disabled formControlName="payableCurrentAssetsTotal"
                                       id="total" name="amount"
                                       placeholder="0.0" type="text">
                            </div>
                        </div>
                        <h5 class="col-md-12 mt-3">Bank Exposure</h5>
                        <div *ngFor="let asset of bankExposureForm; let i = index;"
                             formArrayName="bankExposures">
                            <div [formGroupName]="i" class="row col-md-12">
                                <div class="col-md-5 form-group">
                                    <label class="title" for="bankName">Bank Name</label>
                                    <input class="form-control" formControlName="bankName" id="bankName"
                                           name="bankName">
                                </div>
                                <div class="col-md-4 form-group">
                                    <label class="title" for="amount">Amount</label>
                                    <input class="form-control" formControlName="amount" id="amount"
                                           name="amount" placeholder="0.0" type="number" appDecimalNumber>
                                </div>
                                <div *ngIf="bankExposureLength()>1" class="col-md-2 form-group pt-4">
                                    <input (click)="deleteBankExposure(i)" class="btn btn-sm btn-danger btn-primary"
                                           type="button" value="Delete"/>
                                </div>
                            </div>
                        </div>
                        <div class="row col-md-12 justify-content-start">
                            <button (click)="addBankExposure()" class="col-md-9 btn btn-sm btn-flat btn-primary"
                                   >+Add Bank Exposure</button>
                        </div>
                    </div>
                    <div class="col-md-12 mt-4">
                        <div class="form-group">
                            <label class="title" for="overallFindings">Overall Findings / Comment of CAI</label>
                            <textarea class="form-control" formControlName="overAllFindings"
                                      id="overAllFindings" name="overAllFindings"
                                      placeholder="overall findings / comments of CAI"
                                      row="3" type="text"></textarea>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div *ngIf="fromProfile" class="py-4 d-flex justify-content-end">
                <button (click)="onSubmit()" nbButton type="button">save</button>
            </div>
        </form>
    </nb-card-body>
</nb-card>
