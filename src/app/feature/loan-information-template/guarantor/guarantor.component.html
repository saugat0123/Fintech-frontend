<div class="col-md-12">
    <div class="d-flex justify-content-end">
        <nb-radio-group [(ngModel)]="calendarType" class="d-inline-flex"
                        name="guarantorCalendarType">
            <nb-radio value="AD">AD</nb-radio>
            <nb-radio value="BS">BS</nb-radio>
        </nb-radio-group>
    </div>
</div>
<nb-card>
    <nb-card-header><h1>Guarantors Details</h1></nb-card-header>
    <nb-card-body>
        <div class="form-group">
            <form [formGroup]="form" class="form-horizontal">
                <!--START ROW-->
                <div formArrayName="guarantorDetails">
                    <div
                        *ngFor="let guarantorDetails of form.get('guarantorDetails')['controls']; let i = index">
                        <div [formGroupName]="i">
                            <div class="row">
                                <div class="col-md-10">
                                    <h5>{{i + 1}}) Guarantor Information</h5>
                                </div>
                                <div *ngIf="form.get('guarantorDetails')['length']>1"
                                class="col-md-2 ">
                                <button (click)="removeGuarantorDetails(i)"
                                        class="float-right btn tbn-sm btn-flat btn-danger"
                                        value="Delete">
                                    <em class="fa fa-trash" style="color: white;"></em>

                                </button>

                            </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <nb-checkbox formControlName="consentOfLegalHeirs">Consent of Legal Heirs</nb-checkbox>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Name</strong></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('name').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="name"
                                               id="name"
                                               name="name"
                                               placeholder="Name of Guarantor"
                                               type="text">
                                        <div *ngIf="(submitted) && guarantorDetails.get('name').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('name').errors.required">Name is
                                                required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('name').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('name').errors.required">
                                                Please fill name
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Citizenship Number</strong></label>
                                        <input (change)="checkBlackListByCitizenshipNo(guarantorDetails.get('citizenNumber').value, i)"
                                               [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('citizenNumber').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="citizenNumber"
                                               id="citizenNumber"
                                               name="citizenNumber"
                                               placeholder="Number"
                                               type="text">
                                        <div *ngIf="(submitted) && guarantorDetails.get('citizenNumber').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('citizenNumber').errors.required">
                                                Citizenship Number is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('citizenNumber').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('citizenNumber').errors.required">
                                                Please add Citizenship Number
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Citizenship Issued Date</strong></label>
                                        <input [nbDatepicker]="issuedYear"
                                               *ngIf="calendarType === 'AD'"
                                               [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('issuedYear').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="issuedYear"
                                               id="citizenIssuedYear"
                                               name="citizenIssuedYear"
                                               placeholder="Citizenship Issued Date"
                                               type="text">
                                        <app-calendar
                                            [ePreDate]="form.get(['guarantorDetails', i, 'issuedYear']).value"
                                            *ngIf="calendarType === 'BS'"
                                            (messageToEmit)="form.get(['guarantorDetails', i, 'issuedYear']).patchValue($event?.eDate)"></app-calendar>

                                        <nb-datepicker #issuedYear></nb-datepicker>
                                        <div *ngIf="(submitted) && guarantorDetails.get('issuedYear').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('issuedYear').errors.required">
                                                Citizenship issued Date is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('issuedYear').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('issuedYear').errors.required">
                                                Please fill Citizenship issued Date
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!--END ROW-->
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Citizenship Issued District</strong></label>
                                        <select [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('issuedPlace').errors }"
                                                   class="custom-select"
                                                   formControlName="issuedPlace"
                                                   placeholder="Select district">
                                            <option *ngFor="let district of allDistrict" [value]="district?.name">
                                                {{district?.name}}
                                            </option>
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('issuedPlace').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('issuedPlace').errors.required">
                                                Citizenship issued Place is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('issuedPlace').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('issuedPlace').errors.required">
                                                Please add Citizenship issued Place
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Date Of Birth</strong></label>
                                        <input [nbDatepicker]="dob"
                                               *ngIf="calendarType === 'AD'"
                                               [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('dateOfBirth').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="dateOfBirth"
                                               id="dateOfBirth"
                                               name="dateOfBirth"
                                               placeholder="Date of Birth"
                                               type="text">
                                        <app-calendar
                                            [ePreDate]="form.get(['guarantorDetails', i, 'dateOfBirth']).value"
                                            *ngIf="calendarType === 'BS'"
                                            (messageToEmit)="form.get(['guarantorDetails', i, 'dateOfBirth']).patchValue($event?.eDate)"></app-calendar>

                                        <nb-datepicker #dob></nb-datepicker>
                                        <div *ngIf="(submitted) && guarantorDetails.get('dateOfBirth').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('dateOfBirth').errors.required">
                                               Date of birth is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('dateOfBirth').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('dateOfBirth').errors.required">
                                                Please fill  Date of birth
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Contact</strong></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('contactNumber').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="contactNumber"
                                               id="contactNumber"
                                               name="contactNumber"
                                               placeholder="contact Number"
                                               type="text"/>
                                        <div *ngIf="(submitted) && guarantorDetails.get('contactNumber').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('contactNumber').errors.required">
                                                Contact Number is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('contactNumber').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('contactNumber').errors.required">
                                                Please fill Contact Number
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Profession</strong></label>
                                        <select class="form-control form-control-sm-error rounded"
                                               formControlName="profession"
                                               id="profession"
                                                name="profession">
                                            <option value="null" hidden>Select Profession</option>
                                            <option [value]="profession.key" *ngFor="let profession of occupation">{{profession.value}}</option>

                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Father's Name</strong></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('fatherName').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="fatherName"
                                               id="fatherName"
                                               name="fatherName"
                                               placeholder="Father's Name"
                                               type="text"/>
                                        <div *ngIf="(submitted) && guarantorDetails.get('fatherName').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('fatherName').errors.required">
                                               Father's name is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('fatherName').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('fatherName').errors.required">
                                                Please fill Guarantors Father's name
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Grandfather Name</strong></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('grandFatherName').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="grandFatherName"
                                               id="grandFatherName"
                                               name="grandFatherName"
                                               placeholder="Grandfather's Name"
                                               type="text"/>
                                        <div *ngIf="(submitted) && guarantorDetails.get('grandFatherName').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('grandFatherName').errors.required">
                                                Guarantors Grandfathers name is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('grandFatherName').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('grandFatherName').errors.required">
                                                Please fill Guarantors Grandfathers name
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Mother's Name</strong></label>
                                        <input class="form-control form-control-sm-error rounded"
                                               formControlName="motherName"
                                               id="motherName"
                                               name="motherName"
                                               placeholder="Mother's Name"
                                               type="text"/>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Spouse's Name</strong></label>
                                        <input class="form-control form-control-sm-error rounded"
                                               formControlName="spouseName"
                                               id="spouseName"
                                               name="spouseName"
                                               placeholder="Spouse's Name"
                                               type="text"/>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Father-in-Law's Name </strong></label>
                                        <input
                                            class="form-control form-control-sm-error rounded"
                                            formControlName="fatherInLaw"
                                            id="fatherInLaw"
                                            name="fatherInLaw"
                                            placeholder="Father-in-Law's Name "
                                            type="text"/>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Relationship</strong></label>
                                        <select [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('relationship').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="relationship"
                                               id="relationship"
                                               name="relationship">
                                            <option [value]="null" hidden>--Select Relationship--</option>
                                            <option *ngFor="let relationship of relationList" [ngValue]="relationship.id">{{relationship.name}}</option>
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('relationship').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('relationship').errors.required">
                                                Relationship is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('relationship').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('relationship').errors.required">
                                                please fill relationship
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><b>Net Worth</b></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('netWorth').errors }" class="form-control" formControlName="netWorth" type="number" placeholder="Net Worth Amount">
                                        <div *ngIf="addMore && guarantorDetails.get('netWorth').invalid" class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('netWorth').errors.required">
                                                Net Worth Amount is required
                                            </div>
                                        </div>
                                        <div *ngIf="submitted && guarantorDetails.get('netWorth').invalid" class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('netWorth').errors.required">
                                                Net Worth Amount is required
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <h6><b>Permanent Address</b></h6>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Address Line 1</strong></label>
                                        <input class="form-control"
                                               formControlName="permanentAddressLine1"
                                               placeholder="Address Line 1 (optional)"
                                               type="text">
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Address Line 2</strong></label>
                                        <input class="form-control"
                                               formControlName="permanentAddressLine2"
                                               placeholder="Address Line 2 (optional)"
                                               type="text">
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Province</strong></label>
                                        <select (change)="getDistrict(guarantorDetails.get('province').value,i)"
                                                [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('province').errors}"
                                                class="custom-select"
                                                formControlName="province"
                                                name="province">
                                            <option [value]="null" hidden>Select Province</option>
                                            <option *ngFor="let provinceVal of provinceList"
                                                    [ngValue]="provinceVal.id">
                                                {{provinceVal.name}}
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('province').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('province').errors.required">Province
                                                is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('province').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('province').errors.required">Please fill province
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>District</strong></label>
                                        <select (change)="getMunicipalities(guarantorDetails.get('district').value, i)"
                                                [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('district').errors}"
                                                class="custom-select"
                                                formControlName="district"
                                                name="district">
                                            <option [value]="null" hidden>Select District</option>
                                            <option *ngFor="let districtVal of addressList[i].districtList"
                                                    [ngValue]="districtVal.id">
                                                {{districtVal.name}}</option>
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('district').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('district').errors.required">District
                                                is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('district').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('district').errors.required">please add district
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Municipalities/VDC</strong></label>
                                        <select [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('municipalities').errors}"
                                                class="custom-select"
                                                formControlName="municipalities"
                                                name="municipalities">
                                            <option [value]="null" hidden>Select Municipalities/VDC</option>
                                            <option *ngFor="let municipalitiesVal of addressList[i].municipalityVdcList"
                                                    [ngValue]="municipalitiesVal.id">
                                                {{municipalitiesVal.name}}
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('municipalities').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('municipalities').errors.required">
                                                Municipality or VDC is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('municipalities').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('municipalities').errors.required">
                                                Please add Municipality or VDC
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Ward Number</strong></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('wardNumber').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="wardNumber"
                                               id="wardNumber"
                                               name="wardNumber"
                                               placeholder="Ward Number"
                                               type="number">
                                        <div *ngIf="(submitted) && guarantorDetails.get('wardNumber').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('wardNumber').errors.required">Ward Number is
                                                required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('wardNumber').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('wardNumber').errors.required">
                                                Please fill Ward Number
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="guarantorLegalDocumentAddress"><strong>Address as per Legal Document</strong></label>
                                            <textarea [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('guarantorLegalDocumentAddress').errors }"
                                                      class="form-control"
                                                      formControlName="guarantorLegalDocumentAddress" id="guarantorLegalDocumentAddress"
                                                      name="guarantorLegalDocumentAddress" placeholder="Address as per Legal Document"
                                                      rows="2"
                                                      type="text" maxlength="256"></textarea>
                                            <div *ngIf="(submitted) && guarantorDetails.get('guarantorLegalDocumentAddress').invalid"
                                                 class="invalid-feedback">
                                                <div *ngIf="guarantorDetails.get('guarantorLegalDocumentAddress').errors.required">
                                                    Address as per legal document is required
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                <div class="col-md-12">
                                    <nb-checkbox (change)="sameAsAbove(i)"><i>Same as Permanent Address for Current Address</i></nb-checkbox>
                                </div>
                                <div class="col-md-12">
                                    <h6><b>Current Address</b></h6>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Address Line 1</strong></label>
                                        <input class="form-control"
                                               formControlName="temporaryAddressLine1"
                                               placeholder="Address Line 1 (optional)"
                                               type="text">
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Address Line 2</strong></label>
                                        <input class="form-control"
                                               formControlName="temporaryAddressLine2"
                                               placeholder="Address Line 2 (optional)"
                                               type="text">
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Province</strong></label>
                                        <select (change)="getDistrictTemporary(guarantorDetails.get('provinceTemporary').value,i)"
                                                [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('provinceTemporary').errors}"
                                                class="custom-select"
                                                formControlName="provinceTemporary"
                                                name="province">
                                            <option [value]="null" hidden>Select Province</option>
                                            <option *ngFor="let provinceVal of provinceList"
                                                    [ngValue]="provinceVal.id">
                                                {{provinceVal.name}}
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('provinceTemporary').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('provinceTemporary').errors.required">Province
                                                is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('provinceTemporary').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('provinceTemporary').errors.required">Please fill province
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>District</strong></label>
                                        <select (change)="getMunicipalitiesTemporary(guarantorDetails.get('districtTemporary').value, i)"
                                                [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('districtTemporary').errors}"
                                                class="custom-select"
                                                formControlName="districtTemporary"
                                                name="district">
                                            <option [value]="null" hidden>Select District</option>
                                            <option *ngFor="let districtVal of addressListTemporary[i].districtList"
                                                    [ngValue]="districtVal.id">
                                                {{districtVal.name}}</option>
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('districtTemporary').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('districtTemporary').errors.required">District
                                                is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('districtTemporary').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('districtTemporary').errors.required">please add district
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong>Municipalities/VDC</strong></label>
                                        <select [ngClass]="{ 'is-invalid': (submitted) && guarantorDetails.get('municipalitiesTemporary').errors}"
                                                class="custom-select"
                                                formControlName="municipalitiesTemporary"
                                                name="municipalities">
                                            <option [value]="null" hidden>Select Municipalities/VDC</option>
                                            <option *ngFor="let municipalitiesVal of addressListTemporary[i].municipalityVdcList"
                                                    [ngValue]="municipalitiesVal.id">
                                                {{municipalitiesVal.name}}
                                        </select>
                                        <div *ngIf="(submitted) && guarantorDetails.get('municipalitiesTemporary').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('municipalitiesTemporary').errors.required">
                                                Municipality or VDC is required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('municipalitiesTemporary').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('municipalitiesTemporary').errors.required">
                                                Please add Municipality or VDC
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label><strong> Ward Number</strong></label>
                                        <input [ngClass]="{ 'is-invalid': (submitted ) && guarantorDetails.get('wardNumberTemporary').errors }"
                                               class="form-control form-control-sm-error rounded"
                                               formControlName="wardNumberTemporary"
                                               id="wardNumberTemporary"
                                               name="wardNumberTemporary"
                                               placeholder="Ward Number"
                                               type="number">
                                        <div *ngIf="(submitted) && guarantorDetails.get('wardNumberTemporary').invalid"
                                             class="invalid-feedback">
                                            <div *ngIf="guarantorDetails.get('wardNumberTemporary').errors.required">Ward Number is
                                                required
                                            </div>
                                        </div>
                                        <div *ngIf="(addMore) && guarantorDetails.get('wardNumberTemporary').invalid"
                                             class="alert-warning">
                                            <div *ngIf="guarantorDetails.get('wardNumberTemporary').errors.required">
                                                Please fill Ward Number
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label><b>Background</b></label>
                                    <textarea rows="3" class="form-control" formControlName="background" placeholder="Background Details"></textarea>
                                </div>
                            </div>
                            <app-template-document [customerInfo]="customerInfo" [docName]="guarantorDetails.get('citizenNumber').value" (docPathEmitter)="documentPath($event,i)" [pathValue]="guarantorDetails.get('docPath').value" [docTitle]="docTitle" [docFolderName]="docFolderName"></app-template-document>
                            <p><i>Note:Guarantor Citizenship number is required to upload file</i></p>
                        </div>
                        <hr>
                    </div>
                </div>

                <div class="text-right">
                    <button (click)="addEmptyGroup()" class="btn btn-sm btn-flat btn-primary">
                        Add Guarantor
                    </button>
                </div>
            </form>
        </div>
    </nb-card-body>
    <nb-card-footer>
        <div *ngIf="fromProfile" class="py-4 d-flex justify-content-end">
            <button (click)="onSubmit()" nbButton type="button">save</button>
        </div>
    </nb-card-footer>
</nb-card>
