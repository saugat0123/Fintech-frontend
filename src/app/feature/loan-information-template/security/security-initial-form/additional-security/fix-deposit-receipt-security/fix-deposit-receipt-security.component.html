<nb-card class="p-3">
    <div class="box-header with-border">
        <h2 class="box-title title">Fixed Deposit Receipt</h2>
    </div>
    <div [formGroup]="fixedDepositForm">
        <div *ngFor="let deposit of fixedDepositForm.get('fixedDepositReceipt')['controls']; let i = index"
             class="font-weight-bold"
             formArrayName="fixedDepositReceipt">
            <div [formGroupName]="i">
                <div class="row">
                    <div class="col-md-12">
                        <hr>
                        <div *ngIf="i > 0" class="float-right">
                            <input (click)="removeFixedDepositForm(i)" class="btn btn-sm btn-flat btn-danger"
                                   type=button value="Delete"/>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">FD Receipt Number<strong></strong></label>
                            <input class="form-control" formControlName="receiptNumber">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">FD Account Holder Name<strong></strong></label>
                            <input class="form-control" formControlName="accountHolderName">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">FD Account Number<strong></strong></label>
                            <input class="form-control" formControlName="accountNumber"
                                   required />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">FD Tenure Start Date<strong></strong></label>
                            <input *ngIf="calendarType === 'AD'" [nbDatepicker]="tenureStartDate"
                                   class="form-control" formControlName="tenureStartDate">
                            <app-calendar *ngIf="calendarType === 'BS'"
                                          (messageToEmit)="fixedDepositForm.get(['fixedDepositDetails',i,'tenureStartDate']).patchValue($event?.eDate)"
                                          [ePreDate]="fixedDepositForm.get(['fixedDepositDetails',i,'tenureStartDate']).value"></app-calendar>
                            <nb-datepicker #tenureStartDate></nb-datepicker>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">Amount<strong></strong></label>
                            <input class="form-control" formControlName="amount" type="number">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">Expiry Date<strong></strong></label>
                            <input *ngIf="calendarType === 'AD'" [nbDatepicker]="expiryDate"
                                   class="form-control rounded" formControlName="expiryDate"
                                   nbInput placeholder="Expiry Date">
                            <app-calendar *ngIf="calendarType === 'BS'"
                                          (messageToEmit)="fixedDepositForm.get(['fixedDepositDetails',i,'expiryDate']).patchValue($event?.eDate)"
                                          [ePreDate]="fixedDepositForm.get(['fixedDepositDetails',i,'expiryDate']).value"></app-calendar>
                            <nb-datepicker #expiryDate></nb-datepicker>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">Coupon Rate<strong></strong></label>
                            <input class="form-control" formControlName="couponRate" type="number">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">Beneficiary<strong></strong></label>
                            <input class="form-control" formControlName="beneficiary">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="title">Remarks<strong></strong></label>
                            <input class="form-control" formControlName="remarks">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="text-right">
            <input (click)="addFixedDepositForm()" class="btn btn-sm btn-flat btn-primary"
                   type="button"
                   value="Add More"/>
        </div>
    </div>
</nb-card>
