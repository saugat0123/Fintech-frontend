<nb-card class="p-3">
    <div class="box-header with-border">
        <h2 class="box-title title">Other Security</h2>
    </div>
    <form [formGroup]="otherSecurityForm">
        <div *ngFor="let security of otherSecurityForm.get('otherSecurity')['controls']; let i = index"
             class="font-weight-bold"
             formArrayName="otherSecurity">
            <div [formGroupName]="i.toString()">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="title" for="otherSecurityFirstValuationDate">First Valuation Date</label>
                            <input *ngIf="calendarType === 'AD'" class="form-control rounded"
                                   formControlName="otherSecurityFirstValuationDate"
                                   id="otherSecurityFirstValuationDate"
                                   name="otherSecurityFirstValuationDate" placeholder="First Valuation Date"
                                   [nbDatepicker]="firstValuationDate"
                                   type="text"/>
                            <app-calendar
                                    (messageToEmit)="otherSecurityForm.get(['otherSecurity',i,'otherSecurityFirstValuationDate']).patchValue($event?.eDate)"
                                    *ngIf="calendarType === 'BS'"
                                    [ePreDate]="otherSecurityForm.get(['otherSecurity',i,'otherSecurityFirstValuationDate']).value"></app-calendar>
                            <nb-datepicker #firstValuationDate></nb-datepicker>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Other Detail</label>
                            <ckeditor formControlName="otherDetail" [config]="ckeConfig"></ckeditor>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
        </div>
    </form>
</nb-card>
