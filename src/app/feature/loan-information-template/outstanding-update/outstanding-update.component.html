<form [formGroup]="proposalForm" [nbSpinner]="spinner"
      nbSpinnerStatus="primary"
      nbSpinnerSize="large"
      nbSpinnerMessage="Loading Data ...">
    <p style="text-align:left"> Customer had following terminating loan. Please update outstanding limit of each of them.Outstanding Limit Update </p>
    <table class="table table-bordered table-responsive-md table-sm sb-small text-center">
        <tr>
            <th>S.No</th>
            <th>Loan Name</th>
            <th>Loan Approval Date</th>
            <th>Proposed Amount</th>
            <th>Outstanding Limit</th>
            <th>Update</th>
        </tr>
        <tr *ngFor="let data of approvedLoans; let i = index; let loan of customerAllLoanList">
            <td>{{i + 1}}</td>
            <td>{{data?.loan?.name}}</td>
            <td>{{data?.lastModifiedAt | date}}</td>
            <td>{{data?.proposal?.proposedLimit}}</td>
            <td>
                <span>
                <input type="number" class="form-control" #fieldValue
                       formControlName="outstandingLimit" [value]="data?.proposal?.outStandingLimit"
                       placeholder="outstanding limit"/>
            </span>
            </td>
            <td>
                <div class="align-content-center">
                    <button (click)="updateOutstandingLimit(data,fieldValue.value)"
                            class="btn btn-sm btn-flat btn-primary">Update
                    </button>
                </div>
            </td>
        </tr>
    </table>
</form>
