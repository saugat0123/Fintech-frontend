<form (ngSubmit)="financialStatementForm.valid && onSubmit()" [formGroup]="financialStatementForm">
    <nb-card [nbSpinner]="spinner" accent="primary" class="m-0"
             nbSpinnerSize="giant"
             nbSpinnerStatus="primary">
        <nb-card-header>
            <a (click)="onClose()" aria-label="Close" class="close cursor"
               data-dismiss="modal">
                <span aria-hidden="true">Ã—</span></a>
            <h4 class="modal-title pull-left">Financial statement options</h4>
        </nb-card-header>
        <nb-card-body>
            <div class="row form-group">
                <div class="col-md-12 mb-2">
                    <label>Financial Statement</label>
                    <ng-select (change)="onFinancialStatementChange($event)"
                               [items]="financialStatementList"
                               [multiple]="false"
                               [ngClass]="{'is-invalid': financialStatementFormControl.financialStatement.invalid
                               && (financialStatementFormControl.financialStatement.dirty ||
                                financialStatementFormControl.financialStatement.touched)}"
                               formControlName="financialStatement"
                               placeholder="Select Financial Statement">
                    </ng-select>
                    <div *ngIf="financialStatementFormControl.financialStatement.invalid" class="invalid-feedback">
                        Financial Statement is required!
                    </div>
                </div>
                <div class="col-md-12 mb-2">
                    <label>Fiscal year</label>
                    <ng-select [appendTo]="'body'"
                               [items]="fiscalYearsArray"
                               bindLabel="year"
                               bindValue="year"
                               formControlName="fiscalYear"
                               placeholder="Select fiscal year">
                    </ng-select>
                </div>
            </div>
            <nb-card *ngIf="showAuditorDetailsForm" accent="primary" class="mb-0">
                <nb-card-body>
                    <h4 class="mb-2">Auditor Details</h4>
                    <div class="row form-group" formGroupName="auditorDetails">
                        <div class="col-md-6 mb-2">
                            <label for="audited">Audited</label>
                            <input class="form-control" formControlName="audited" id="audited"
                                   placeholder="Audited fiscal year" readonly>
                        </div>
                        <div class="col-md-6 mb-2">
                            <label for="auditFirm">Audit Firm</label>
                            <input [ngClass]="{'is-invalid': auditorDetailsFormControl.auditFirm.invalid
                                   && (auditorDetailsFormControl.auditFirm.dirty ||
                                auditorDetailsFormControl.auditFirm.touched)}" class="form-control" formControlName="auditFirm"
                                   id="auditFirm"
                                   placeholder="Enter Audit Firm">
                            <div *ngIf="auditorDetailsFormControl.auditFirm.invalid" class="invalid-feedback">
                                Invalid entry!
                            </div>
                        </div>
                        <div class="col-md-6 mb-2">
                            <label for="proprietePartner">Propiete/Partner</label>
                            <input [ngClass]="{'is-invalid': auditorDetailsFormControl.proprietePartner.invalid
                                   && (auditorDetailsFormControl.proprietePartner.dirty ||
                                auditorDetailsFormControl.proprietePartner.touched)}" class="form-control" formControlName="proprietePartner"
                                   id="proprietePartner"
                                   placeholder="Enter Propiete/Partner">
                            <div *ngIf="auditorDetailsFormControl.proprietePartner.invalid" class="invalid-feedback">
                                Invalid entry!
                            </div>
                        </div>
                        <div class="col-md-6 mb-2">
                            <label for="membershipNo">Membership No.</label>
                            <input [ngClass]="{'is-invalid': auditorDetailsFormControl.membershipNo.invalid
                                   && (auditorDetailsFormControl.membershipNo.dirty ||
                                auditorDetailsFormControl.membershipNo.touched)}" class="form-control" formControlName="membershipNo"
                                   id="membershipNo"
                                   placeholder="Enter Membership No.">
                            <div *ngIf="auditorDetailsFormControl.membershipNo.invalid" class="invalid-feedback">
                                Invalid entry!
                            </div>
                        </div>
                        <div class="col-md-6 mb-2">
                            <label for="certificateOfPractice">Certificate of Practice</label>
                            <input [ngClass]="{'is-invalid': auditorDetailsFormControl.certificateOfPractice.invalid
                                   && (auditorDetailsFormControl.certificateOfPractice.dirty ||
                                auditorDetailsFormControl.certificateOfPractice.touched)}" class="form-control"
                                   formControlName="certificateOfPractice"
                                   id="certificateOfPractice"
                                   placeholder="Enter Certificate of Practice">
                            <div *ngIf="auditorDetailsFormControl.certificateOfPractice.invalid"
                                 class="invalid-feedback">
                                Invalid entry!
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="class">Class</label>
                            <input [ngClass]="{'is-invalid': auditorDetailsFormControl.class.invalid
                                   && (auditorDetailsFormControl.class.dirty ||
                                auditorDetailsFormControl.class.touched)}" class="form-control" formControlName="class"
                                   id="class"
                                   placeholder="Enter Class (A, B, C,..)">
                            <div *ngIf="auditorDetailsFormControl.class.invalid" class="invalid-feedback">
                                Invalid entry!
                            </div>
                        </div>
                    </div>
                </nb-card-body>
            </nb-card>
        </nb-card-body>
        <nb-card-footer class="text-right">
            <button nbButton status="primary" type="submit">
                Add
            </button>
        </nb-card-footer>
    </nb-card>
</form>
