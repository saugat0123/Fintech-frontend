<nb-card class="col-md-6" ngDraggable [ngResizable]="true" [nbSpinner]="spinner" nbSpinnerSize="giant" >
        <nb-card-header>
            <strong>{{popUpTitle}}</strong>
            <button (click)="nbDialogRef.close()" aria-label="Close"
                    class="close cursor d-inline-flex justify-content-end" nbButton
                    size="tiny"
                    status="primary">
                <span aria-hidden="true">Ã—</span></button>
        </nb-card-header>
        <nb-card-body>
            <form [formGroup]="formAction" role="form">

                <p *ngIf="additionalDetails?.hasDeferredDocs" class="text-danger">
                    This loan contains deferred documents that are not uploaded.
                </p>

                <div *ngIf="popUpTitle === 'Send Forward'" class="row">

                    <div class="col-md-12 form-group">
                        <label class="toRole">TO</label>
                        <select (change)="getUserList(this.formAction.get('toRole').value)"
                                class="form-control form-control-sm"
                                formControlName="toRole"
                                id="toRole"
                                name="toRole"
                               >
                            <option [value]="null" hidden>Select To</option>
                            <option *ngFor="let forwardBackward of sendForwardBackwardList"
                                    [ngValue]="forwardBackward.role">
                                {{forwardBackward.role?.roleName}}
                            </option>
                        </select>
                        <div class="sb-small text-danger" *ngIf="isEmptyUser">No User Present in this Role For this
                            branch
                        </div>
                    </div>
                </div>

                <div *ngIf="userList?.length > 1 && showUserList" class="row">
                    <div class="col-md-12 form-group">
                        <label class="toUser" for="toUser">To User</label>
                        <select class="form-control form-control-sm" formControlName="toUser" id="toUser"
                                name="toUser">
                            <option *ngFor="let user of userList"
                                    [ngValue]="user">
                                {{user.username}}
                        </select>
                    </div>
                </div>
                <div *ngIf="docAction== 'HSOV_PENINDG' && showUserList && !isMaker" class="row">
                    <div class="col-md-12 form-group">
                        <label class="toUser" for="toUser">Send HSOV To</label>
                        <select class="form-control form-control-sm" formControlName="toUser" id="toHSOV"
                                name="toUser">
                            <option *ngFor="let user of hsovUserList"
                                    [ngValue]="user">
                                {{user.username}}
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <label for="comment">Comment:</label>
                        <ckeditor [ngClass]="{ 'is-invalid': submitted && formAction.controls['comment'].errors }"
                                  formControlName="comment" id="comment" [config]="ckeConfig"></ckeditor>
                        <div *ngIf="submitted && formAction.controls['comment'].hasError('required')"
                             class="error-message" style="color: red;">comment is required
                        </div>
                        <div *ngIf="submitted && formAction.controls['comment'].hasError('required')"
                             class="error-message"
                             style="color: red;">comment is required
                        </div>
                    </div>
                </div>

                <div *ngIf="isMaker">
                    <div class="col-md-12">
                        <nb-checkbox class="cursor" (checkedChange)="isHSOVChecked($event)"
                                     [checked]="customerLoanHolder.isHsov">Is HSOV Needed
                        </nb-checkbox>
                    </div>
                </div>

            </form>
        </nb-card-body>
        <nb-card-footer>
            <button (click)="onSubmit()" [disabled]="formAction.invalid" nbButton type="button">
                <em class="fa fa-save"></em>
            </button>
        </nb-card-footer>
    </nb-card>


