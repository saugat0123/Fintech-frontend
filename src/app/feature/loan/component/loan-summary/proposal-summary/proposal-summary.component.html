<div class="row mt-1">
    <div class="col-md-12">
        <p  class="header"><strong class="header">Facility Schedule</strong> <em class="text-danger header"> &nbsp;Bold row indicates
            current loan proposal</em></p>
        <ul>
            <li class="sub-header"><i class="fas fa-check-circle"></i> = Approved
                <i class="fas fa-times-circle sub-header"></i> = Not Approved,
                <i class="text-round sub-header">N</i>ew Loan
                <i class="text-round sub-header">R</i>enewed Loan
                <i class="text-round sub-header">E</i>nhanced Loan
                <i class="text-round sub-header">C</i>losure Loan
                <i class="text-round sub-header">P</i>artial Settlement Loan
                <i class="text-round sub-header">F</i>ull Settlement Loan
                <i class="text-round sub-header">R/E</i>new With Enhancement
            </li>
            <li class="sub-header"><span class="sub-header"><sup>*</sup>  IR : Interest Rate ,<sup>*</sup> BR : Base Rate ,<sup>*</sup> PR : Premium Rate
                <span *ngIf="!consumerFinance" class="sub-header">,<sup>*</sup> COM : Commission ,<sup>*</sup> CM : Cash margin</span></span>
            </li>
        </ul>
    </div>
</div>
<div class="col-md-12">
    <div class="row">

    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <table
                class="table table-bordered table-responsive-md table-sm sb-small text-center">
            <thead>
            <tr class="sb-bg-dark text-white">
                <th class="fontSize">Loan Facility</th>
                <th class="fontSize">Existing Limit</th>
                <th class="fontSize" *ngIf="!isRemit">Outstanding</th>
                <th class="fontSize" *ngIf="!isRemit">Enhance</th>
                <th class="fontSize" *ngIf="!isRemit">Settlement</th>
                <th class="fontSize">Proposed Limit</th>
                            <!--        for non funded commision and cash margin combination to be view-->
                <th class="fontSize" *ngIf="!isRemit">{{consumerFinance?'Existing INT':'Existing INT/COM/CM'}}</th>
                <th class="fontSize">{{consumerFinance?'Proposed INT':'Proposed INT/COM/CM'}}</th>


                <th class="fontSize">Limit Expiry/Tenure</th>
                <th class="fontSize">Repayment Mode</th>
                <th class="fontSize">Other Details</th>
                <th class="fontSize">Purpose of Loan</th>
                   </thead>
            <tbody>
            <tr *ngFor="let loan of customerAllLoanList; let i = index"
                [class.font-weight-bold]="proposalData?.id === loan?.proposal?.id">
                <td class="text-left pl-1 fontSize">
                    <ng-container
                            *ngTemplateOutlet="tickCross; context: { $implicit: loan?.documentStatus}"></ng-container>
                    &nbsp;|&nbsp;
                    <ng-container
                            *ngTemplateOutlet="loanTypeLetter; context: { $implicit: loan?.loanType }"></ng-container>
                    &nbsp;|&nbsp;
                    {{ loan?.loan?.name }})
                </td>
                <td class="text-right pr-1 fontSize" >
                    <span *ngIf="(loan?.proposal?.data | jsonParse)?.existingLimit">
                        Rs. {{(loan?.proposal?.data | jsonParse)?.existingLimit | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loan?.proposal?.data | jsonParse)?.existingLimit">-</span></td>
                <td class="text-right pr-1 fontSize" *ngIf="!isRemit" >
                    <span *ngIf="(loan?.proposal?.data | jsonParse)?.outStandingLimit">
                        Rs. {{(loan?.proposal?.data | jsonParse)?.outStandingLimit | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loan?.proposal?.data | jsonParse)?.outStandingLimit">-</span>
                </td>
                <td class="text-right pr-1 fontSize"  *ngIf="!isRemit">
                    <span *ngIf="(loan?.proposal?.data | jsonParse)?.enhanceLimitAmount">
                        Rs. {{(loan?.proposal?.data | jsonParse)?.enhanceLimitAmount | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loan?.proposal?.data | jsonParse)?.enhanceLimitAmount">-</span>
                </td>
                <td class="text-right pr-1 fontSize" *ngIf="!isRemit">
                    <span *ngIf="(loan?.proposal?.data | jsonParse)?.settlementAmount">
                        Rs. {{(loan?.proposal?.data | jsonParse)?.settlementAmount | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loan?.proposal?.data | jsonParse)?.settlementAmount">-</span>
                </td>

                <td class="text-right pr-1 fontSize">Rs. {{loan?.proposal?.proposedLimit | currencyFormatter}}</td>
                <td class="fontSize" *ngIf="!isRemit">
                    <span class="fontSize" *ngIf="loan?.loan?.isFundable">
                        IR: {{(loan?.proposal?.data | jsonParse)?.existInterestRate}}%
                    </span>
                    <span class="fontSize" *ngIf="!loan?.loan?.isFundable">
                        <span class="fontSize"
                                *ngIf="(loan?.proposal?.data | jsonParse)?.existCashMarginMethod == 'FLAT'">
                            CM: Rs. {{ ((loan?.proposal?.data | jsonParse)?.existCashMargin || 0)|currencyFormatter}} ,</span>
                        <span class="fontSize" *ngIf="(loan?.proposal?.data | jsonParse)?.existCashMarginMethod == 'PERCENT'">
                            CM: {{ ((loan?.proposal?.data | jsonParse)?.existCashMargin || 0)}}%,</span>
                        COM:{{(loan?.proposal?.data | jsonParse)?.existCommissionPercentage || '0'}} %
                    </span>
                </td>

                <td class="fontSize">
                    <span class="fontSize" *ngIf="loan?.loan?.isFundable">
                        BR : {{ (loan?.proposal?.data | jsonParse)?.baseRate}} %,
                        PR : {{ (loan?.proposal?.data | jsonParse)?.premiumRateOnBaseRate}} %,
                        IR : {{(loan?.proposal?.data | jsonParse)?.interestRate}} %
                    </span>
                    <span class="fontSize" *ngIf="!loan?.loan?.isFundable">
                        <span class="fontSize" *ngIf="(loan?.proposal?.data | jsonParse)?.cashMarginMethod == 'FLAT'">
                            CM: Rs.  {{ ((loan?.proposal?.data | jsonParse)?.cashMargin || 0) | currencyFormatter}} ,</span>
                        <span class="fontSize" *ngIf="(loan?.proposal?.data | jsonParse)?.cashMarginMethod == 'PERCENT'">
                            CM: {{ ((loan?.proposal?.data | jsonParse)?.cashMargin)}} %,</span>
                        COM:{{(loan?.proposal?.data | jsonParse)?.commissionPercentage}} %</span>
                </td>

                        <td class="fontSize">{{(loan?.proposal?.data | jsonParse)?.tenureDurationInMonths || 'N/A '}} month

                        </td>
                <td>
                    <ng-container>
                        <table>
                            <tr class="text-white sb-bg-dark fontSize">
                                <th *ngIf="(loanDatas[i].loanNatureSelected && loanDatas[i].fundableNonFundableSelcted &&   loanDatas[i].isFundable &&   loanDatas[i].isTerminating) ||  loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral">Repayment Mode</th>
                                <th *ngIf=" loanDatas[i].showInstallmentAmount  && ((loanDatas[i].loanNatureSelected && loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isFundable &&  loanDatas[i].isTerminating) || loanDatas[i].isVehicle || loanDatas[i].isShare || loanDatas[i].isGeneral)">EMI Amount</th>
                                <th *ngIf="! loanDatas[i].showInstallmentAmount &&  ((loanDatas[i].loanNatureSelected && loanDatas[i].isFundable && loanDatas[i].fundableNonFundableSelcted && loanDatas[i].isTerminating) || (loanDatas[i].isVehicle || loanDatas[i].isShare || loanDatas[i].isGeneral))">Interest Amount</th>
                                <th *ngIf=" loanDatas[i].showRepaymentMode && ((loanDatas[i].loanNatureSelected && loanDatas[i].isFundable && loanDatas[i].fundableNonFundableSelcted && loanDatas[i].isTerminating) || (loanDatas[i].isVehicle || loanDatas[i].isShare || loanDatas[i].isGeneral))">Interest Payment</th>
                                <th *ngIf=" loanDatas[i].showRepaymentMode && ((loanDatas[i].loanNatureSelected && loanDatas[i].isFundable && loanDatas[i].fundableNonFundableSelcted && loanDatas[i].isTerminating) || (loanDatas[i].isVehicle || loanDatas[i].isShare || loanDatas[i].isGeneral))">Principal Payment</th>
                                <th *ngIf=" loanDatas[i].showRepaymentMode && ((loanDatas[i].loanNatureSelected && loanDatas[i].isFundable && loanDatas[i].fundableNonFundableSelcted && loanDatas[i].isTerminating) || (loanDatas[i].isVehicle || loanDatas[i].isShare || loanDatas[i].isGeneral))">Principal Amount</th>
                                <th *ngIf=" loanDatas[i].showPrincipalAmount && ((loanDatas[i].loanNatureSelected && loanDatas[i].isFundable && loanDatas[i].fundableNonFundableSelcted && loanDatas[i].isTerminating) || (loanDatas[i].isVehicle || loanDatas[i].isShare || loanDatas[i].isGeneral))">Principal Amount</th>
                            </tr>
                            <tr class="fontSize">
                                <td *ngIf="(loanDatas[i].loanNatureSelected &&  loanDatas[i].fundableNonFundableSelcted &&   loanDatas[i].isFundable &&   loanDatas[i].isTerminating) ||  loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral" class="pl-1">{{(loan?.proposal?.data | jsonParse)?.repaymentMode}}</td>
                                <td *ngIf=" loanDatas[i].showInstallmentAmount  && ((loanDatas[i].loanNatureSelected &&  loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isTerminating  &&  loanDatas[i].isFundable) || (  loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral))" class=" pr-1">Rs. {{(loan?.proposal?.data | jsonParse)?.installmentAmount | currencyFormatter}}</td>
                                <td *ngIf="! loanDatas[i].showInstallmentAmount &&  ((loanDatas[i].loanNatureSelected &&  loanDatas[i].isFundable &&  loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isTerminating) || ( loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral))" class=" pr-1">Rs. {{(loan?.proposal?.data | jsonParse)?.interestAmount | currencyFormatter}}</td>
                                <td *ngIf=" loanDatas[i].showRepaymentMode && ((loanDatas[i].loanNatureSelected &&  loanDatas[i].isFundable &&  loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isTerminating) || ( loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral))" class=" pl-1">{{(loan?.proposal?.data | jsonParse)?.repaymentModeInterest}}</td>
                                <td *ngIf=" loanDatas[i].showRepaymentMode && ((loanDatas[i].loanNatureSelected &&  loanDatas[i].isFundable &&  loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isTerminating) || ( loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral))" class=" pl-1">{{(loan?.proposal?.data | jsonParse)?.repaymentModePrincipal}}</td>
                                <td *ngIf=" loanDatas[i].showRepaymentMode && ((loanDatas[i].loanNatureSelected &&  loanDatas[i].isFundable &&  loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isTerminating) || ( loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral))" class=" pr-1">Rs.{{(loan?.proposal?.data | jsonParse)?.principalAmount}}</td>
                                <td *ngIf=" loanDatas[i].showPrincipalAmount && ((loanDatas[i].loanNatureSelected &&  loanDatas[i].isFundable &&  loanDatas[i].fundableNonFundableSelcted &&  loanDatas[i].isTerminating) || ( loanDatas[i].isVehicle ||  loanDatas[i].isShare ||  loanDatas[i].isGeneral))" class=" pr-1">Rs.{{(loan?.proposal?.data | jsonParse)?.principalAmount}}</td>
                            </tr>
                        </table>
                    </ng-container>
                </td>
                <td>
                <ng-container *ngIf="(loan?.proposal?.data | jsonParse)?.serviceCharge" class="pr-1">
                    <span class="fontSize">Loan Administration: </span>
                    <div class="fontSize" *ngIf="(loan.proposal?.data | jsonParse)?.serviceChargeMethod === 'FLAT'; else percentage">
                        Rs. {{(loan?.proposal?.data | jsonParse)?.serviceCharge | currencyFormatter}}</div>
                    <ng-template class="fontSize" #percentage>{{(loan?.proposal?.data | jsonParse)?.serviceCharge}} % </ng-template>
                </ng-container>
            <ng-container *ngIf="(loan?.proposal?.data | jsonParse)?.commitmentFee">
                <span class="fontSize" >Commitment Fee :</span>
                <span class="fontSize">{{(loan?.proposal?.data | jsonParse)?.commitmentFee || 'N/A'}}</span>
            </ng-container>
            <ng-container *ngIf="loan?.proposal?.prepaymentCharge">
                <span class="fontSize">Prepayment Fee: </span>
                <span class="fontSize">{{loan?.proposal?.prepaymentCharge || 'N/A'}}</span>
            </ng-container>
            <ng-container *ngIf="(loan?.proposal?.data | jsonParse)?.swapCharge">
                <span class="fontSize">Swap Fee: </span>
                <span class="fontSize">{{(loan?.proposal?.data | jsonParse)?.swapCharge || 'N/A'}}</span>

            </ng-container>
                </td>
                <td>
                    <span class="fontSize" *ngIf="(loan?.proposal?.data | jsonParse)?.purposeOfLoan">
                        {{(loan?.proposal?.data | jsonParse)?.purposeOfLoan}}
                    </span>
                </td>
            </tr>
            <tr class="fontSize" *ngFor="let loanDto of customerLoanDtoList"
                [class.font-weight-bold]="proposalData?.id === loanDto?.proposal?.id">
                <td class="text-left pl-1 fontSize">
                    <ng-container
                            *ngTemplateOutlet="tickCross; context: { $implicit: loanDto?.documentStatus}"></ng-container>
                    &nbsp;|&nbsp;
                    <ng-container
                            *ngTemplateOutlet="loanTypeLetter; context: { $implicit: loanDto?.loanType }"></ng-container>
                    &nbsp;|&nbsp;
                    {{ loanDto?.name }} ({{ loanDto?.createdAt | date}} ({{ loanDto?.createdAt | engNepDate: false }}))
                </td>
                <td class="text-right pr-1 fontSize">
                    <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.existingLimit">
                        Rs. {{(loanDto?.proposal?.data | jsonParse)?.existingLimit | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loanDto?.proposal?.data | jsonParse)?.existingLimit">-</span></td>
                <td class="text-right pr-1 fontSize">
                    <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.outStandingLimit">
                        Rs. {{(loanDto?.proposal?.data | jsonParse)?.outStandingLimit | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loanDto?.proposal?.data | jsonParse)?.outStandingLimit">-</span>
                </td>
                <td class="text-right pr-1 fontSize">
                    <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.enhanceLimitAmount">
                        Rs. {{(loanDto?.proposal?.data | jsonParse)?.enhanceLimitAmount | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loanDto?.proposal?.data | jsonParse)?.enhanceLimitAmount">-</span>
                </td>
                <td class="text-right pr-1 fontSize">
                    <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.settlementAmount">
                        Rs. {{(loanDto?.proposal?.data | jsonParse)?.settlementAmount | currencyFormatter}}
                    </span>
                    <span *ngIf="!(loanDto?.proposal?.data | jsonParse)?.settlementAmount">-</span>
                </td>

                <td class="text-right pr-1 fontSize">Rs. {{loanDto?.proposal?.proposedLimit | currencyFormatter}}</td>

                <td class="text-right pr-1 fontSize">
                    <span *ngIf="(loanDto.isFundable) && ((loanDto?.proposal?.data | jsonParse)?.existInterestRate) > 0 ">
                        IR: {{(loanDto?.proposal?.data | jsonParse)?.existInterestRate}} %
                    </span>
                    <span *ngIf="!loanDto.isFundable">
                        <span *ngIf="((loanDto?.proposal?.data | jsonParse)?.existCashMarginMethod == 'FLAT') && ((loanDto?.proposal?.data | jsonParse)?.existCashMargin > 0)">
                            CM: Rs. {{(loanDto?.proposal?.data | jsonParse)?.existCashMargin || 0 | currencyFormatter}} ,</span>
                        <span *ngIf="((loanDto?.proposal?.data | jsonParse)?.existCashMarginMethod == 'PERCENT') && ((loanDto?.proposal?.data | jsonParse)?.existCashMargin > 0)">
                            CM: {{ ((loanDto?.proposal?.data | jsonParse)?.existCashMargin || 0)}} %,</span>
                        <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.existCommissionPercentage > 0">
                            COM:{{(loanDto?.proposal?.data | jsonParse)?.existCommissionPercentage || '0'}} %
                        </span>
                    </span>
                    <span *ngIf="((loanDto?.proposal?.data | jsonParse)?.existInterestRate === null)
                    && ((loanDto?.proposal?.data | jsonParse)?.existCashMargin === null)
                    && ((loanDto?.proposal?.data | jsonParse)?.existCommissionPercentage === null)">-</span>
                </td>

                <td>
                    <span *ngIf="loanDto.isFundable" class="fontSize">
                        BR : {{ (loanDto?.proposal?.data | jsonParse)?.baseRate}} %,
                        PR : {{ (loanDto?.proposal?.data | jsonParse)?.premiumRateOnBaseRate}} %,
                        IR : {{(loanDto?.proposal?.data | jsonParse)?.interestRate}} %
                    </span>
                    <span *ngIf="!loanDto.isFundable" class="fontSize">
                        <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.cashMarginMethod == 'FLAT'" class="fontSize">
                            CM: Rs.  {{ ((loanDto?.proposal?.data | jsonParse)?.cashMargin || 0) | currencyFormatter}}
                            ,</span>
                        <span *ngIf="(loanDto?.proposal?.data | jsonParse)?.cashMarginMethod == 'PERCENT'" class="fontSize">
                            CM: {{ ((loanDto?.proposal?.data | jsonParse)?.cashMargin)}} %,</span>
                        COM:{{(loanDto?.proposal?.data | jsonParse)?.commissionPercentage}} %</span>
                </td>

                <td width="150px" class="text-left pl-1">
                    <span *ngIf="!loanDto.proposal.limitExpiryMethod">-</span>
                    <span *ngIf="loanDto.proposal.limitExpiryMethod === 'ABSOLUTE'" class="fontSize">{{loanDto.proposal?.dateOfExpiry | date}}
                        ({{loanDto.proposal?.dateOfExpiry | engNepDate: false}})</span>
                    <span *ngIf="loanDto.proposal.limitExpiryMethod === 'CUSTOM'" class="fontSize">{{loanDto.proposal?.duration}} {{loanDto.proposal?.frequency}} {{loanDto.proposal?.condition}}</span>
                </td>
            </tr>
            <tr class="sb-bg-secondary text-white">
                <td class="text-left pl-1 fontSize"><strong class="fontSize">Funded</strong></td>
                <td class="text-right pr-1 fontSize">Rs. {{ (getTotalFundable('existingLimit', true, customerAllLoanList)) | currencyFormatter }}</td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">
                        Rs. {{ getTotalFundable('outStandingLimit', true, customerAllLoanList) | currencyFormatter }}
                    </span>
                </td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">
                        Rs. {{ getTotalFundable('enhanceLimitAmount', true, customerAllLoanList) | currencyFormatter }}
                    </span>
                </td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">
                        Rs. {{ getTotalFundable('settlementAmount', true, customerAllLoanList) | currencyFormatter }}
                    </span>
                </td>
                <td class="text-right pr-1 fontSize">Rs. {{ getTotalFundable('proposedLimit', true, customerAllLoanList) | currencyFormatter }}</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td *ngIf="!isRemit">-</td>
                        <td>-</td>
                        <td>-</td>



                <!--        <td>Rs. {{ getTotal('installmentAmount') | currencyFormatter }}</td>-->
                <!--        <td>Rs. {{ getTotal('interestAmount') | currencyFormatter }}</td>-->
                <!--        <td>N/A</td>-->
                <!--        <td>Rs. {{ getTotal('prepaymentCharge') | currencyFormatter }}</td>-->
            </tr>
            <tr class="sb-bg-secondary text-white">
                <td class="text-left pl-1 fontSize"><strong class="fontSize">Non-Funded</strong></td>
                <td class="text-right pr-1 fontSize">Rs. {{ (getTotalFundable('existingLimit', false, customerAllLoanList) | currencyFormatter)}}</td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">
                        Rs. {{ getTotalFundable('outStandingLimit', false, customerAllLoanList) | currencyFormatter }}
                    </span>
                </td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">Rs. {{ getTotalFundable('enhanceLimitAmount', false, customerAllLoanList) | currencyFormatter }}</span>
                </td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">
                        Rs. {{ getTotalFundable('settlementAmount', false, customerAllLoanList) | currencyFormatter }}
                    </span>
                </td>
                <td class="text-right pr-1 fontSize">Rs. {{ getTotalFundable('proposedLimit', false, customerAllLoanList) | currencyFormatter }}</td>
                    <td >-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td *ngIf="!isRemit">-</td>

                <!--        <td>Rs. {{ getTotal('installmentAmount') | currencyFormatter }}</td>-->
                <!--        <td>Rs. {{ getTotal('interestAmount') | currencyFormatter }}</td>-->
                <!--        <td>N/A</td>-->
                <!--        <td>Rs. {{ getTotal('prepaymentCharge') | currencyFormatter }}</td>-->
            </tr>
            <tr class="sb-bg-secondary text-white">
                <td class="text-left pl-1 fontSize"><strong class="fontSize">Total</strong></td>

                <td class="text-right pr-1 fontSize">Rs. {{ getTotal('existingLimit') | currencyFormatter }}</td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">Rs. {{ getTotal('outStandingLimit') | currencyFormatter }}</span>
                </td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">Rs. {{ getTotal('enhanceLimitAmount') | currencyFormatter }}</span>
                </td>
                <td class="text-right pr-1" *ngIf="!isRemit">
                    <span class="fontSize">Rs. {{ getTotal('settlementAmount') | currencyFormatter }}</span>
                </td>
                <td class="text-right pr-1 fontSize">Rs. {{ getTotal('proposedLimit') | currencyFormatter }}</td>
                    <td >-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td *ngIf="!isRemit">-</td>
                <!--        <td>Rs. {{ getTotal('installmentAmount') | currencyFormatter }}</td>-->
                <!--        <td>Rs. {{ getTotal('interestAmount') | currencyFormatter }}</td>-->
                <!--        <td>N/A</td>-->
                <!--        <td>Rs. {{ getTotal('prepaymentCharge') | currencyFormatter }}</td>-->
            </tr>
            </tbody>
        </table>
    </div>
</div>

<ng-template class="sub-header" #tickCross let-status>
    <i *ngIf="status === DocStatus[DocStatus.APPROVED]" class="fas fa-check-circle"></i>
    <i *ngIf="status !== DocStatus[DocStatus.APPROVED]" class="fas fa-times-circle"></i>
</ng-template>
<ng-template class="sub-header" #loanTypeLetter let-loanType>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.NEW_LOAN)" class="text-round">N</i>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.RENEWED_LOAN)"
       class="text-round">R</i>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.ENHANCED_LOAN)"
       class="text-round">E</i>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.CLOSURE_LOAN)"
       class="text-round">C</i>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.PARTIAL_SETTLEMENT_LOAN)"
       class="text-round">P</i>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.FULL_SETTLEMENT_LOAN)"
       class="text-round">F</i>
    <i *ngIf="loanType === EnumUtils.getEnum(LoanType, LoanType.RENEW_WITH_ENHANCEMENT)"
       class="text-round">R/E</i>
</ng-template>

<div class="row">
    <div class="col-md-12 sb-medium sub-header">
        <strong class="sub-header">Total Proposed Limit (in words):</strong>
        {{ getTotal('proposedLimit') | currencyFormatter}}
        (Rs. {{ getTotal('proposedLimit') | inWords | titlecase }}
        Only /-)
    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <table *ngIf="productUtils?.CBS_ENABLE"
               class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
                <tr class="text-white sb-bg-dark sub-header">
                    <th>Disbursement Criteria</th>
                </tr>
                <tr>
                    <td class="text-left pl-1 sub-header" [innerHTML]="proposalAllData?.disbursementCriteria | safeHtml"></td>
                </tr>
                <tr class="text-white sb-bg-dark sub-header">
                    <th>Repayment</th>
                </tr>
                <tr>
                    <td class="text-left pl-1 sub-header" [innerHTML]="proposalAllData?.repayment || 'N/A' | safeHtml"></td>
                </tr>
        </table>
    </div>

    <div class="col-md-12">
        <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small ">
            <ng-container *ngIf="checkedData?.solChecked">
                <tr class="text-white sb-bg-dark sub-header">
                    <th>Single Obligor Limit</th>
                </tr>
                <tr>
                    <td class="text-left pl-1 sub-header"><span [innerHTML]="proposalAllData?.solConclusionRecommendation || 'N/A' | safeHtml"></span></td>
                </tr>
            </ng-container>
            <ng-container *ngIf="checkedData?.riskChecked">
                <tr class="text-white sb-bg-dark sub-header">
                    <th>Risk & Mitigation</th>
                </tr>
                <tr>
                    <td class="text-left pl-1 sub-header"><span [innerHTML]="proposalAllData?.riskConclusionRecommendation || 'N/A' | safeHtml"></span></td>
                </tr>
            </ng-container>
        </table>

        <table class="table table-sm table-condensed table-bordered table-responsive-md text-center table-sm sb-small ">
            <tr *ngIf="(loanDataHolder?.loanHolder?.cicl?.cibCharge | currencyFormatter) || loanDataHolder?.loanHolder?.cicl?.cibRemark">
                <td class="sb-bg-dark text-white sub-header">CIB Charge</td>
                <td class="sub-header">{{loanDataHolder?.loanHolder?.cicl?.cibCharge ?  loanDataHolder?.loanHolder?.cicl?.cibCharge  :  loanDataHolder?.loanHolder?.cicl?.cibRemark ? (loanDataHolder?.loanHolder?.cicl?.cibRemark | jsonParse)?.value:'N/A'}}</td>
            </tr>
        </table>

    </div>
</div>

