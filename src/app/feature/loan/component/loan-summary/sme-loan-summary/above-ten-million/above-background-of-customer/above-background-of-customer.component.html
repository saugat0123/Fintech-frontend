<div class="row">
    <div class="col-md-6">
        <table class="table table-bordered table-sm sb-small">
            <tr>
                <th colspan="2" class="text-center">3.1 General Information</th>
            </tr>
            <tr>
                <td>Legal Status</td>
                <td>{{companyInfo?.legalStatus?.corporateStructure?.name ?
                    companyInfo?.legalStatus?.corporateStructure?.name : "NA"}}</td>
            </tr>
            <tr>
                <td>Firm registration No. and date</td>
                <td>{{companyInfo?.registrationNumber}}, {{companyInfo?.legalStatus?.registrationDate
                    ? (companyInfo?.legalStatus?.registrationDate | date) : 'N/A'}}</td>
            </tr>
            <tr>
                <td>Registered at</td>
                <td>{{companyInfo?.legalStatus?.registeredOffice | replace: '_': ' '}}</td>
            </tr>
            <tr>
                <td>Registered under</td>
                <td>{{companyInfo?.legalStatus?.registeredUnderAct}}</td>
            </tr>
            <tr>
                <td>Firm renewed up to</td>
                <td>FY {{jsonData?.otherCompanyDetail?.firmRenew}}</td>
            </tr>
            <tr>
                <td>PAN No., date, and place of issue</td>
                <td>{{companyInfo?.panNumber ? companyInfo?.panNumber : 'NA'}},
                    {{companyInfo?.legalStatus?.panRegistrationDate ? (companyInfo?.legalStatus?.panRegistrationDate | date) : 'NA'}},
                    {{(companyInfo?.legalStatus?.data | jsonParse)?.regIssuedPlace ? (companyInfo?.legalStatus?.data | jsonParse)?.regIssuedPlace : 'NA'}}</td>
            </tr>
            <tr>
                <td>Tax cleared up to</td>
                <td>FY {{jsonData?.otherCompanyDetail?.taxClearanceTill}}</td>
            </tr>
        </table>
    </div>
    <div class="col-md-6">
        <table class="table table-bordered table-sm sb-small">
            <tr>
                <th colspan="2" class="text-center">3.2 Capital structure & Ratings</th>
            </tr>
            <tr>
                <td> Authorized Capital</td>
                <td>{{companyInfo?.capital?.authorizedCapital | currencyFormatter}}</td>
            </tr>
            <tr>
                <td>Issued Capital</td>
                <td>{{companyInfo?.capital?.issuedCapital | currencyFormatter}}</td>
            </tr>
            <tr>
                <td>Paid up Capital</td>
                <td>{{companyInfo?.capital?.paidUpCapital | currencyFormatter}}</td>
            </tr>
            <tr>
                <td>Latest Net Worth as per B/S</td>
                <td>...(as of...)</td>
            </tr>
            <tr>
                <td>CCBL Ratings</td>
                <td>Rating Indicator</td>
            </tr>
            <tr>
                <td>Based on Balance Sheet as of: FY
                    <b>{{(loanHolder?.crgCcbl | jsonParse)?.selectedFiscalYear}}</b></td>
                <td>{{(loanHolder?.crgCcbl | jsonParse)?.thresholdPoint}}</td>
            </tr>
        </table>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <table class="table table-bordered table-sm sb-small">
            <thead>
            <tr>
                <th colspan="3" class="text-center">3.3 Current Board of Directors</th>
            </tr>
            <tr>
                <th>SN</th>
                <th>Name</th>
                <th>Position</th>
            </tr>
            </thead>

            <tbody>
            <tr *ngFor="let pro of jsonData?.proprietorList; let i = index">
                <td>{{i+1}}</td>
                <td>{{pro?.name}}</td>
                <td>{{pro?.type}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <table class="table table-bordered table-sm sb-small">
            <thead>
            <tr>
                <th colspan="2" class="text-center">3.4 Major promotors holding 15% and above</th>
            </tr>
            <tr>
                <td>Name</td>
                <td>%</td>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let pro of jsonData?.proprietorList; let ii = index">
                <td>{{pro?.name}}</td>
                <td>{{pro?.share}}</td>
            </tr>
            <tr>
                <th>Total</th>
                <th>{{jsonData?.totalSharePercent}}</th>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<ng-container *ngIf="companyInfo?.customerCategory === 'DSL_WHOLE_SALE' else others">
    <div class="container-fluid">
        <p style="font-size: 13.5px"><strong>3.5 Promoters Structure</strong></p>
        <table class="table table-condensed table-bordered table-responsive-md sb-small">
            <thead>
            <tr>
                <td rowspan="2" style="vertical-align: middle; text-align: center"><strong>S.N.</strong></td>
                <td rowspan="2" style="vertical-align: middle; text-align: center"><strong>Particulars</strong></td>
                <td colspan="2" style="text-align: center"><strong>Current year</strong></td>
                <td colspan="2" style="text-align: center"><strong>Previous year</strong></td>
            </tr>
            <tr>
                <td><strong>Share Capital</strong></td>
                <td><strong>%</strong></td>
                <td><strong>Share Capital</strong></td>
                <td><strong>%</strong></td>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let shareCapital of shareCapitalDetails; let i = index;">
                <td>
                    <span>{{i+1}}</span>
                </td>
                <td>
                    {{shareCapital.particulars}}
                </td>
                <td>
                   {{shareCapital.capitalFirstYear}}
                </td>
                <td>
                    {{shareCapital.percentFirsYear}}
                </td>
                <td>
                    {{shareCapital.capitalSecondYear}}
                </td>
                <td>
                    {{shareCapital.percentSecondYear}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <span [innerHTML]="(companyInfo.companyJsonData | jsonParse).promoterStructure || 'NA' | safeHtml"></span>
</ng-container>
<ng-template #others>
<div class="container-fluid">
    <p style="font-size: 13.5px"><strong>3.5 Address and contact details</strong></p>
</div>
<table class="table table-bordered table-sm sb-small">
    <tr>
        <td></td>
        <td>Registered Office</td>
        <td>Residence of main person</td>
        <td>Factory/Business/Site</td>
    </tr>
    <tr>
        <td>Address</td>
        <td>{{contactDetails?.registeredOfficeLegalAddress}}</td>
        <td>{{contactDetails?.residenceOfMainPerson}}</td>
        <td>{{contactDetails?.factoryBusinessLegalAddress}}</td>
    </tr>
    <tr>
        <td>Phone#</td>
        <td>{{contactDetails?.registeredOfficePhoneNumber}}</td>
        <td>{{contactDetails?.residenceOfMainPersonPhoneNumber}}</td>
        <td>{{contactDetails?.factoryBusinessPhoneNumber}}</td>
    </tr>
    <tr>
        <td>Fax</td>
        <td>{{contactDetails?.registeredOfficeFax}}</td>
        <td>{{contactDetails?.residenceOfMainPersonFax}}</td>
        <td>{{contactDetails?.factoryBusinessFax}}</td>
    </tr>
    <tr>
        <td>Email</td>
        <td>{{contactDetails?.registeredOfficeEmail}}</td>
        <td>{{contactDetails?.residenceOfMainPersonEmail}}</td>
        <td>{{contactDetails?.factoryBusinessEmail}}</td>
    </tr>
    <tr>
        <td>Contact Person/s</td>
        <td>{{contactDetails?.registeredOfficeContactPer}}</td>
        <td>{{contactDetails?.residenceOfMainPersonContactPer}}</td>
        <td>{{contactDetails?.factoryBusinessContactPer}}</td>
    </tr>
    <tr>
        <td>Mobile#</td>
        <td>{{contactDetails?.registeredOfficeMobile}}</td>
        <td>{{contactDetails?.residenceOfMainPersonMobile}}</td>
        <td>{{contactDetails?.factoryBusinessMobile}}</td>
    </tr>
</table>
</ng-template>
