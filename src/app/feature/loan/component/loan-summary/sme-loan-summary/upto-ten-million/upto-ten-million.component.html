<hr>
<app-summary-header [loanCategory]="loanDataHolder?.loanHolder?.customerType"
                    [loanDataHolder]="loanDataHolder"
                    [crgCCbl]="(loanDataHolder?.loanHolder?.crgCcbl | jsonParse)"
                    [isJointInfo]="loanDataHolder?.loanHolder?.isJointCustomer"
                    [currentDocAction]="loanDataHolder?.currentStage?.docAction?.toString()">
</app-summary-header>
<hr>
<ol class="upto-ten-million-list">
    <li>
        <p><strong>PROPOSAL:</strong> To seek approval for providing credit facilities of NPR <b>{{totalAmount}}</b>
            to M/S <b>{{loanDataHolder?.loanHolder?.name}}</b>, with details as under:</p>
    </li>
    <li>
        <p><strong>APPROVING AUTHORITY:</strong> {{this.approveAuth}}</p>
    </li>
    <li>
        <p><strong>PURPOSE OF CREDIT FACILITIES:</strong></p>
        <app-proposal-justification-summary [customerAllLoanList]="customerAllLoanList"
                                            [isDetailedView]="isDetailedView"
                                            [proposalData]="loanDataHolder?.proposal"></app-proposal-justification-summary>
    </li>
    <li>
        <!-- details of the customer -->
        <p>
            <strong>DETAILS OF THE CUSTOMER:</strong><br>
            <app-upto-details-of-the-customer
                    [companyInfo]="loanDataHolder?.companyInfo"
                    [loanDataHolder]="loanDataHolder"></app-upto-details-of-the-customer>
        </p>
    </li>
    <li>
        <!-- background information -->
        <p>
            <strong>BACKGROUND INFORMATION:</strong><br>
            <strong>5.1 BUSINESS:</strong>
        </p>
        <span [innerHTML]="(loanDataHolder?.companyInfo?.companyJsonData | jsonParse)?.business || 'NA' | safeHtml"></span>
        <p class="mt-2">
            <strong>5.2 PROMOTERS/KEY PERSON(S) AND THEIR NETWORTH:</strong>
        </p>
        <span [innerHTML]="(loanDataHolder?.companyInfo?.companyJsonData | jsonParse)?.promoterNetWorth || 'NA' | safeHtml"></span>
    </li>
    <li>
        <!-- current status and present proposal -->
        <strong>CURRENT STATUS AND PRESENT PROPOSAL</strong>
        <app-proposal-view [proposalData]="loanDataHolder?.proposal"
                           [loanDataHolder]="loanDataHolder"
                           [customerAllLoanList]="customerAllLoanList"> </app-proposal-view>
    </li>
<!--    <li *ngIf="loanDataHolder?.loanHolder?.siteVisit || fixedAssetsData?.length > 0">-->
<!--        <app-site-visit-view [siteVisit]="loanDataHolder?.loanHolder?.siteVisit"-->
<!--                             [fixedAssetsData]="fixedAssetsData"></app-site-visit-view>-->
<!--    </li>-->
    <li>
        <!-- security arrangement -->
        <p><strong>SECURITY ARRANGEMENT</strong></p>
        <app-security-document-view [security]="loanDataHolder?.loanHolder?.security"> </app-security-document-view>
    </li>
    <li>
        <app-insurance-summary *ngIf="loanDataHolder?.insurance; else notAvailable"
                               [insurance]="loanDataHolder?.insurance"></app-insurance-summary>
    </li>
    <li>
        <!-- key financial figures -->
        <p><strong>KEY FINANCIAL FIGURES </strong></p>
        <table  style="width: 100%"  class= "table-responsive-md sb-small table-sm table-bordered"
                [innerHTML]="financialCCBL?.data?.financialFigure || 'NA' | safeHtml" ></table>
<!--        <app-financial-view [formData]="loanDataHolder?.loanHolder?.financial"-->
<!--                            [customerType]="loanDataHolder?.loanHolder?.customerType"></app-financial-view>-->
    </li>

    <li>
        <!-- group position -->
        <strong>GROUP POSITION <em>(including the present proposal)</em></strong>
        as of {{loanDataHolder?.loanHolder?.mgroupInfo?.groupExposureDate
        ? (loanDataHolder?.loanHolder?.mgroupInfo?.groupExposureDate | date) : 'NA'}} <br>
        <app-m-group-summary *ngIf="loanDataHolder?.loanHolder?.mgroupInfo; else notAvailable"
                             [customerCategory]="customerCategory"
                             [mGroup]="loanDataHolder?.loanHolder.mgroupInfo"></app-m-group-summary>
    </li>

    <li>
        <!-- assessment for requirement of fund -->
        <p><strong>ASSESSTMENT FOR REQUIREMENT OF FUND:</strong></p>
        <p class="text-uppercase"><strong>Assessment of Facilities Requirement</strong></p>
        <div  class="col-md-12 table-responsive-md" *ngIf="financialCCBL?.data">
            <strong>10.1 FB Working capital assessment</strong> (Amounts in Million)
            <table  style="width: 100%"  class= "table-responsive-md sb-small table-sm table-bordered"
                    [innerHTML]="financialCCBL?.data?.assesment || 'NA' | safeHtml" ></table>
            <table  style="width: 100%" [innerHTML]="financialCCBL?.data?.assessmentComment || 'NA' | safeHtml" ></table>
            <strong>10.2 ASSESSMENT OF TERM LOAN</strong> (Amounts in Million)
            <table  style="width: 100%"  class= "table-responsive-md sb-small table-sm table-bordered"
                    [innerHTML]="financialCCBL?.data?.assesment2 || 'NA' | safeHtml" ></table>
            <table  style="width: 100%" [innerHTML]="financialCCBL?.data?.assessmentComment2 || 'NA' | safeHtml" ></table>
            <strong>10.3 ASSESSMENT OF OTHER CREDIT FACILITIES: </strong> (Amounts in Million)
            <table  style="width: 100%"  class= "table-responsive-md sb-small table-sm table-bordered"
                    [innerHTML]="financialCCBL?.data?.assesment3 || 'NA' | safeHtml" ></table>
            <table  style="width: 100%" [innerHTML]="financialCCBL?.data?.assessmentComment3 || 'NA' | safeHtml" ></table>
        </div>
<!--        <app-assessment-requirement-of-fund></app-assessment-requirement-of-fund>-->
    </li>
    <li>
        <!-- banking relationship -->
        <p><strong>BANKING RELATIONSHIP:</strong></p>
        <app-above-banking-arrangement-of-the-customer *ngIf="loanDataHolder?.loanHolder?.multiBanking || loanDataHolder?.loanHolder?.cicl; else notAvailable"
                                                       [multiBanking]="loanDataHolder?.loanHolder?.multiBanking"
                                                       [proposal]="loanDataHolder?.proposal"
                                                       [isRetailCustomer]="false"
                                                       [cicl]="loanDataHolder?.loanHolder?.cicl"
                                                       [customerCategory]="loanDataHolder?.loanHolder?.customerCategory"></app-above-banking-arrangement-of-the-customer>
    </li>
    <li>
        <!-- other charges -->
        <p><strong>OTHER CHARGES:</strong></p>
        <app-retail-recommendation *ngIf="customerAllLoanList"
                                   [customerAllLoanList]="customerAllLoanList"></app-retail-recommendation>
<!--        <app-upto-other-charges></app-upto-other-charges>-->
    </li>
    <li>
        <!-- covenants -->
        <p><strong>COVENANTS:</strong></p>
        <span [innerHTML]="(loanDataHolder?.proposal?.data | jsonParse)?.specialCovenant || 'NA' | safeHtml"></span>
<!--        <app-upto-convenants></app-upto-convenants>-->
    </li>
    <li>
        <!-- disbursement modality -->
        <p><strong>DISBURSEMENT MODALITY (FACILITY WISE):</strong></p>
        <app-upto-disbursement-modality></app-upto-disbursement-modality>
    </li>
    <li>
        <!-- repayment-modality -->
        <p><strong>REPAYMENT MODALITY:</strong></p>
        <app-upto-repayment-modality></app-upto-repayment-modality>
    </li>
    <li *ngIf="loanDataHolder?.loanHolder?.netTradingAssets">
        <!-- nta statement and inspection -->
        <p><strong>NTA STATEMENT AND INSPECTION:</strong></p>
        <app-nta-summary *ngIf="loanDataHolder?.loanHolder?.netTradingAssets; else notAvailable"
                         [fiscalYears]="fiscalYear"
                         [netTradingAssetsData]="loanDataHolder?.loanHolder?.netTradingAssets"></app-nta-summary>
    </li>
    <li>
        <!-- waiver deviations and deferral -->
        <p><strong>WAIVERS, DEVIATIONS AND DEFERRAL, IF ANY:</strong></p>
        <span [innerHTML]="(loanDataHolder?.proposal?.data | jsonParse)?.waiverConclusionRecommendation || 'NA' | safeHtml"></span>
    </li>
    <li>
        <!-- nrb statutory remarks status -->
        <p><strong>NRB/STATUTORY AUDITORS/INTERNAL AUDITORS REMARKS AND THEIR STATUS:</strong></p>
        <app-nrb-statutory-remarks-status [loanDataHolder]="loanDataHolder"></app-nrb-statutory-remarks-status>
    </li>

    <li *ngIf="(loanDataHolder?.loanHolder?.data | jsonParse)?.reviewDate">
        <p><strong>REVIEW OF CREDIT FACILITIES</strong></p>
        <app-above-review-of-credit-facilities [loanDataHolder]="loanDataHolder"></app-above-review-of-credit-facilities>
    </li>
    <li>
        <!-- mis nrb reporting -->
        <p><strong>MIS/NRB REPORTING</strong></p>
        <app-report-summary [approved]="false"
                            *ngIf="loanDataHolder?.loanHolder?.reportingInfoLevels; else notAvailable"
                            [reportingInfoLevels]="loanDataHolder?.loanHolder?.reportingInfoLevels"></app-report-summary>
    </li>
    <li>
        <!-- conlusion review table -->
        <p><strong>CONCLUSION, REVIEW AND RECOMMENDATION:</strong></p>
        <app-signature-section [loanDataHolder]="loanDataHolder"></app-signature-section>
<!--        <app-conlusion-review-table></app-conlusion-review-table>-->
    </li>
<!--</ol>-->
<!--&lt;!&ndash;credit card requirement&ndash;&gt;-->
<!--<app-credit-card-requirement></app-credit-card-requirement>-->
</ol>
<ng-template #notAvailable>Not Available</ng-template>
