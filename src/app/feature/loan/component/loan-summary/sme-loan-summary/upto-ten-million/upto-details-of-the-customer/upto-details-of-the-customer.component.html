<p><strong>Name:</strong> M/S <b>{{loanDataHolder?.companyInfo?.companyName}}</b>
    (Mr/Ms: <b>{{contactedPerson[0]?.contactName}}</b>, mobile: <b>{{contactedPerson[0]?.contactNumber}}</b>)</p>
<table class="table table-condensed table-bordered table-responsive-md sb-small">
    <tr>
        <td><b>Legal status</b></td>
        <td colspan="2">{{companyInfo?.legalStatus?.corporateStructure?.name}}</td>
        <td><b>Customer ID:</b></td>
        <td>{{loanDataHolder?.loanHolder?.customerCode}}</td>
        <td colspan="2"><b>Next review</b></td>
        <td>{{reviewDate?.nextReviewDate}}</td>
    </tr>
    <tr>
        <td><b>Group(Name, Code)</b></td>
        <td colspan="2">{{loanDataHolder?.loanHolder?.mgroupInfo?.groupName}}, {{loanDataHolder?.loanHolder?.mgroupInfo?.groupCode}}</td>
        <td><b>VAT /PAN No.</b></td>
        <td>{{companyInfo?.panNumber}}</td>
        <td colspan="3" class="font-weight-bold" style="text-align: center;">Banking with CCBL since</td>
    </tr>
    <tr>
        <td><b>Firm/Com. Reg. No.</b></td>
        <td colspan="2">{{companyInfo?.registrationNumber}}</td>
        <td><b>Reg. Date</b></td>
        <td>{{companyInfo?.legalStatus?.registrationDate
            ? (companyInfo?.legalStatus?.registrationDate | date) : 'N/A'}}</td>
        <td colspan="2"><b>Group</b></td>
        <td><b>Customer</b></td>
    </tr>
    <tr>
        <td><b>Firm renewed</b></td>
        <td colspan="2">For FY {{companyJsonData?.otherCompanyDetail?.firmRenew}}</td>
        <td><b>A/C strategy</b> </td>
        <td></td>
        <td colspan="2">{{companyJsonData?.relationshipSince ? (companyJsonData?.relationshipSince | date) : 'N/A'}}</td>
        <td>{{companyJsonData?.relationshipSinceWithCustomer ? (companyJsonData?.relationshipSinceWithCustomer | date) : 'N/A'}}</td>
    </tr>
    <tbody>
    <tr>
        <td rowspan="2"><b>Line of business</b></td>
        <td rowspan="2" colspan="2">
            {{companyJsonData ? companyJsonData?.majorProductService : ''}}
        </td>
        <td><b>Banking Arrangement</b></td>
        <td colspan="4">
            {{checkedData?.swapChecked ? 'Swap' : ''}},
            {{checkedData?.consortiumChecked ? 'Consortium' : ''}},
            {{checkedData?.multiBankingChecked ? 'MultiBanking' : ''}}
        </td>
    </tr>
    <tr>
        <th>Particular</th>
        <th>FB</th>
        <th>NFB</th>
        <th>TL</th>
        <th>Total</th>
    </tr>
    <tr>
        <td><b>CIC Report</b></td>
        <td colspan="2">
            Date: {{loanDataHolder?.loanHolder?.cicl?.cibDate
            ? (loanDataHolder?.loanHolder?.cicl?.cibDate | date) : 'N/A'}};<br>
            Status: {{ciclData[ciclData?.length - 1]?.overdueStatus}}
        </td>
        <ng-container *ngIf="multiBankingData?.consortium">
            <td>{{multiBankingData?.consortium[0]?.coBankName}}</td>
            <td>{{multiBankingData?.consortium[0]?.funded}}</td>
            <td>{{multiBankingData?.consortium[0]?.nonFunded}}</td>
            <td>{{multiBankingData?.consortium[0]?.termLoan}}</td>
            <td>{{multiBankingData?.consortium[0]?.total}}</td>
        </ng-container>

    </tr>
    <tr>
        <td><b>ESRM Rating</b></td>
        <td colspan="2"> </td>
        <ng-container *ngIf="multiBankingData?.consortium">
            <td>{{multiBankingData?.consortium[1]?.coBankName}}</td>
            <td>{{multiBankingData?.consortium[1]?.funded}}</td>
            <td>{{multiBankingData?.consortium[1]?.nonFunded}}</td>
            <td>{{multiBankingData?.consortium[1]?.termLoan}}</td>
            <td>{{multiBankingData?.consortium[1]?.total}}</td>
        </ng-container>
    </tr>
    </tbody>

    <tr>
        <td colspan="3"><b>Rating/NRB Classification/risk weight</b></td>
        <td><b>Total</b></td>
        <td>{{multiBankingData?.totalFunded}}</td>
        <td>{{multiBankingData?.totalNonFunded}}</td>
        <td>{{multiBankingData?.totalTermLoan}}</td>
        <td>{{multiBankingData?.totalTotal}}</td>
    </tr>
    <tbody>
    <tr>
        <td><b>CCBL</b></td>
        <td><b>External (name)</b></td>
        <td><b>NRB</b></td>
        <td colspan="5"><b>Main Promoters/Partners/Proprietor</b></td>
    </tr>
    <tr>
        <td [attr.rowspan]="propList?.length+1">{{(loanDataHolder?.loanHolder?.crgCcbl | jsonParse)?.thresholdPoint}}</td>
        <td [attr.rowspan]="propList?.length+1"></td>
        <td [attr.rowspan]="propList?.length+1"></td>
        <th class="sn">SN</th>
        <th colspan="2">Name</th>
        <th>Designation</th>
        <th>Share(in %)</th>
    </tr>
    <ng-container *ngIf="propList?.length >= 1">
        <tr *ngFor="let prop of propList; let i = index">
            <td>{{i+1}}</td>
            <td colspan="2">{{prop?.name}}</td>
            <td>{{prop?.type}}</td>
            <td>{{prop?.share}}</td>
        </tr>
    </ng-container>
    </tbody>
    <tbody>
        <tr>
            <td colspan="3" [rowSpan]="propList?.length +1">
                <b>Address:</b> Office: {{(loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.registeredOfficeLegalAddress}}
                <br>
                <b>Factory/Business</b>: {{(loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.factoryBusinessLegalAddress}}
            </td>
        </tr>
    </tbody>
    <tr>
</table>
