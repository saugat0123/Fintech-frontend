<p><strong>Name:</strong> M/S <b>{{loanDataHolder?.companyInfo?.companyName}}</b>
    (Mr/Ms: <b>{{(loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.residenceOfMainPersonContactPer ?
        (loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.residenceOfMainPersonContactPer: 'NA'}}</b>,
    Mobile: <b>{{(loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.residenceOfMainPersonMobile ?
        (loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.residenceOfMainPersonMobile : 'NA'}}</b>)</p>
<table class="table table-condensed table-bordered table-responsive-md sb-small">
    <tr>
        <td><b>Legal status</b></td>
        <td colspan="2">{{companyInfo?.legalStatus?.corporateStructure?.name}}</td>
        <td><b>Customer ID:</b></td>
        <td>{{loanDataHolder?.loanHolder?.customerCode}}</td>
        <td colspan="2"><b>Next review</b></td>
        <td>{{reviewDate?.nextReviewDate}}</td>
    </tr>
    <tr>
        <td><b>Group(Name, Code)</b></td>
        <td colspan="2">{{loanDataHolder?.loanHolder?.mgroupInfo?.groupName}}, {{loanDataHolder?.loanHolder?.mgroupInfo?.groupCode}}</td>
        <td><b>VAT /PAN No.</b></td>
        <td>{{companyInfo?.panNumber}}</td>
        <td colspan="3" class="font-weight-bold" style="text-align: center;">Banking with CCBL since</td>
    </tr>
    <tr>
        <td><b>Firm/Com. Reg. No.</b></td>
        <td colspan="2">{{companyInfo?.registrationNumber}}</td>
        <td><b>Reg. Date</b></td>
        <td>{{companyInfo?.legalStatus?.registrationDate
            ? (companyInfo?.legalStatus?.registrationDate | date) : 'N/A'}}</td>
        <td colspan="2"><b>Group</b></td>
        <td><b>Customer</b></td>
    </tr>
    <tr>
        <td><b>Firm renewed</b></td>
        <td colspan="2">For FY {{companyJsonData?.otherCompanyDetail?.firmRenew}}</td>
        <td><b>A/C strategy</b> </td>
        <td>{{(companyInfo?.accStrategy) ? (companyInfo?.accStrategy) : 'N/A'}}</td>
        <td colspan="2">{{companyJsonData?.relationshipSince ? (companyJsonData?.relationshipSince | date) : 'N/A'}}</td>
        <td>{{companyJsonData?.relationshipSinceWithCustomer ? (companyJsonData?.relationshipSinceWithCustomer | date) : 'N/A'}}</td>
    </tr>
    <tbody>
    <tr>
        <td rowspan="2"><b>Line of business</b></td>
        <td rowspan="2" colspan="2">
            {{companyJsonData ? companyJsonData?.majorProductService : ''}}
        </td>
        <td><b>Banking Arrangement</b></td>
        <td colspan="4">
            {{checkedData?.swapChecked ? 'Swap' : ''}}
            {{(checkedData?.swapChecked && (checkedData?.consortiumChecked || checkedData?.multiBankingChecked)) ? ', ': ''}}
            {{checkedData?.consortiumChecked ? 'Consortium' : ''}}
            {{(checkedData?.consortiumChecked && checkedData?.multiBankingChecked) ? ', ': ''}}
            {{checkedData?.multiBankingChecked ? 'MultiBanking' : ''}}
        </td>
    </tr>
    <tr>
        <th>Particular</th>
        <th>FB</th>
        <th>NFB</th>
        <th>TL</th>
        <th>Total</th>
    </tr>
    <tr>
        <td><b>CIC Report</b></td>
        <td colspan="2">
            Date: {{loanDataHolder?.loanHolder?.cicl?.cibDate
            ? (loanDataHolder?.loanHolder?.cicl?.cibDate | date) : 'N/A'}};<br>
            Status: {{ciclData[ciclData?.length - 1]?.overdueStatus}}
        </td>
        <ng-container *ngIf="multiBankingData?.consortium">
            <td>{{multiBankingData?.consortium[0]?.coBankName}}</td>
            <td>{{multiBankingData?.consortium[0]?.funded | currencyFormatter}}</td>
            <td>{{multiBankingData?.consortium[0]?.nonFunded | currencyFormatter}}</td>
            <td>{{multiBankingData?.consortium[0]?.termLoan | currencyFormatter}}</td>
            <td>{{multiBankingData?.consortium[0]?.total | currencyFormatter}}</td>
        </ng-container>

    </tr>
    <tr>
        <td><b>ESRM Rating</b></td>
        <td colspan="2">{{(loanDataHolder?.loanHolder?.crgCcbl | jsonParse)?.esrmRating}}</td>
        <ng-container *ngIf="multiBankingData?.consortium">
            <td>{{multiBankingData?.consortium[1]?.coBankName}}</td>
            <td>{{multiBankingData?.consortium[1]?.funded | currencyFormatter}}</td>
            <td>{{multiBankingData?.consortium[1]?.nonFunded | currencyFormatter}}</td>
            <td>{{multiBankingData?.consortium[1]?.termLoan | currencyFormatter}}</td>
            <td>{{multiBankingData?.consortium[1]?.total | currencyFormatter}}</td>
        </ng-container>
    </tr>
    </tbody>

    <tr>
        <td colspan="5" *ngIf="!isDSL"><b>Rating/NRB Classification/risk weight</b></td>
        <td colspan="5" *ngIf="isDSL"><b>Rating/risk weight</b></td>
        <td><b>Total</b></td>
        <td>{{multiBankingData?.totalFunded | currencyFormatter}}</td>
        <td>{{multiBankingData?.totalNonFunded | currencyFormatter}}</td>
        <td>{{multiBankingData?.totalTermLoan | currencyFormatter}}</td>
        <td>{{multiBankingData?.totalTotal | currencyFormatter}}</td>
    </tr>
    <tbody>
    <tr>
        <td><b>CCBL</b></td>
        <td><b>External (name)</b></td>
        <td><b>NRB</b></td>
        <td colspan="5" *ngIf="!isDSL"><b>Main Promoters/Partners/Proprietors</b></td>
        <td colspan="5" *ngIf="isDSL"><b>Main Promoters/Shareholders</b></td>
    </tr>
    <tr>
        <td [attr.rowspan]="propList?.length+1">{{(loanDataHolder?.loanHolder?.crgCcbl | jsonParse)?.thresholdPoint}}</td>
        <td [attr.rowspan]="propList?.length+1"></td>
        <td [attr.rowspan]="propList?.length+1"></td>
        <th class="sn">SN</th>
        <th colspan="2">Name</th>
        <th>Designation</th>
        <th>Share(in %)</th>
    </tr>
    <ng-container *ngIf="propList?.length >= 1">
        <tr *ngFor="let prop of propList; let i = index">
            <td>{{i+1}}</td>
            <td colspan="2">{{prop?.name}}</td>
            <td>{{prop?.type}}</td>
            <td>{{prop?.share}}</td>
        </tr>
    </ng-container>
    </tbody>
    <tbody>
        <tr>
            <td colspan="3" [rowSpan]="propList?.length +1">
                <b>Address:</b> Office: {{(loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.registeredOfficeLegalAddress}}
                <br>
                <b>Factory/Business</b>: {{(loanDataHolder?.companyInfo?.companyContactDetails | jsonParse)?.factoryBusinessLegalAddress}}
            </td>
        </tr>
    </tbody>
    <tr>
</table>
