<form (ngSubmit)="onSubmit()" [formGroup]="customerInfoNepali" class="form-horizontal nep">
  <!-- START ROW -->
  <div class="row">
    <div class="col-md-4 form-group">
      <label for="customerName"><strong>ग्राहक पूरा नाम</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.customerName.errors }"
          class="form-control form-control-sm-error rounded nepaliFont"
          formControlName="customerName"
          id="customerName"
          placeholder="ग्राहक पूरा नाम"
          type="text" #customerName  (change)="setCustomerName(customerName.value)">
      <div *ngIf="submitted && customerInfoNepaliControls.customerName.invalid"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.customerName.errors.required">
          ग्राहक पूरा नाम आवश्यक छ
        </div>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="dob"><strong>जन्म मिति</strong></label>
      <input [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.dob.errors }"
             class="form-control nepaliFont" formControlName="dob"
             id="dob"
             placeholder="जन्म मिति"
             type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.dob.errors"
           class="invalid-feedback">
        <div
            *ngIf="customerInfoNepaliControls.dob.errors.required || customerInfoNepaliControls.dob.errors.beforeToday">
          अवैध जन्म मिति
        </div>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="contactNumber"><strong>सम्पर्क नम्बर</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.contactNumber.errors }"
          class="form-control nepaliFont" formControlName="contactNumber" id="contactNumber"
          placeholder="सम्पर्क नम्बर"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.contactNumber.invalid"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.contactNumber.errors.required">
          सम्पर्क नम्बर आवश्यक छ
        </div>
      </div>
    </div>
  </div>
  <!-- END ROW -->

  <!-- START ROW -->
  <div class="row">
    <div class="col-md-4 form-group">
      <label for="province"><strong>प्रदेश</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.province.errors }"
          class="form-control form-control-sm-error rounded nepaliFont"
          formControlName="province"
          id="province"
          placeholder="प्रदेश"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.province.invalid"
           class="invalid-feedback">
              <span
                  *ngIf="customerInfoNepaliControls.province.errors.required">प्रदेश आवश्यक छ</span>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="district"><strong>जिल्ला</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.district.errors }"
          class="form-control form-control-sm-error rounded nepaliFont"
          formControlName="district"
          id="district"
          placeholder="जिल्ला"
          type="text">
      <div *ngIf="submitted &&  customerInfoNepaliControls.district.invalid"
           class="invalid-feedback">
        <span *ngIf="customerInfoNepaliControls.district.errors.required">जिल्ला आवश्यक छ</span>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="municipalities"><strong>नगरपालिका वा गाउँ विकास समिति</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.municipalities.errors }"
          class="form-control form-control-sm-error rounded nepaliFont"
          formControlName="municipalities"
          id="municipalities"
          placeholder="नगरपालिका वा गाउँ विकास समिति"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.municipalities.invalid"
           class="invalid-feedback">
        <span *ngIf="customerInfoNepaliControls.municipalities.errors.required">नगरपालिका वा गाउँ विकास समिति आवश्यक छ</span>
      </div>
    </div>
  </div>
  <!-- END ROW -->
  <!-- START ROW -->
  <div class="row">
    <div class="col-md-4 form-group">
      <label for="street"><strong>सडक</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.street.errors }"
          class="form-control nepaliFont" formControlName="street" id="street"
          placeholder="बाटोको नाम"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.street.invalid"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.street.errors.required">सडक आवश्यक छ</div>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="wardNumber"><strong>वार्ड नम्बर</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.wardNumber.errors }"
          class="form-control nepaliFont" formControlName="wardNumber" id="wardNumber"
          name="wardNumber" placeholder="वार्ड नम्बर"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.wardNumber.invalid"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.wardNumber.errors.required">
          वार्ड नम्बर आवश्यक छ
        </div>
      </div>
    </div>
  </div>
  <!-- END ROW -->
  <!-- START ROW -->
  <div class="row">
    <div class="col-md-4 form-group">
      <label for="citizenshipNumber"><strong>नागरिकता नम्बर</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.citizenshipNumber.errors }"
          class="form-control nepaliFont" formControlName="citizenshipNumber"
          id="citizenshipNumber" placeholder="नागरिकता नम्बर"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.citizenshipNumber.invalid"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.citizenshipNumber.errors.required">नागरिकता नम्बर
          आवश्यक छ
        </div>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="citizenshipIssuedPlace"><strong>जारी गरिएको ठाउँ</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.citizenshipIssuedPlace.errors }"
          class="form-control nepaliFont"
          formControlName="citizenshipIssuedPlace" id="citizenshipIssuedPlace"
          placeholder="जारी गरिएको ठाउँ"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.citizenshipIssuedPlace.invalid"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.citizenshipIssuedPlace.errors.required">जारी गरिएको
          ठाउँ आवश्यक छ
        </div>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="customerCitizenshipIssuedDate"><strong>जारी मिति</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.citizenshipIssuedDate.errors }"
          class="form-control nepaliFont" formControlName="citizenshipIssuedDate"
          id="customerCitizenshipIssuedDate"
          placeholder="जारी मिति"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.citizenshipIssuedDate.errors"
           class="invalid-feedback">
        <div
            *ngIf="customerInfoNepaliControls.citizenshipIssuedDate.errors.required || customerInfoNepaliControls.citizenshipIssuedDate.errors.beforeToday">
          जारी मिति आवश्यक छ
        </div>
      </div>
    </div>
  </div>
  <!-- END ROW -->
  <!-- START ROW -->
  <div class="row">

    <div class="col-md-4 form-group">
      <label for="occupation"><strong>पेशा</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.occupation.errors }"
          class="form-control nepaliFont"
          formControlName="occupation" id="occupation"
          placeholder="पेशा"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.occupation.errors"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.occupation.errors.required">पेशा आवश्यक छ</div>
      </div>
    </div>
    <div class="col-md-4 form-group">
      <label for="incomeSource"><strong>आय स्रोत</strong></label>
      <input
          [ngClass]="{ 'is-invalid': submitted && customerInfoNepaliControls.incomeSource.errors }"
          class="form-control nepaliFont"
          formControlName="incomeSource" id="incomeSource"
          placeholder="आय स्रोत"
          type="text">
      <div *ngIf="submitted && customerInfoNepaliControls.incomeSource.errors"
           class="invalid-feedback">
        <div *ngIf="customerInfoNepaliControls.incomeSource.errors.required">आय स्रोत आवश्यक छ</div>
      </div>
    </div>

  </div>
  <!-- END ROW -->

  <div
      *ngFor="let relatives of customerInfoNepaliControls.customerRelatives['controls']; let i = index"
      formArrayName="customerRelatives">
    <div [formGroupName]="i.toString()" >
      <div class="row">
        <div class="col-md-2">
          <div class="form-group">
            <label for="customerRelation"><strong>सम्बन्ध</strong></label>
            <input
                [ngClass]="{ 'is-invalid': submitted && relatives.get('customerRelation').errors }"
                class="form-control nepaliFont"
                formControlName="customerRelation"
                id="customerRelation"
                placeholder="सम्बन्ध" type="text" #customerRelation (change)="setRelatives(customerRelation.value)">
            <div *ngIf="submitted && relatives.get('customerRelation').errors"
                 class="invalid-feedback">
              <div *ngIf="relatives.get('customerRelation').errors.required">सम्बन्ध आवश्यक छ</div>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for="relationName"><strong>नाम</strong></label>
            <input
                [ngClass]="{ 'is-invalid': submitted && relatives.get('customerRelativeName').errors }"
                class="form-control nepaliFont"
                formControlName="customerRelativeName"
                id="relationName"
                placeholder="नाम" type="text" #customerRelativeName (change)="setRelatives(customerRelativeName.value)">
            <div *ngIf="submitted && relatives.get('customerRelativeName').errors"
                 class="invalid-feedback">
              <div *ngIf="relatives.get('customerRelativeName').errors.required">नाम आवश्यक छ</div>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for="citizenship"><strong>नागरिकता नम्बर</strong></label>
            <input
                [ngClass]="{ 'is-invalid': submitted && relatives.get('citizenshipNumber').errors }"
                class="form-control nepaliFont"
                formControlName="citizenshipNumber"
                id="citizenship"
                placeholder="नागरिकता नम्बर" type="text" #citizenshipNumber (change)="setRelatives(citizenshipNumber.value)">
            <div *ngIf="submitted && relatives.get('citizenshipNumber').errors"
                 class="invalid-feedback">
              <div *ngIf="relatives.get('citizenshipNumber').errors.required">नागरिकता नम्बर आवश्यक
                छ
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for="issuedLocation"><strong>जारी स्थान</strong></label>
            <input
                [ngClass]="{ 'is-invalid': submitted && relatives.get('citizenshipIssuedPlace').errors }"
                class="form-control nepaliFont"
                formControlName="citizenshipIssuedPlace"
                id="issuedLocation"
                placeholder="जारी स्थान" type="text" #citizenshipIssuedPlace (change)="setRelatives(citizenshipIssuedPlace.value)">
            <div *ngIf="submitted && relatives.get('citizenshipIssuedPlace').errors"
                 class="invalid-feedback">
              <div *ngIf="relatives.get('citizenshipIssuedPlace').errors.required">जारी स्थान आवश्यक
                छ
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label for="issuedDate"><strong>जारी मिति</strong></label>
            <input
                [ngClass]="{ 'is-invalid': submitted && relatives.get('citizenshipIssuedDate').errors }"
                class="form-control nepaliFont"
                formControlName="citizenshipIssuedDate"
                id="issuedDate"
                placeholder="जारी मिति" type="text" #citizenshipIssuedDate (change)="setRelatives(citizenshipIssuedDate.value)">
            <div *ngIf="submitted && relatives.get('citizenshipIssuedDate').errors"
                 class="invalid-feedback">अवैध जारी मिति
            </div>
          </div>
        </div>
        <div *ngIf="i>2" class="ml-3">
          <button (click)="removeRelatives(i)"
                  class="float-right" nbButton
                  size="small" status="danger">हटाउनुहोस्
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="text-right">
    <input (click)="addRelatives({})" class="btn btn-sm btn-flat btn-primary"
           type="button" value="थप्नुहोस्"/>
  </div>
  <!-- END ROW -->

</form>
