<nb-card>
    <nb-card-body>
        <div class="d-flex justify-content-end">
            <nb-radio-group [(ngModel)]="calendarType" class="d-inline-flex" name="companyInfoCalendarType">
                <nb-radio value="AD">AD</nb-radio>
                <nb-radio value="BS">BS</nb-radio>
            </nb-radio-group>
        </div>
        <div class="form-group">
            <form (ngSubmit)="onSubmit()" [formGroup]="companyInfoFormGroup">
                <div>
                    <div class="row">
                        <div class="col-md-12">
                            <h5>Company Information
                                <small
                                    *ngIf="companyFormField.isOldCustomer" style="color:red;">
                                    (Note: Any change in old company information will be
                                    over-written.)
                                </small>
                            </h5>
                            <hr/>
                        </div>
                    </div>
                    <div class="row">
                        <div *ngIf="companyFormField.showFormField" class="col-md-4">
                            <div class="form-group">
                                <label for="companyName"><strong>Company Name</strong></label>
                                <input
                                    [ngClass]="{ 'is-invalid':submitted && form.companyName.errors }"
                                    class="form-control rounded"
                                    formControlName="companyName"
                                    id="companyName" placeholder="Enter company name"
                                    type="text"/>
                                <div *ngIf="submitted && form.companyName.errors"
                                     class="invalid-feedback">
                                    <div *ngIf="form.companyName.errors.required">Name is required</div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="companyFormField.showFormField" class="col-md-4">
                            <div class="form-group">
                                <label for="companyEstablishmentDate"><strong>Establishment Date</strong></label>
                                <input *ngIf="calendarType === 'AD'" [nbDatepicker]="establishmentPicker"
                                       [ngClass]="{ 'is-invalid':submitted && form.companyEstablishmentDate.errors}"
                                       class="form-control rounded"
                                       formControlName="companyEstablishmentDate"
                                       id="companyEstablishmentDate" placeholder="Enter Establishment Date"
                                       type="text"/>
                                <app-calendar [ePreDate]="companyInfoFormGroup.get('companyEstablishmentDate').value" *ngIf="calendarType === 'BS'"
                                              (messageToEmit)="companyInfoFormGroup.get('companyEstablishmentDate').patchValue($event?.eDate)"></app-calendar>

                                <nb-datepicker #establishmentPicker></nb-datepicker>
                                <div *ngIf="submitted && form.companyEstablishmentDate.errors"
                                     class="invalid-feedback">
                                    <div *ngIf="form.companyEstablishmentDate.errors.required ||
                                    form.companyEstablishmentDate.errors.beforeToday">
                                        Invalid Establishment date!
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group rounded">
                                <label for="registrationNumber"><strong>Registration Number</strong></label>
                                <div class="input-group mb-3">
                                    <input
                                        (change)="searchByRegNO()"
                                        [ngClass]="{ 'is-invalid':submitted && form.registrationNumber.errors }"
                                        class="form-control rounded"
                                        formControlName="registrationNumber"
                                        id="registrationNumber"
                                        min="0" placeholder="Enter registration number"
                                        type="text"/>
                                    <div class="input-group-append">
                                        <button (click)="searchByRegNO()" nbButton outline size="small"
                                                status="primary">Search
                                        </button>
                                    </div>
                                    <div *ngIf="submitted && form.registrationNumber.errors "
                                         class="invalid-feedback">
                                        <div *ngIf="form.registrationNumber.errors.required">
                                            registration number is required.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div *ngIf="companyFormField.showFormField" class="col-md-4">
                            <div class="form-group">
                                <label for="panNumber"><strong>PAN</strong></label>
                                <div class="input-group mb-3">
                                    <input
                                        [ngClass]="{ 'is-invalid':submitted && form.companyPAN.errors }"
                                        class="form-control rounded"
                                        formControlName="companyPAN"
                                        id="panNumber"
                                        placeholder="Enter PAN"
                                        type="text"/>
                                    <div *ngIf="submitted && form.companyPAN.errors"
                                         class="invalid-feedback">
                                        <div *ngIf="form.companyPAN.errors.required">
                                            PAN is required.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="companyFormField.showFormField" class="col-md-4">
                            <div class="form-group">
                                <label for="businessType"><strong>Business Type</strong></label>
                                <ng-select [items]="businessTypes"
                                           [multiple]="false"
                                           [ngClass]="{'is-invalid':submitted &&  form.businessType.errors}"
                                           bindLabel="value"
                                           bindValue="key"
                                           formControlName="businessType"
                                           id="businessType"
                                           placeholder="Select Business Type">
                                </ng-select>
                                <div *ngIf="submitted && form.businessType.errors"
                                     class="invalid-feedback">
                                    <div *ngIf="form.businessType.errors.required">
                                        Business Type is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <hr>

                <div class="box-header with-border">
                    <h5 class="box-title">1. Legal Status</h5>
                </div>
                <!-- START ROW -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="corporateStructure"><strong>Corporate Structure</strong></label>
                            <select id="corporateStructure" formControlName="corporateStructure"
                                   name="corporateStructure"
                                   class="form-control custom-select"
                                    [ngClass]="{ 'is-invalid': (submitted) && form.corporateStructure.errors }">
                                <option [value]="null" hidden>--Select Corporate Structure--</option>
                                <option [ngValue]="companyStructure.id" *ngFor="let companyStructure of companyStructureList">{{companyStructure.name}}</option>
                            </select>
                            <div *ngIf="(submitted) && form.corporateStructure.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.corporateStructure.errors.required">Corporate Structure is
                                    required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END ROW -->
                <!-- START ROW -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="registeredOffice"><strong>Registered Office</strong></label>
                            <select id="registeredOffice" formControlName="registeredOffice" name="registeredOffice"
                                   class="form-control" [ngClass]="{ 'is-invalid': (submitted) && form.registeredOffice.errors }">
                                <option [value]="null" hidden>---Select Registered Office---</option>
                                <option value="Department of Commerce">Department of Commerce</option>
                                <option value="Chamber of Commerce">Chamber of Commerce</option>
                                <option value="Co-Operative Division Office">Co-Operative Division Office</option>
                                <option value="Department of Cooperative">Department of Cooperative </option>
                                <option value="Department of Drug Administration ">Department of Drug Administration</option>
                                <option value="Department of Industry">Department of Industry</option>
                                <option value="Department of Industry & Commerce">Department of Industry & Commerce</option>
                                <option value="Department of Transport Management">Department of Transport Management</option>
                                <option value="Department of Commerce & Supply Management">Department of Commerce & Supply Management</option>
                                <option value="Department of Livestock Service ">Department of Livestock Service</option>
                                <option value="District Administration Office">District Administration Office</option>
                                <option value="District Development Committee">District Development Committee</option>
                                <option value="District Education Office">District Education Office</option>
                                <option value="District Irrigation Committee">District Irrigation Committee</option>
                                <option value="FNCCI">FNCCI</option>
                                <option value="Inland Revenue Department">Inland Revenue Department</option>
                                <option value="Inland Revenue Office">Inland Revenue Office</option>
                                <option value="Institute of Chartered Accountant Nepal">Institute of Chartered Accountant Nepal</option>
                                <option value="Municipality Office">Municipality Office </option>
                                <option value="National Sports Council">National Sports Council</option>
                                <option value="Nepal CMA Sangha">Nepal CMA Sangha </option>
                                <option value="Office of Company Registrar">Office of Company Registrar</option>
                                <option value="Office of Cottage & Small Industry">Office of Cottage & Small Industry</option>
                                <option value="Tribhuwan University">Tribhuwan University</option>
                                <option value="VDC Office">VDC Office </option>
                                <option value="Other">Other </option>
                            </select>
                            <div *ngIf="(submitted) && form.registeredOffice.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.registeredOffice.errors.required">
                                    Registered Office is required
                                </div>
                            </div>
                            <div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="registeredUnderAct"><strong>Registered Under Act</strong></label>
                            <input id="registeredUnderAct" formControlName="registeredUnderAct"
                                   name="registeredUnderAct"
                                   type="text" class="form-control" placeholder="Registered Under Act"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.registeredUnderAct.errors }">
                            <div *ngIf="(submitted) && form.registeredUnderAct.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.registeredUnderAct.errors.required">
                                    Registered Under Act is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="registrationDate"><strong>Registration Date</strong></label>
                            <input *ngIf="calendarType === 'AD'" id="registrationDate" formControlName="registrationDate"
                                   [nbDatepicker]="registrationDate" name="registrationDate"
                                   class="form-control" placeholder="Registration Date"
                                   [ngClass]="{ 'is-invalid':submitted && form.registrationDate.errors}">
                            <app-calendar [ePreDate]="companyInfoFormGroup.get('registrationDate').value" *ngIf="calendarType === 'BS'"
                                          (messageToEmit)="companyInfoFormGroup.get('registrationDate').patchValue($event?.eDate)"></app-calendar>
                            <nb-datepicker #registrationDate></nb-datepicker>
                            <div *ngIf="submitted && form.registrationDate.errors" class="invalid-feedback">
                                <div *ngIf="form.registrationDate.errors.required || form.registrationDate.errors.beforeToday">
                                    Invalid Registration Date
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END ROW -->
                <!-- START ROW -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="panRegistrationOffice"><strong>PAN/VAT Registration Office</strong></label>
                            <input  id="panRegistrationOffice" formControlName="panRegistrationOffice"
                                   name="panRegistrationOffice" type="text" class="form-control"
                                   placeholder="PAN/VAT Registration Office"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.panRegistrationOffice.errors }">
                            <div *ngIf="(submitted) && form.panRegistrationOffice.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.panRegistrationOffice.errors.required">
                                    PAN/VAT Registration Office is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="panRegistrationDate"><strong>PAN/VAT Registration Date</strong></label>
                            <input *ngIf="calendarType === 'AD'" id="panRegistrationDate" formControlName="panRegistrationDate"
                                   [nbDatepicker]="panRegistrationDate" name="panRegistrationDate"
                                   class="form-control" placeholder="PAN/VAT Registration Date"
                                   [ngClass]="{ 'is-invalid':submitted && form.panRegistrationDate.errors}">
                            <app-calendar [ePreDate]="companyInfoFormGroup.get('panRegistrationDate').value" *ngIf="calendarType === 'BS'"
                                          (messageToEmit)="companyInfoFormGroup.get('panRegistrationDate').patchValue($event?.eDate)"></app-calendar>
                            <nb-datepicker #panRegistrationDate></nb-datepicker>
                            <div *ngIf="submitted && form.panRegistrationDate.errors" class="invalid-feedback">
                                <div *ngIf="form.panRegistrationDate.errors.required ||
                                form.panRegistrationDate.errors.beforeToday">
                                    Invalid PAN/VAT Registration Date
                                </div>
                                </div>
                            </div>
                        </div>
                  <div class="col-md-4">
                  <div class="form-group">
                    <label for="registrationExpiryDate"><strong>PAN/VAT Registration  Expiry Date</strong></label>
                    <input *ngIf="calendarType === 'AD'" id="registrationExpiryDate" formControlName="registrationExpiryDate"
                           [nbDatepicker]="registrationExpiryDate" name="registrationExpiryDate"
                           class="form-control" placeholder="PAN/VAT Registration Expiry Date"
                           [ngClass]="{ 'is-invalid':submitted && form.registrationExpiryDate.errors}">
                      <app-calendar [ePreDate]="companyInfoFormGroup.get('registrationExpiryDate').value" *ngIf="calendarType === 'BS'"
                                    (messageToEmit)="companyInfoFormGroup.get('registrationExpiryDate').patchValue($event?.eDate)"></app-calendar>
                    <nb-datepicker #registrationExpiryDate></nb-datepicker>
                    <div *ngIf="submitted && form.registrationExpiryDate.errors" class="invalid-feedback">
                      <div *ngIf="form.registrationExpiryDate.errors.required">
                        PAN/VAT Registration Expiry Date is Required
                      </div>
                    </div>
                </div>
                  </div></div>
                <hr>

                <div class="box-header with-border">
                    <h5 class="box-title">2. Capital Information</h5>
                </div>
                <!-- START ROW -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="authorizedCapital"><strong>Authorized Capital</strong></label>
                            <input id="authorizedCapital" formControlName="authorizedCapital" name="authorizedCapital"
                                   type="number" class="form-control" placeholder="Authorized Capital"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.authorizedCapital.errors }">
                            <div *ngIf="(submitted) && form.authorizedCapital.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.authorizedCapital.errors.required">
                                    Authorized Capital is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="paidUpCapital"><strong>Paid Up Capital</strong></label>
                            <input id="paidUpCapital" formControlName="paidUpCapital" name="paidUpCapital" type="number"
                                   class="form-control" placeholder="Paid Up Capital"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.paidUpCapital.errors }">
                            <div *ngIf="(submitted) && form.paidUpCapital.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.paidUpCapital.errors.required">
                                    Paid Up Capital Number is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="issuedCapital"><strong>Issued Capital</strong></label>
                            <input id="issuedCapital" formControlName="issuedCapital" name="issuedCapital" type="number"
                                   class="form-control" placeholder="Issued Capital"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.issuedCapital.errors }">
                            <div *ngIf="(submitted) && form.issuedCapital.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.issuedCapital.errors.required">
                                    Issued Capital is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END ROW -->
                <!-- START ROW -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="totalCapital"><strong>Total Capital</strong></label>
                            <input id="totalCapital" formControlName="totalCapital" name="totalCapital" type="number"
                                   class="form-control" placeholder="Total Capital"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.totalCapital.errors }">
                            <div *ngIf="(submitted) && form.totalCapital.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.totalCapital.errors.required">
                                    Total Capital is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="fixedCapital"><strong>Fixed Capital</strong></label>
                            <input id="fixedCapital" formControlName="fixedCapital" name="fixedCapital" type="number"
                                   class="form-control" placeholder="Fixed Capital"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.fixedCapital.errors }">
                            <div *ngIf="(submitted) && form.fixedCapital.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.fixedCapital.errors.required">
                                    Fixed Capital is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="workingCapital"><strong>Working Capital</strong></label>
                            <input id="workingCapital" formControlName="workingCapital" name="workingCapital"
                                   type="number"
                                   class="form-control" placeholder="Working Capital"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.workingCapital.errors }">
                            <div *ngIf="(submitted) && form.workingCapital.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.workingCapital.errors.required">
                                    Working Capital is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END ROW -->
                <!-- START ROW -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="numberOfShareholder"><strong>Number Of Shareholder</strong></label>
                            <input id="numberOfShareholder" formControlName="numberOfShareholder"
                                   name="numberOfShareholder"
                                   type="number" class="form-control" placeholder="Number Of Shareholder"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.numberOfShareholder.errors }">
                            <div *ngIf="(submitted) && form.numberOfShareholder.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.numberOfShareholder.errors.required">
                                    Number Of Shareholder is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END ROW -->

                <hr>

                <div class="box-header with-border">
                    <h5 class="box-title title">3. Management Team</h5>
                </div>
                <div formArrayName="managementTeams" class="border-bottom border-dark m-4"
                     *ngFor="let managementTeam of companyInfoFormGroup.get('managementTeams')['controls']; let managementTeamIndex = index">
                    <div [formGroupName]="managementTeamIndex">
                        <div class="row">
                            <div class="col-md-10 form-group">
                                <h5>{{managementTeamIndex + 1}}) Management Team</h5>
                            </div>
                            <div class="col-md-2 float-right" *ngIf="companyInfoFormGroup.get('managementTeams').length>1">
                                <input class="align-self-end btn btn-sm btn-danger btn-primary" type="button"
                                       (click)="removeManagementTeam(managementTeamIndex)" value="Delete">
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-6">
                                <label for="managementTeamName"><strong>Name</strong></label>
                                <input id="managementTeamName" formControlName="name" name="name" type="text"
                                       class="form-control" placeholder="Name"
                                       [ngClass]="{ 'is-invalid': (submitted) && managementTeam.get('name').errors }">
                                <div *ngIf="(submitted) && managementTeam.get('name').invalid"
                                     class="invalid-feedback">
                                    <div *ngIf="managementTeam.get('name').errors.required">
                                        Management Team Name is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="designation"><strong>Designation</strong></label>
                                    <input id="designation" formControlName="designation" name="designation" type="text"
                                           class="form-control" placeholder="Designation"
                                           [ngClass]="{ 'is-invalid': (submitted) && managementTeam.get('designation').errors }">
                                    <div *ngIf="(submitted) && managementTeam.get('designation').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="managementTeam.get('designation').errors.required">
                                            Designation is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-right">
                    <input class="btn btn-sm btn-flat btn-primary" type="button" (click)="addManagementTeam()"
                           value="Add More"/>
                </div>

                <hr>

                <div class="box-header with-border">
                    <h5 class="box-title">4. Information of Proprietor/Shareholder/Partner with holder %</h5>
                </div>
                <div formArrayName="proprietors" class="border-bottom border-dark m-4"
                     *ngFor="let proprietor of companyInfoFormGroup.get('proprietors')['controls']; let proprietorIndex = index">
                    <div [formGroupName]="proprietorIndex">
                        <div class="row">
                            <div class="col-md-10 form-group">
                                <h5>{{proprietorIndex + 1}}) General Information</h5>
                            </div>
                            <div class="col-md-2" *ngIf="companyInfoFormGroup.get('proprietors').length>1">
                                <input class="align-self-end btn btn-sm btn-danger btn-primary" type="button"
                                       (click)="removeProprietor(proprietorIndex)" value="Delete"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="name"><strong>Name</strong></label>
                                    <input id="name" formControlName="name" name="name" type="text" class="form-control"
                                           placeholder="Name"
                                           [ngClass]="{ 'is-invalid': (submitted) && proprietor.get('name').errors }">
                                    <div *ngIf="(submitted) && proprietor.get('name').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="proprietor.get('name').errors.required">
                                            Proprietor Name is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="contactNo"><strong>Contact No</strong></label>
                                    <input id="contactNo" formControlName="contactNo" name="contactNo" type="text"
                                           class="form-control" placeholder="Contact No"
                                           [ngClass]="{ 'is-invalid': (submitted) && proprietor.get('contactNo').errors }">
                                    <div *ngIf="(submitted) && proprietor.get('contactNo').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="proprietor.get('contactNo').errors.required">
                                            Proprietor Contact No is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="share"><strong>Share</strong></label>
                                    <input id="share" formControlName="share" name="share" type="number"
                                           class="form-control" placeholder="Share"
                                           [ngClass]="{ 'is-invalid': (submitted) && proprietor.get('share').errors }">
                                    <div *ngIf="(submitted) && proprietor.get('share').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="proprietor.get('share').errors.required">
                                            Share is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="province"><strong>Province</strong></label>
                                    <select name="province" formControlName="province" id="province"
                                            class="custom-select"
                                            (change)="getDistricts(proprietor.get('province').value, proprietorIndex)"
                                            [ngClass]="{ 'is-invalid': (submitted) && proprietor.get('province').errors }">
                                        <option [ngValue]="null" hidden>Province</option>
                                        <option *ngFor="let provinceVal of provinceList"
                                                [ngValue]="provinceVal.id">
                                            {{provinceVal.name}}
                                        </option>
                                    </select>
                                    <div *ngIf="(submitted) && proprietor.get('province').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="proprietor.get('province').errors.required">
                                            Province is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="district"><strong>District</strong></label>
                                    <select name="district" formControlName="district" id="district"
                                            class="custom-select"
                                            (change)="getMunicipalities(proprietor.get('district').value, proprietorIndex)"
                                            [ngClass]="{ 'is-invalid': (submitted) && proprietor.get('district').errors }">
                                        <option [ngValue]="null" hidden>District</option>
                                        <option *ngFor="let districtVal of addressList[proprietorIndex].districtList"
                                                [ngValue]="districtVal.id">
                                            {{districtVal.name}}
                                        </option>
                                    </select>
                                    <div *ngIf="(submitted) && proprietor.get('district').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="proprietor.get('district').errors.required">
                                            District is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="municipality"><strong>Municipalities or VDC</strong></label>
                                    <select name="municipality" id="municipality" formControlName="municipalityVdc"
                                            class="custom-select"
                                            [ngClass]="{ 'is-invalid': (submitted) && proprietor.get('municipalityVdc').errors }">
                                        <option [ngValue]="null" hidden>Municipality</option>
                                        <option *ngFor="let municipalityVal of addressList[proprietorIndex].municipalityVdcList"
                                                [ngValue]="municipalityVal.id">
                                            {{municipalityVal.name}}
                                        </option>
                                    </select>
                                    <div *ngIf="(submitted) && proprietor.get('municipalityVdc').invalid"
                                         class="invalid-feedback">
                                        <div *ngIf="proprietor.get('municipalityVdc').errors.required">
                                            Municipality Vdc is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-right">
                    <input class="btn btn-sm btn-flat btn-primary" type="button" (click)="addProprietor()"
                           value="Add More"/>
                </div>

                <hr>
                <div >
                    <h5>5.Contact Person Details</h5>
                </div>
                <div class="row ">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Name</strong></label>
                            <input class="form-control" formControlName="contactName"
                                   id="contactName" placeholder="Name" type="text"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.contactName.errors }">
                            <div *ngIf="(submitted) && form.contactName.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.contactName.errors.required">
                                    Name is required
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Contact Number</strong></label>
                            <input class="form-control" formControlName="contactNumber"
                                   id="contactNumber" placeholder="Contact Number"
                                   type="text"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.contactNumber.errors }">
                            <div *ngIf="(submitted) && form.contactNumber.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.contactNumber.errors.required">
                                    Contact Number is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Email</strong></label>
                            <input class="form-control" formControlName="contactEmail"
                                   id="contactEmail" placeholder="Email"
                                   type="email">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Province</strong></label>
                            <select class="form-control" (change)="getDistricts(companyInfoFormGroup.get('contactProvince').value.id,null)" formControlName="contactProvince"
                                    [ngClass]="{ 'is-invalid': (submitted) && form.contactProvince.errors }">
                                <option [ngValue]="null" hidden>Select Province</option>
                                <option *ngFor="let province of provinceList" [ngValue]="province">{{province.name}}</option>
                            </select>
                            <div *ngIf="(submitted) && form.contactProvince.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.contactProvince.errors.required">
                                    Province is required
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>District</strong></label>
                            <select class="form-control" (change)="getMunicipalities(companyInfoFormGroup.get('contactDistrict').value.id,null)" formControlName="contactDistrict"
                                    [ngClass]="{ 'is-invalid': (submitted) && form.contactDistrict.errors }">
                            <option [ngValue]="null" hidden>Select District</option>
                                <option *ngFor="let district of districtList" [ngValue]="district">{{district.name}}</option>
                            </select>
                            <div *ngIf="(submitted) && form.contactDistrict.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.contactDistrict.errors.required">
                                    District is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Municipalities/VDC</strong></label>
                            <select class="form-control"  formControlName="contactMunicipalities"
                                    [ngClass]="{ 'is-invalid': (submitted) && form.contactMunicipalities.errors }">
                            <option [ngValue]="null" hidden>Select Municipalities/VDV</option>
                                <option *ngFor="let municipalityVdc of municipalityVdcList" [ngValue]="municipalityVdc">{{municipalityVdc.name}}</option>
                            </select>
                            <div *ngIf="(submitted) && form.contactMunicipalities.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.contactMunicipalities.errors.required">
                                    Municipalities/VDC is required
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <hr>
                <div >
                    <h5>6.Company Location Detail</h5>
                </div>
                <div class="row ">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>House Number</strong></label>
                            <input class="form-control" formControlName="houseNumber"
                                   id="houseNumber" placeholder="House Number" type="text">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Street Name</strong></label>
                            <input class="form-control" formControlName="streetName"
                                   id="streetName" placeholder="Street Name" type="text"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.streetName.errors }">
                            <div *ngIf="(submitted) && form.streetName.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.streetName.errors.required">
                                    Street Name is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label><strong>Address</strong></label>
                            <input class="form-control" formControlName="address"
                                   id="address" placeholder="Address" type="text"
                                   [ngClass]="{ 'is-invalid': (submitted) && form.address.errors }">
                            <div *ngIf="(submitted) && form.address.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.address.errors.required">
                                    Address is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="box-header with-border">
                    <h5 class="box-title">7. SWOT Analysis</h5>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="strength"><strong>Strength</strong></label>
                            <textarea id="strength" formControlName="strength" name="strength" type="text"
                                   class="form-control" placeholder="Strength" rows="5"
                                      [ngClass]="{ 'is-invalid': (submitted) && form.strength.errors }"></textarea>
                            <div *ngIf="(submitted) && form.strength.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.strength.errors.required">
                                    Strength is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="weakness"><strong>Weakness</strong></label>
                            <textarea id="weakness" formControlName="weakness" name="weakness" type="text"
                                   class="form-control" placeholder="Weakness" rows="5"
                                      [ngClass]="{ 'is-invalid': (submitted) && form.weakness.errors }"></textarea>
                            <div *ngIf="(submitted) && form.weakness.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.weakness.errors.required">
                                    Weakness is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="opportunity"><strong>Opportunity</strong></label>
                            <textarea id="opportunity" formControlName="opportunity" name="opportunity" type="text"
                                   class="form-control" placeholder="Opportunity" rows="5"
                                      [ngClass]="{ 'is-invalid': (submitted) && form.opportunity.errors }"></textarea>
                            <div *ngIf="(submitted) && form.opportunity.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.opportunity.errors.required">
                                    Opportunity is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="threats"><strong>Threats</strong></label>
                            <textarea id="threats" formControlName="threats" name="threats" type="text"
                                   class="form-control" placeholder="Threats" rows="5"
                                      [ngClass]="{ 'is-invalid': (submitted) && form.threats.errors }"></textarea>
                            <div *ngIf="(submitted) && form.threats.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="form.threats.errors.required">
                                    Threats is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </nb-card-body>
</nb-card>
