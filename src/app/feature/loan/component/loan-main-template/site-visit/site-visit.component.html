<nb-card>
  <nb-card-body>
    <form [formGroup]="siteVisitFormGroup" class="form-horizontal">
      <div class="row justify-content-around">
        <div class="col-md-3">
          <nb-checkbox (change)="checkboxSelected('currentResident',$event.target.checked)">
            Current Resident
          </nb-checkbox>
        </div>
        <div class="col-md-3">
          <nb-checkbox (change)="checkboxSelected('businessSiteVisit',$event.target.checked)">
            Business Site Visit
          </nb-checkbox>
        </div>
        <div class="col-md-3">
          <nb-checkbox (change)="checkboxSelected('fixedAssetCollateral',$event.target.checked)">
            Fixed Asset Collateral
          </nb-checkbox>
        </div>
        <div class="col-md-3">
          <nb-checkbox (change)="checkboxSelected('currentAssetsInspection',$event.target.checked)">
            Current Assets Inspection
          </nb-checkbox>
        </div>
      </div>
      <div [hidden]="!currentResidentForm" class="row mt-3" formGroupName="currentResidentDetails">
        <h4 class="col-md-12">Current Resident</h4>
        <div class="col-md-4 form-group">
          <label class="title" for="houseNumber">House Number</label>
          <input class="form-control" formControlName="houseNumber" id="houseNumber"
                 name="houseNumber"
                 placeholder="house number" type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="streetName">Street Name</label>
          <input class="form-control" formControlName="streetName" id="streetName" name="streetName"
                 placeholder="street name" type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="address">Address</label>
          <input class="form-control" formControlName="address" id="address" name="address"
                 placeholder="address" type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="nearBy">Near By</label>
          <input class="form-control" formControlName="nearBy" id="nearBy" name="nearBy"
                 placeholder="near by" type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="ownerName" for="address">Owner Name</label>
          <input class="form-control" formControlName="ownerName" id="ownerName" name="ownerName"
                 placeholder="owner name" type="text">
        </div>
      </div>
      <div [hidden]="!businessSiteVisitForm" class="row mt-3"
           formGroupName="businessSiteVisitDetails">
        <h4 class="col-md-12">Business Site Visit</h4>
        <div class="col-md-4 form-group">
          <label class="title" for="officeAddress">Office Address</label>
          <input class="form-control" formControlName="officeAddress" id="officeAddress"
                 name="officeAddress" placeholder="office address"
                 type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="nameOfThePersonContacted">Name Of The Person Contacted</label>
          <input class="form-control" formControlName="nameOfThePersonContacted"
                 id="nameOfThePersonContacted"
                 name="nameOfThePersonContacted" placeholder="name of the person contacted"
                 type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="dateOfVisit">Date Of Visit</label>
          <input [nbDatepicker]="datepicker3" class="form-control" formControlName="dateOfVisit"
                 id="dateOfVisit" placeholder="date of visit">
          <nb-datepicker #datepicker3></nb-datepicker>
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="objectiveOfVisit">Objective Of Visit</label>
          <input class="form-control" formControlName="objectiveOfVisit" id="objectiveOfVisit"
                 name="objectiveOfVisit" placeholder="objective of visit" type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="observation">Observation</label>
          <input class="form-control" formControlName="observation" id="observation"
                 name="observation" placeholder="observation"
                 type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="visitedBy">Visited By</label>
          <input class="form-control" formControlName="visitedBy" id="visitedBy" name="visitedBy"
                 placeholder="visited by" type="text">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="conclusion">Conclusion</label>
          <input class="form-control" formControlName="conclusion" id="conclusion" name="conclusion"
                 placeholder="conclusion" type="text">
        </div>
        <div class="form-group col-md-4">
          <label class="title" for="mapAddress">Address</label>
          <input class="form-control col-md-12" formControlName="mapAddress" id="mapAddress"
                 name="mapAddress" placeholder="address"
                 type="text">
        </div>
        <div class="col-md-8 form-group">
          <label class="title" for="findingsAndComments">Finding And Comments</label>
          <textarea class="form-control" formControlName="findingsAndComments"
                    id="findingsAndComments" name="findingsAndComments"
                    placeholder="findings and comments"
                    row="3"></textarea>
        </div>
        <div class="col-md-4 pr-0 form-group row">
          <div class="form-group col-md-8 pr-0">
            <label class="title" for="locationPreview">Location Preview</label>
            <input class="form-control pr-0" formControlName="locationPreview" id="locationPreview"
                   name="locationPreview"
                   type="text">
          </div>
          <div class="col-md-4 pr-0 pt-4">
            <button (click)="findLocation()" class="btn-primary">Find Location</button>
          </div>
          <div class="ml-3">
            <agm-map (mapClick)="placeMaker($event.coords.lat,$event.coords.lng)"
                     [clickableIcons]='false'
                     [fullscreenControl]='true'
                     [latitude]="latitude"
                     [longitude]="longitude"
                     [mapTypeControl]='true'
                     [zoom]="zoom"
                     style="height: 300px; width: 300px;">
              <agm-marker [latitude]="markerLatitude" [longitude]="markerLongitude">
                <agm-info-window [isOpen]="infoWindowOpen.value">
                  {{addressLabel.value}}
                </agm-info-window>
              </agm-marker>
            </agm-map>
          </div>
        </div>
      </div>
      <div [hidden]="!fixedAssetCollateralForm" class="row mt-3"
           formGroupName="fixedAssetCollateralDetails">
        <h4 class="col-md-12">Fixed Assets Collateral</h4>
        <div class="col-md-3 form-group">
          <label class="title" for="date">Date</label>
          <input [nbDatepicker]="datepicker4" class="form-control" formControlName="date" id="date">
          <nb-datepicker #datepicker4></nb-datepicker>
        </div>
        <div class="col-md-3 form-group">
          <label class="title" for="fixedAssetCollateralAddress">Address</label>
          <input class="form-control" formControlName="address" id="fixedAssetCollateralAddress"
                 name="fixedAssetCollateralAddress" placeholder="address" type="text">
        </div>
        <div class="col-md-3 form-group">
          <label class="title" for="personContacted">Person Contacted</label>
          <input class="form-control" formControlName="personContacted" id="personContacted"
                 name="personContacted" placeholder="person contacted"
                 type="text">
        </div>
        <div class="col-md-3 form-group">
          <label class="title" for="phoneNoOfContact">Phone No. Of Contact</label>
          <input class="form-control" formControlName="phoneNoOfContact" id="phoneNoOfContact"
                 name="phoneNoOfContact" placeholder="phone no. of contact" type="text">
        </div>
        <h4 class="col-md-12 mt-3">Facilities</h4>
        <div class="row col-md-12 pr-0" formGroupName="facilities">
          <div class="col-md-3 form-group">
            <label class="title" for="roadApproach">Road Approach</label>
            <select class="custom-select" formControlName="roadApproach" id="roadApproach"
                    name="roadApproach">
              <option [ngValue]="undefined" hidden>Select Road Approach</option>
              <option value="BLACK_TOPPED_ROAD">Black Topped Road</option>
              <option value="GRAVELLED_ROAD">Gravelled Road</option>
              <option value="EARTHEN_ROAD">Earthen Road</option>
              <option value="OTHERS">Others</option>
            </select>
          </div>
          <div class="col-md-3 form-group">
            <label class="title" for="roadWidth">Road Width</label>
            <input class="form-control" formControlName="roadWidth" id="roadWidth" name="roadWidth"
                   placeholder="road width" type="text">
          </div>
          <div class="col-md-3 form-group">
            <label class="title" for="prominentPlace">Prominent Place</label>
            <input class="form-control" formControlName="prominentPlace" id="prominentPlace"
                   name="prominentPlace" placeholder="prominent place" type="text">
          </div>
          <div class="col-md-3 form-group">
            <label class="title" for="approachDistance">Approach Distance</label>
            <input class="form-control" formControlName="approachDistance" id="approachDistance"
                   name="approachDistance" placeholder="approach distance" type="text">
          </div>
        </div>
        <h4 class="col-md-12 mt-3">Other Facilities</h4>
        <div class="row col-md-12" formGroupName="otherFacilities">
          <div class="col-md-4 form-group">
            <table class="table">
              <tr>
                <th>SN</th>
                <th>Particulars</th>
                <th>Yes or No</th>
              </tr>
              <tr>
                <td>1</td>
                <td>Water Supply</td>
                <td><input formControlName="waterSupply" type="checkbox"></td>
              </tr>
              <tr>
                <td>2</td>
                <td>Electricity</td>
                <td><input formControlName="electricity" type="checkbox"></td>
              </tr>
              <tr>
                <td>3</td>
                <td>Boundary Wall Construction</td>
                <td><input formControlName="boundaryWallConstruction" type="checkbox"></td>
              </tr>
              <tr>
                <td>4</td>
                <td>Boundary Fencing</td>
                <td><input formControlName="boundaryFencing" type="checkbox"></td>
              </tr>
              <tr>
                <td>5</td>
                <td>Drainage</td>
                <td><input formControlName="drainage" type="checkbox"></td>
              </tr>
              <tr>
                <td>6</td>
                <td>Open</td>
                <td><input formControlName="open" type="checkbox"></td>
              </tr>
            </table>

            <label class="title" for="remarksForOtherFacility">Remarks For 'No' Option</label>
            <textarea class="form-control" formControlName="remarksForOtherFacility"
                      id="remarksForOtherFacility" name="remarksForOtherFacility"
                      placeholder="remarks"
                      row="3" type="text"></textarea>
          </div>
          <div class="col-md-4">
            <div class="col-md-12 form-group">
              <label class="title" for="building">Building</label>
              <select class="custom-select" formControlName="building" id="building"
                      name="building">
                <option value="YES">Yes</option>
                <option value="NO">No</option>
              </select>
            </div>
            <div class="col-md-12 form-group">
              <label class="title" for="buildingArea">Building Area</label>
              <input class="form-control" formControlName="buildingArea" id="buildingArea"
                     name="buildingArea" placeholder="building area">
            </div>
            <div class="col-md-12 form-group">
              <label class="title" for="constructionYear">Construction Year</label>
              <input [nbDatepicker]="datepicker5" class="form-control"
                     formControlName="constructionYear" id="constructionYear"
                     name="constructionYear" placeholder="construction year">
              <nb-datepicker #datepicker5></nb-datepicker>
            </div>
            <div class="col-md-12 form-group">
              <label class="title" for="qualityOfConstructionRemarks">Remarks For 'No' Option</label>
              <textarea class="form-control" formControlName="qualityOfConstructionRemarks"
                        id="qualityOfConstructionRemarks" name="qualityOfConstructionRemarks"
                        placeholder="remarks"
                        row="3" type="text"></textarea>
            </div>
          </div>
          <table class="table col-md-4">
            <tr>
              <th>SN</th>
              <th>Particulars</th>
              <th>Yes or No</th>
            </tr>
            <tr>
              <td>1</td>
              <td>Load Bearing Wall</td>
              <td><input formControlName="loadBearingWall" type="checkbox"></td>
            </tr>
            <tr>
              <td>2</td>
              <td>Mortar Cement</td>
              <td><input formControlName="mortarCement" type="checkbox"></td>
            </tr>
            <tr>
              <td>3</td>
              <td>Other Roofing</td>
              <td><input formControlName="otherRoofing" type="checkbox"></td>
            </tr>
            <tr>
              <td>4</td>
              <td>Inside Furniture</td>
              <td><input formControlName="insideFurniture" type="checkbox"></td>
            </tr>
            <tr>
              <td>5</td>
              <td>Frame Structure</td>
              <td><input formControlName="frameStructure" type="checkbox"></td>
            </tr>
            <tr>
              <td>6</td>
              <td>RCC Roofing</td>
              <td><input formControlName="rccRoofing" type="checkbox"></td>
            </tr>
            <tr>
              <td>7</td>
              <td>Bathroom And Toilet</td>
              <td><input formControlName="bathroomAndToilet" type="checkbox"></td>
            </tr>
          </table>
        </div>
        <h4 class="col-md-12 mt-3">Vicinity to the Basic Amenities</h4>
        <div class="row col-md-12 mt-3" formGroupName="vicinityToTheBasicAmenities">
          <div class="col-md-6">
            <table class="table">
              <tr>
                <th>SN</th>
                <th>Particulars</th>
                <th>Yes or No</th>
              </tr>
              <tr>
                <td>1</td>
                <td>Major Market Places</td>
                <td><input class="form-control" formControlName="majorMarketPlaces"
                           placeholder="eg: 4.2 km"
                           type="text">
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>School/Colleges</td>
                <td><input class="form-control" formControlName="schoolOrCollege" type="text"></td>
              </tr>
              <tr>
                <td>3</td>
                <td>Hospital/Nursing Home</td>
                <td><input class="form-control" formControlName="hospitalOrNursingHome" type="text">
                </td>
              </tr>
              <tr>
                <td>4</td>
                <td>Electricity Line</td>
                <td><input class="form-control" formControlName="electricityLine" type="text"></td>
              </tr>
              <tr>
                <td>5</td>
                <td>Telephone Line</td>
                <td><input class="form-control" formControlName="telephoneLine" type="text"></td>
              </tr>
              <tr>
                <td>6</td>
                <td>Water Pipeline</td>
                <td><input class="form-control" formControlName="waterPipeline" type="text"></td>
              </tr>
            </table>
          </div>
          <div class="col-md-6">
            <div *ngFor="let staff of staffsForm; let i = index;"
                 formArrayName="staffs">
              <div [formGroupName]="i" class="row">
                <div class="col-md-5 form-group">
                  <label class="title" for="inspectingStaff">Inspecting Staff</label>
                  <input class="form-control" formControlName="name"
                         id="inspectingStaff" name="inspectingStaff"
                         placeholder="full name of staff">
                </div>
                <div class="col-md-5 form-group">
                  <label class="title" for="position">Position</label>
                  <input class="form-control" formControlName="position" id="position"
                         name="position" placeholder="position">
                </div>
                <div *ngIf="staffLength()>1" class="col-md-1 pt-4">
                  <input (click)="deleteStaff(i)"
                         class="align-self-end btn btn-sm btn-danger btn-primary"
                         type="button" value="Delete"/>
                </div>
              </div>
            </div>
            <div class="text-right">
              <input (click)="addStaffs()" class="btn btn-sm btn-flat btn-primary" type="button"
                     value="Add Staff"/>
            </div>
            <div class="form-group">
              <label class="title" for="commentAboutFAC">Comments About FAC</label>
              <textarea class="form-control" formControlName="commentAboutFAC"
                        id="commentAboutFAC" name="commentsAboutFAC"
                        placeholder="comments" row="3" type="text"></textarea>
            </div>
            <div class="form-group">
              <label class="title" for="branchInchargeComment">Branch Incharge Comment</label>
              <textarea class="form-control" formControlName="branchInchargeComment"
                        id="branchInchargeComment" name="branchInchargeComment"
                        placeholder="branch incharge comment"
                        row="3"
                        type="text"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div [hidden]="!currentAssetsInspectionForm" class="row mt-3"
           formGroupName="currentAssetsInspectionDetails">
        <h4 class="col-md-12">Current Assets Inspection - Stock</h4>
        <div class="col-md-4 form-group">
          <label class="title" for="dateOfInspection">Date Of Inspection</label>
          <input [nbDatepicker]="datepicker1" class="form-control"
                 formControlName="dateOfInspection"
                 id="dateOfInspection" placeholder="date of inspection">
          <nb-datepicker #datepicker1></nb-datepicker>
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="particularsOfGoodInspected">Particulars Of Good
            Inspected</label>
          <input class="form-control" formControlName="particularsOfGoodInspected"
                 id="particularsOfGoodInspected" name="particularsOfGoodInspected"
                 placeholder="particulars of good inspected">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="stockValueReported">Stock Value Reported</label>
          <input class="form-control" formControlName="stockValueReported"
                 id="stockValueReported" name="stockValueReported"
                 placeholder="0.0">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="rents">Rents</label>
          <select class="custom-select" formControlName="rents" id="rents" name="rents">
            <option selected="selected" value="OWNED">Owned</option>
            <option value="RENTED">Rented</option>
          </select>
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="isRentPmtUpToDate">IS Rent Pmt. Up to Date?</label>
          <input class="form-control" formControlName="isRentPmtUpToDate" id="isRentPmtUpToDate"
                 name="isRentPmtUpToDate" placeholder="Is rent payment up to date?">
        </div>
        <div class="col-md-4 form-group">
          <label class="title" for="isRentReceiptShown">IS Rent Receipt Up to Date?</label>
          <input class="form-control" formControlName="isRentReceiptShown"
                 id="isRentReceiptShown" name="isRentReceiptShown"
                 placeholder="Is Rent Receipt Shown?">
        </div>

        <h4 class="col-md-12 mt-3">Insurance Verification</h4>
        <div class="row col-md-12 mt-3" formGroupName="insuranceVerification">
          <div class="row col-md-6">
            <div class="col-md-6 form-group">
              <label class="title" for="assetsMortgaged">Assets Mortgaged</label>
              <input class="form-control" formControlName="assetsMortgaged" id="assetsMortgaged"
                     name="assetsMortgaged" placeholder="assets mortgaged">
            </div>
            <div class="col-md-6 form-group">
              <label class="title" for="insuredAmount">Insured Amount</label>
              <input class="form-control" formControlName="insuredAmount" id="insuredAmount"
                     name="insuredAmount" placeholder="insured amount">
            </div>
            <div class="col-md-6 form-group">
              <label class="title" for="insuranceCompany">Insurance Company</label>
              <input class="form-control" formControlName="insuranceCompany"
                     id="insuranceCompany" name="insuranceCompany"
                     placeholder="insurance company">
            </div>
            <div class="col-md-6 form-group">
              <label class="title" for="expireDate">Expiry Date</label>
              <input [nbDatepicker]="datepicker2" class="form-control" formControlName="expireDate"
                     id="expireDate" placeholder="expiry date">
              <nb-datepicker #datepicker2></nb-datepicker>
            </div>
            <div class="col-md-6 form-group">
              <label class="title" for="clientsOverallRating">clients Overall Rating</label>
              <select class="custom-select" formControlName="clientsOverallRating"
                      id="clientsOverallRating"
                      name="rents">
                <option value="POOR">Poor</option>
                <option value="GOOD">Good</option>
                <option value="AVERAGE">Average</option>
                <option value="EXCELLENT">Excellent</option>
              </select>
            </div>
            <div class="col-md-6 form-group">
              <label class="title" for="comments">Comments</label>
              <input class="form-control" formControlName="comments" id="comments"
                     name="comments" placeholder="comments">
            </div>
            <div class="col-md-6 form-group">
              <label class="title" for="stockValueConfirmed">Stock Value Confirmed</label>
              <input class="form-control" formControlName="stockValueConfirmed"
                     id="stockValueConfirmed" name="stockValueConfirmed"
                     placeholder="0.0">
            </div>
          </div>
          <div class="col-md-6">
            <div *ngFor="let inspectingStaff of inspectingStaffsDetailsForm; let i = index;"
                 formArrayName="inspectingStaffsDetails">
              <div [formGroupName]="i" class="row">
                <div class="col-md-5 form-group">
                  <label class="title" for="inspectingStaff">Inspecting Staff</label>
                  <input class="form-control" formControlName="name"
                         id="inspectingStaff"
                         name="inspectingStaff" placeholder="inspecting staff">
                </div>
                <div class="col-md-5 form-group">
                  <label class="title" for="position">Position</label>
                  <input class="form-control" formControlName="position" id="position"
                         name="position" placeholder="position">
                </div>
                <div *ngIf="inspectingStaffsDetailsLength()>1" class="col-md-1 pt-4">
                  <input (click)="deleteInspectingStaffsDetails(i)"
                         class="align-self-end btn btn-sm btn-danger btn-primary"
                         type="button" value="Delete"/>
                </div>
              </div>
            </div>
            <div class="text-right">
              <input (click)="addInspectingStaffsDetails()" class="btn btn-sm btn-flat btn-primary"
                     type="button"
                     value="Add Staff"/>
            </div>
          </div>
        </div>
        <h4 class="col-md-12 mt-3">Current Assets Inpsection - Stock Checklist Questionaire</h4>
        <div class="row col-md-12 mt-3" formGroupName="stockCheckListQuestionaire">
          <table class="table">
            <tr>
              <th>SN</th>
              <th>Particulars</th>
              <th>Yes Or No</th>
            </tr>
            <tr>
              <td>1</td>
              <td>Is the customer upto date with other charges,chargeable to the other premises ?
              </td>
              <td><input
                  formControlName="uptoDateWithCharges"
                  type="checkbox">
              </td>
            </tr>
            <tr>
              <td>2</td>
              <td>All goods belongs to the borrowers and non are hold on account of third parties
              </td>
              <td><input
                  formControlName="borrowersPossession"
                  type="checkbox">
              </td>
            </tr>
            <tr>
              <td>3</td>
              <td>Confirm that valuation of stocks does not include and goods under TR</td>
              <td><input formControlName="notUnderTR"
                         type="checkbox">
              </td>
            </tr>
            <tr>
              <td>4</td>
              <td>There is no evidence of any other bank interested in the goods</td>
              <td><input formControlName="otherBankNotInterested"
                         type="checkbox"></td>
            </tr>
            <tr>
              <td>5</td>
              <td>Was the security in order ?</td>
              <td><input formControlName="securityOrder" type="checkbox"></td>
            </tr>
            <tr>
              <td>6</td>
              <td>Are the goods saleable ?</td>
              <td><input formControlName="goodsSaleable" type="checkbox"></td>
            </tr>
            <tr>
              <td>7</td>
              <td>Are the stocks registered upto date ?</td>
              <td><input formControlName="stocksUptoDate" type="checkbox"></td>
            </tr>
            <tr>
              <td>8</td>
              <td>Does the stocks registered match with the stock list ?</td>
              <td><input formControlName="matchWithTheStockList"
                         type="checkbox"></td>
            </tr>
            <tr>
              <td>9</td>
              <td> Is the storage condition satisfactory ?</td>
              <td><input formControlName="storageConditionSatisfactory" type="checkbox"></td>
            </tr>
            <tr>
              <td>10</td>
              <td>Is fire fighting evidence through arrangement ?</td>
              <td><input formControlName="fireFightingEvidence" type="checkbox">
              </td>
            </tr>
            <tr>
              <td>11</td>
              <td>Are the building/store in the good condition?</td>
              <td><input formControlName="buildingStoreCondition" type="checkbox">
              </td>
            </tr>
            <tr>
              <td>12</td>
              <td>Are the special warranties in the insurance policy upto date ?</td>
              <td><input formControlName="warrantiesUptoDate"
                         type="checkbox"></td>
            </tr>
            <tr>
              <td>13</td>
              <td>There is no evidence of goods hazardous nature in the premises</td>
              <td><input formControlName="noHazardousNature"
                         type="checkbox">
              </td>
            </tr>
            <tr>
              <td>14</td>
              <td>Were our name board properly displayed ?</td>
              <td><input formControlName="nameBoardProperlyDisplayed" type="checkbox"></td>
            </tr>
            <tr>
              <td>15</td>
              <td> Were our padlocks in use ?</td>
              <td><input formControlName="padlocksUse" type="checkbox"></td>
            </tr>
          </table>
          <div class="col-md-6 form-group">
            <label class="title" for="findingAndComments">Finding & Comments</label>
            <textarea class="form-control" formControlName="findingAndComments"
                      id="findingAndComments" name="findingAndComments"
                      placeholder="findings and comments"
                      row="3" type="text"></textarea>
          </div>
          <div class="col-md-6 form-group">
            <label class="title" for="remarksForNoOption">Remarks for 'NO' Option</label>
            <textarea class="form-control" formControlName="remarksForNoOption"
                      id="remarksForNoOption" name="remarksForNoOption" placeholder="remarks"
                      row="3" type="text"></textarea>
          </div>
        </div>
        <h4 class="col-md-12 mt-3">Current Assets Inspection - Receivables & Payables</h4>
        <div class="row col-md-12 mt-3" formGroupName="receivablesAndPayables">
          <div *ngFor="let party of partyForm; let i = index;"
               formArrayName="parties">
            <div [formGroupName]="i" class="row">
              <div class="col-md-2 form-group ml-3">
                <label class="title" for="party">Party</label>
                <input class="form-control" formControlName="party" id="party"
                       name="party" placeholder="party">
              </div>
              <div class="col-md-2 form-group">
                <label class="title" for="withinThreeMonths">Within 3 Months</label>
                <input class="form-control" formControlName="withinThreeMonths"
                       id="withinThreeMonths" name="party" (keyup)="onChangeValue('withinThreeMonths','threeMonthTotal')"
                       placeholder="0.0">
              </div>
              <div class="col-md-2 form-group">
                <label class="title" for="sixMonth">6 Month</label>
                <input class="form-control" formControlName="sixMonth" id="sixMonth"
                       name="sixMonth" placeholder="0.0" (keyup)="onChangeValue('sixMonth', 'sixMonthTotal')">
              </div>
              <div class="col-md-2 form-group">
                <label class="title" for="oneYear">One year</label>
                <input class="form-control" formControlName="oneYear" id="oneYear"
                       name="oneYear" placeholder="0.0" (keyup)="onChangeValue('oneYear', 'oneYearTotal')">
              </div>
              <div class="col-md-2 form-group">
                <label class="title" for="oneYearPlus">1+ year</label>
                <input class="form-control" formControlName="oneYearPlus" id="oneYearPlus"
                       name="oneYeaPlus" placeholder="0.0" (keyup)="onChangeValue('oneYearPlus', 'moreThanOneYearTotal')">
              </div>
              <div *ngIf="partyLength()>1" class="col-md-1 pt-4">
                <input (click)="deletePartyForm(i)"
                       class="align-self-end btn btn-sm btn-danger btn-primary"
                       type="button" value="Delete"/>
              </div>
            </div>
          </div>
          <div class="row col-md-12 justify-content-end">
            <input (click)="addPartyForm()" class="btn btn-sm btn-flat btn-primary" type="button"
                   value="Add Party"/>
          </div>
          <div class="col-md-12 pl-4">
            <div class="row">
              <div class="col-md-2 form-group"><label class="title">Total:</label></div>
              <div class="col-md-2 form-group">
                <input class="form-control" placeholder="0.0" disabled type="text" formControlName="threeMonthTotal">
              </div>
              <div class="col-md-2 form-group">
                <input class="form-control" placeholder="0.0" disabled type="text" formControlName="sixMonthTotal">
              </div>
              <div class="col-md-2 form-group">
                <input class="form-control" placeholder="0.0" disabled type="text" formControlName="oneYearTotal">
              </div>
              <div class="col-md-2 form-group">
                <input class="form-control" placeholder="0.0" disabled type="text" formControlName="moreThanOneYearTotal">
              </div>
            </div>
          </div>
          <div class="col-md-6 form-group">
            <label class="title" for="findingsAndCommentsForCurrentAssetsInspection">Findings & Comments</label>
            <textarea class="form-control" formControlName="findingsAndCommentsForCurrentAssetsInspection"
                      id="findingsAndCommentsForCurrentAssetsInspection" name="findingsAndCommentsForCurrentAssetsInspection"
                      placeholder="findings and comments"
                      row="3" type="text"></textarea>
          </div>
        </div>
        <h4 class="col-md-12 mt-3">Other Current Assets</h4>
        <div class="row col-md-12" formGroupName="otherCurrentAssets">
          <div class="col-md-6 border-right">
            <h5 class="col-md-12 mt-3">Receivable Assets</h5>
            <div *ngFor="let asset of receivableAssetsForm; let i = index;"
                 formArrayName="receivableAssets">
              <div [formGroupName]="i" class="row col-md-12">
                <div class="col-md-5 form-group">
                  <label class="title" for="particulars">Particulars</label>
                  <input class="form-control" formControlName="particulars" id="particulars"
                         name="party">
                </div>
                <div class="col-md-4 form-group ml-3">
                  <label class="title" for="amount">Amount</label>
                  <input class="form-control" formControlName="amount" id="amount"
                         name="amount" placeholder="0.0" (keyup)="onReceivableAssetValueChange('amount', 'receivableCurrentAssetsTotal')">
                </div>
                <div *ngIf="receivableAssetsLength()>1" class="col-md-2 form-group pt-4">
                  <input (click)="deleteReceivableAssets(i)"
                         class="btn btn-sm btn-danger btn-primary"
                         type="button" value="Delete"/>
                </div>
              </div>
            </div>
            <div class="row col-md-12">
              <div class="col-md-5 justify-content-end">
                <input (click)="addReceivableAssets()" class="col-md-12 btn-sm btn-primary mt-4"
                       type="button"
                       value="+Add Receivable Assets"/>
              </div>
              <div class="col-md-4 justify-content-end ml-3">
                <label class="title" for="total">Total</label>
                <input class="form-control" id="total" disabled name="amount" placeholder="0.0" type="text" formControlName="receivableCurrentAssetsTotal">
              </div>
            </div>
            <h5 class="col-md-12 mt-3">Inspecting Staffs</h5>
            <div *ngFor="let asset of inspectingStaffsForm; let i = index;"
                 formArrayName="inspectingStaffs">
              <div [formGroupName]="i" class="row col-md-12">
                <div class="col-md-5 form-group">
                  <label class="title" for="inspectingStaff">Name</label>
                  <input class="form-control" formControlName="name"
                         id="inspectingStaff"
                         name="inspectingStaff">
                </div>
                <div class="col-md-4 form-group">
                  <label class="title" for="position">Position</label>
                  <input class="form-control" formControlName="position" id="position"
                         name="position">
                </div>
                <div *ngIf="inspectingStaffsLength()>1" class="col-md-2 form-group pt-4">
                  <input (click)="deleteInspectingStaffs(i)"
                         class="btn btn-sm btn-danger btn-primary"
                         type="button" value="Delete"/>
                </div>
              </div>
            </div>
            <div class="row col-md-12 justify-content-start">
              <input (click)="addInspectingStaffs()"
                     class="col-md-9 btn btn-sm btn-flat btn-primary"
                     type="button"
                     value="+Add Inspecting Staffs"/>
            </div>
          </div>
          <div class="col-md-6">
            <h5 class="col-md-12 mt-3">Payable Assets</h5>
            <div *ngFor="let asset of payableAssetsForm; let i = index;"
                 formArrayName="payableAssets">
              <div [formGroupName]="i" class="row col-md-12">
                <div class="col-md-5 form-group">
                  <label class="title" for="particulars">Particulars</label>
                  <input class="form-control" formControlName="particulars" id="particulars"
                         name="party">
                </div>
                <div class="col-md-4 form-group ml-3">
                  <label class="title" for="amount">Amount</label>
                  <input class="form-control" formControlName="amount" id="amount"
                         name="amount" placeholder="0.0" (keyup)="onPayableAssetsValueChange('amount', 'payableCurrentAssetsTotal')">
                </div>
                <div *ngIf="payableAssetsLength()>1" class="col-md-2 form-group pt-4">
                  <input (click)="deletePayableAssets(i)" class="btn btn-sm btn-danger btn-primary"
                         type="button" value="Delete"/>
                </div>
              </div>
            </div>
            <div class="row col-md-12">
              <div class="col-md-5 justify-content-end">
                <input (click)="addPayableAssets()" class="col-md-12 btn-sm btn-primary mt-4"
                       type="button"
                       value="+Add Payable Assets"/>
              </div>
              <div class="col-md-4 justify-content-end ml-3">
                <label class="title" for="total">Total</label>
                <input class="form-control" id="total" name="amount" disabled placeholder="0.0" type="text" formControlName="payableCurrentAssetsTotal">
              </div>
            </div>
            <h5 class="col-md-12 mt-3">Bank Exposure</h5>
            <div *ngFor="let asset of bankExposureForm; let i = index;"
                 formArrayName="bankExposures">
              <div [formGroupName]="i" class="row col-md-12">
                <div class="col-md-5 form-group">
                  <label class="title" for="bankName">Bank Name</label>
                  <input class="form-control" formControlName="bankName" id="bankName"
                         name="bankName">
                </div>
                <div class="col-md-4 form-group">
                  <label class="title" for="amount">Amount</label>
                  <input class="form-control" formControlName="amount" id="amount"
                         name="amount" placeholder="0.0">
                </div>
                <div *ngIf="bankExposureLength()>1" class="col-md-2 form-group pt-4">
                  <input (click)="deleteBankExposure(i)" class="btn btn-sm btn-danger btn-primary"
                         type="button" value="Delete"/>
                </div>
              </div>
            </div>
            <div class="row col-md-12 justify-content-start">
              <input (click)="addBankExposure()" class="col-md-9 btn btn-sm btn-flat btn-primary"
                     type="button"
                     value="+Add Bank Exposure"/>
            </div>
          </div>
          <div class="col-md-12 mt-4">
            <div class="form-group">
              <label class="title" for="overallFindings">Overall Findings / Comment of CAI</label>
              <textarea class="form-control" formControlName="overAllFindings"
                        id="overAllFindings" name="overAllFindings"
                        placeholder="overall findings / comments of CAI"
                        row="3" type="text"></textarea>
            </div>
          </div>
        </div>
      </div>
    </form>
  </nb-card-body>
</nb-card>
<pre>{{siteVisitFormGroup.value | json}}</pre>
