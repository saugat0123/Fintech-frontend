<nb-card>
  <nb-card-header class="text-center">
    <strong>Guarantor Information</strong>
  </nb-card-header>
  <nb-card-body>
    <div class="row mt-3">
      <div class="col-md-12 input-group-prepend">
        <ng-select placeholder="select guarantor" style="width:100%"  fullWidth nbInput #selectedGuarantor [formControl]="guarantor">
          <ng-option *ngFor="let guarantor of guarantorList" [value]="guarantor" >
            {{guarantor.name}} / {{guarantor.issuedPlace}}
          </ng-option>
        </ng-select>
        <button [disabled]="!guarantor.valid" nbButton size="small" (click)="addGuarantorDetail(guarantor.value)"> <i
                class="fa fa-plus"></i></button>
      </div>
    </div>
    <p><strong class="mt-2 text-danger">{{msg}}</strong></p>
    <div  class="row mt-5">
      <div class="col-md-12">
        <p><strong>Tagged Guarantor Details</strong></p>
        <table
            class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
          <thead>
          <tr class="text-white sb-bg-dark">
            <th>S.N</th>
            <th>Name</th>
            <th>CitizenNumber</th>
            <th>Address</th>
            <th>ContactNumber</th>
            <th>Action</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let guarantor of selectedGuarantorList; let i= index">
            <td>{{i + 1}}</td>
            <td>{{guarantor?.name}}</td>
            <td>{{guarantor?.citizenNumber}}</td>
            <td>{{guarantor?.issuedPlace }},{{guarantor?.province?.name}},{{guarantor?.district?.name}}</td>
            <td>{{guarantor?.contactNumber}}</td>
            <td> <button (click)="removeGuarantor(guarantor)"
                         class="btn btn-sm btn-flat btn-danger">
              <em class="fa fa-trash bg-transparent"></em>
            </button>
              <button (click)="openGuarantorDetailModal(guarantor)"
                         class="ml-1 btn btn-sm btn-flat btn-primary">
              <em class="fa fa-info bg-transparent"></em>
            </button></td>
          </tr>
          </tbody>
        </table>
        <p *ngIf="selectedGuarantorList.length === 0" class="text-center">No Guarantor tagged yet!</p>
      </div>
    </div>
  </nb-card-body>
</nb-card>
