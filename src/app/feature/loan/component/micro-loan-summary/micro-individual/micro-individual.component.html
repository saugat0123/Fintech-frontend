<div class="row">
    <div class="col-md-12">
        <p><strong>Basic Information</strong></p>
        <table
                class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
            <thead>
            <tr class="text-white sb-bg-dark">
                <th>Application Name and Address</th>
                <th>Customerâ€™s category</th>
                <th>Distance form Branch Office</th>
                <th>Risk Rating</th>
                <th>Basel -2 Risk Classification (in %)</th>
                <th>Base of Risk Classification: RRP</th>
                <th>Sub-Sector</th>

            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let relative of loanDataHolder?.customerInfo?.customerRelatives">
                <td class="text-left pl-1">
                    {{relative.customerRelativeName}}
                </td>

                <td class="text-left pl-1">
                    {{relative.customerRelation}}
                </td>
                <td class="text-right pr-1">
                    {{relative.citizenshipNumber}}
                </td>
                <td class="text-left pl-1">
                    {{relative.citizenshipIssuedDate | date}}
                </td>

                <td>{{loanDataHolder?.loanHolder['clientType']}}</td>
                <td>{{loanDataHolder?.loanHolder['subsectorDetail']}}</td>
                <td>{{loanDataHolder?.loanHolder['subSector']}}</td>

            </tr>
            </tbody>
        </table>
    </div>

    <div class="col-md-12">
        <p><strong>Details of Borrower</strong></p>
    </div>
    <div class="col-md-12">
        <div>
            <table
                    class="table table-condensed table-bordered table-sm table-responsive-md text-center sb-small">
                <thead>
                <tr class="text-white sb-bg-dark">
                    <th>Name</th>
                    <th>Date Of Birth</th>
                    <th>Citizenship Number</th>
                    <th>Mobile Number</th>
                    <th>LandLine Number</th>
                    <th>Occupation</th>
                    <th>Income Source</th>
                </tr>
                </thead>
                <tbody>
                <tr class="text-left">
                    <td class="pl-1">{{loanDataHolder?.customerInfo?.customerName}}</td>
                    <td class="pl-1">{{loanDataHolder?.customerInfo?.dob | date}}</td>
                    <td class="text-right pr-1">{{loanDataHolder?.customerInfo?.citizenshipNumber}}</td>
                    <td class="text-right pr-1">{{loanDataHolder?.customerInfo?.contactNumber}}</td>
                    <td class="text-right pr-1">{{loanDataHolder?.customerInfo?.landLineNumber}}</td>
                    <td class="pl-1">{{(loanDataHolder?.customerInfo?.occupation | jsonParse)?.multipleOccupation || 'NA'}}</td>
                    <td class="pl-1">{{(loanDataHolder?.customerInfo?.incomeSource | jsonParse)?.multipleIncome || 'NA'}}</td>
                </tr>

                </tbody>
            </table>
        </div>

        <div>
            <p><strong>Family Details</strong></p>
            <table
                    class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
                <thead>
                <tr class="text-white sb-bg-dark">
                    <th>Name</th>
                    <th>Relation Name</th>
                    <th>Citizenship no.</th>
                    <th>Citizenship Issued Date</th>

                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let relative of loanDataHolder?.customerInfo?.customerRelatives">
                    <td class="text-left pl-1">
                        {{relative.customerRelativeName}}
                    </td>

                    <td class="text-left pl-1">
                        {{relative.customerRelation}}
                    </td>
                    <td class="text-right pr-1">
                        {{relative.citizenshipNumber}}
                    </td>
                    <td class="text-left pl-1">
                        {{relative.citizenshipIssuedDate | date}}
                    </td>

                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <br>
    <div *ngIf="individualJsonData?.microCustomerDetail?.isBlBAgent === 'yes'" class="col-md-12">
        <div>
            <p><strong>BLB Agent</strong></p>
        </div>
        <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
            <thead>
            <tr class="text-white sb-bg-dark">
                <th>S.N</th>
                <th>Name of BLB agent</th>
                <th>BC Code</th>
            </tr>
            </thead>
            <tbody>
            <td>1 </td>
            <td>{{individualJsonData?.microCustomerDetail?.blbAgentName}}</td>
            <td>{{individualJsonData?.microCustomerDetail?.blbAgentCode}}</td>
            </tbody>
        </table>
    </div>

    <div *ngIf="individualJsonData?.microCustomerDetail?.isDeprive === 'yes'" class="col-md-12">
        <div>
            <p><strong> Categorization of customer as per NRB Directive 17.  </strong> </p>
        </div>
        <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
            <thead>
            <tr class="sb-bg-dark text-white">
                <th>Deprive Sector</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>{{individualJsonData?.microCustomerDetail?.depriveSector}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-12">
        <div>
            <p><strong>Other Information and Condition</strong></p>
        </div>
            <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
                <thead class="sb-bg-dark text-white">
                <th>S.N</th>
                <th>Information</th>
                <th>YES / NO</th>
                <th>Remarks</th>
                </thead>
                <tbody>
                <tr>
                    <td>1.</td>
                    <td>Is the loan processing fee as per our standard charges?</td>
                    <td>{{otherInformationAndConfirmation?.loanProcessingFee}}</td>
                    <td>{{otherInformationAndConfirmation?.loanProcessingRemarks}}</td>
                </tr>
                <tr>
                    <td>2.</td>
                    <td>Is the customer eligible for loan from Mega Bank as per prevailing law & NRB guidelines?</td>
                    <td>{{otherInformationAndConfirmation?.customerEligibile}}</td>
                    <td>{{otherInformationAndConfirmation?.customerEligibileRemarks}}</td>
                </tr>
                <tr>
                    <td>3.</td>
                    <td>Has the customer taken consent from its family members for the proposal?</td>
                    <td>{{otherInformationAndConfirmation?.customerTakenConsent}}</td>
                    <td>{{otherInformationAndConfirmation?.customerTakenConsentRemarks}}</td>
                </tr>
                <tr>
                    <td>4.</td>
                    <td>Did you visit the business site? Can it be regularly monitored by the branch office?</td>
                    <td>{{otherInformationAndConfirmation?.businessSite}}</td>
                    <td>{{otherInformationAndConfirmation?.businessSiteRemarks}}</td>
                </tr>
                <tr>
                    <td>5.</td>
                    <td>Has the customer understand all the terms & conditions as per our PPG?</td>
                    <td>{{otherInformationAndConfirmation?.customerUnderstand}}</td>
                    <td>{{otherInformationAndConfirmation?.customerUnderstandRemarks}}</td>
                </tr>
                <tr>
                    <td>6.</td>
                    <td>Did the applicant submit all the required documents as per PPG and verified with true copy?</td>
                    <td>{{otherInformationAndConfirmation?.applicantSubmit}}</td>
                    <td>{{otherInformationAndConfirmation?.applicantSubmitRemarks}}</td>
                </tr>
                <tr>
                    <td>7.</td>
                    <td>Has the customer is experience in the same field more than 1 year</td>
                    <td>{{otherInformationAndConfirmation?.customerExperience}}</td>
                    <td>{{otherInformationAndConfirmation?.customerExperienceRemarks}}</td>
                </tr>
                <tr>
                    <td>8.</td>
                    <td>Please check whether followings are in defaulters' black list as published by CIB</td>
                    <td>{{otherInformationAndConfirmation?.checkWhether}}</td>
                    <td>{{otherInformationAndConfirmation?.checkWhetherRemarks}}</td>
                </tr>
                <tr>
                    <td>a.</td>
                    <td>Applicant</td>
                    <td>{{otherInformationAndConfirmation?.applicant}}</td>
                    <td>{{otherInformationAndConfirmation?.applicantRemarks}}</td>
                </tr>
                <tr>
                    <td>b.</td>
                    <td>Undivided family members of applicants</td>
                    <td>{{otherInformationAndConfirmation?.undividedFamily}}</td>
                    <td>{{otherInformationAndConfirmation?.undividedFamilyRemarks}}</td>
                </tr>
                <tr>
                    <td>c.</td>
                    <td>PG providers of applicant</td>
                    <td>{{otherInformationAndConfirmation?.providersApplicant}}</td>
                    <td>{{otherInformationAndConfirmation?.providersApplicantRemarks}}</td>
                </tr>
                </tbody>
            </table>
    </div>
    <div class="col-md-12">
        <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
            <thead class="sb-bg-dark text-white">
                <th>Deviation</th>
            </thead>
            <tbody>
            <td>{{otherInformationAndConfirmation?.waiverConclusionRecommendation}}</td>
            </tbody>
        </table>
    </div>
    <div class="col-md-12">
        <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
            <thead>
            <th class="sb-bg-dark text-white">Overall Justification / Recommendation</th>
            </thead>
            <tbody>
            <td>{{otherInformationAndConfirmation?.summeryRecommendation}}</td>
            </tbody>
        </table>
    </div>

    <div *ngIf="loanDataHolder?.dmsLoanFile !== null" class="row">
        <div class="col-md-12">
            <p><strong>Detail of Present Proposal of the Facility</strong></p>
            <table class="table table-bordered text-center table-sm sb-small">
                <tbody>
                <tr>
                    <th>Credit Facility</th>
                    <td>{{loanDataHolder?.loan?.name}}</td>

                    <th>Loan Category</th>
                    <td>{{loanDataHolder?.loanCategory === 'INDIVIDUAL' ? 'PERSONAL'
                        : 'BUSINESS'}}</td>

                    <th>Proposed Limit</th>
                    <td>{{dmsLoanFile?.proposedAmount
                    || loanDataHolder?.proposal?.proposedLimit | currencyFormatter}}</td>

                    <th>Interest Rate</th>
                    <td>{{dmsLoanFile?.interestRate || loanDataHolder?.proposal?.interestRate}} %</td>

                    <th>Tenure Duration In Month</th>
                    <td>{{(dmsLoanFile?.tenureDuration
                        || loanDataHolder?.proposal?.tenureDurationInMonths)}}</td>

                </tr>
                <tr>
                    <th>Service Charge</th>
                    <td>{{dmsLoanFile?.serviceChargeType === 'Flat' ? ' NRs. ' : ''}}
                        {{dmsLoanFile?.serviceChargeAmount || loanDataHolder?.proposal?.serviceCharge}}
                        {{dmsLoanFile?.serviceChargeType === 'Percentage' ? ' %' : ''}}
                    </td>

                    <th>FMV Funding Percentage</th>
                    <td>{{dmsLoanFile?.fmvFundingPercent}} %</td>

                    <th>Total FMV</th>
                    <td>{{dmsLoanFile?.fmvTotal | currencyFormatter}}</td>

                    <th>Total DV</th>
                    <td>{{dmsLoanFile?.distressValue | currencyFormatter}}</td>

                    <th>Total Loan Limit</th>
                    <td>{{dmsLoanFile?.totalLoanLimit | currencyFormatter}}</td>
                </tr>
                <tr>
                    <th>Individual Exposure</th>
                    <td>{{dmsLoanFile?.individualExposure | currencyFormatter}}</td>

                    <th>Group Exposure</th>
                    <td>{{dmsLoanFile?.groupExpo | currencyFormatter}}</td>

                    <th>Interest Coverage Ratio</th>
                    <td>{{dmsLoanFile?.incomeCoverageRatio}}</td>

                </tr>
                <tr>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div *ngIf="loanDataHolder?.dmsLoanFile !== null" class="row mt-3">
        <div class="col-md-12">
            <p><strong>Security Offered</strong></p>
            <p><label *ngFor="let security of securities; let i = index">{{i + 1}}
                . {{Security[security]}}&nbsp;&nbsp;</label>
            </p>
        </div>
    </div>

    <div *ngIf="loanDataHolder?.dmsLoanFile !== null" class="row mt-3">
        <div class="col-md-12">
            <p><strong>Recommendation and Conclusion</strong></p>
            <p class="border text-justify p-1">
                {{dmsLoanFile?.recommendationConclusion}}
            </p>
        </div>
    </div>

    <div *ngIf="loanDataHolder?.dmsLoanFile !== null" class="row mt-3">
        <div class="col-md-12">
            <p><strong>Waiver</strong></p>
            <p class="border text-justify p-1">
                {{dmsLoanFile?.waiver}}
            </p>
        </div>
    </div>

    <div *ngIf="loanDataHolder?.customerInfo?.withinLimitRemarks">
        <table class="table table-condensed table-bordered table-responsive-md text-center table-sm sb-small">
            <tr class="sb-bg-dark text-white">
                <th>Within Limit Remarks (if any)</th>
            </tr>
            <tr>
                <td class="text-left pl-1"> {{loanDataHolder?.customerInfo?.withinLimitRemarks}}</td>
            </tr>
        </table>
    </div>

</div>
