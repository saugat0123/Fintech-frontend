<nb-card class="m-0" accent="primary" [nbSpinner]="spinner"
         nbSpinnerStatus="primary"
         nbSpinnerSize="giant">
    <nb-card-header>
        <a (click)="editCustomer(0)" aria-label="Close" class="close cursor"
           data-dismiss="modal">
            <span aria-hidden="true">Ã—</span></a>
        <h4 class="modal-title pull-left"> KYC</h4>
    </nb-card-header>

    <nb-card-body>

        <div [formGroup]="kycInfo">

            <div *ngFor="let relatives of kycInfo.get('customerRelatives')['controls']; let i = index"
                 formArrayName="customerRelatives">
                <div [formGroupName]="i">
                    <div class="form">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Name</strong></label>
                                        <input class="form-control"
                                               formControlName="customerRelativeName"
                                               placeholder="name" type="text">

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Relation</strong></label>
                                        <input class="form-control"
                                               formControlName="customerRelation"
                                               placeholder="Relation" type="text">

                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Citizenship Number</strong></label>
                                        <input class="form-control"
                                               formControlName="citizenshipNumber"
                                               placeholder="citizenship no" type="text">

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Issued place</strong></label>
                                        <input class="form-control"
                                               formControlName="citizenshipIssuedPlace"
                                               placeholder="issued place" type="text">

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label><strong>Issued Date</strong></label>
                                        <input *ngIf="calendarType === 'AD'" nbInput
                                               [nbDatepicker]="relationCitizenIssueDate"
                                               class="form-control"
                                               formControlName="citizenshipIssuedDate"
                                               [ngClass]="{ 'is-invalid':  relatives.get('citizenshipIssuedDate').errors }"
                                               placeholder="08/19/2020">
                                        <app-calendar [ePreDate]="relatives.get('citizenshipIssuedDate').value"
                                                      *ngIf="calendarType === 'BS'"
                                                      (messageToEmit)="relatives.get('citizenshipIssuedDate').patchValue($event?.eDate)"></app-calendar>

                                        <nb-datepicker #relationCitizenIssueDate></nb-datepicker>

                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>

            </div>

        </div>

        <nb-card-footer class="float-right">
            <div class="row justify-content-end">
                <div class="px-2 text-right">
                    <a (click)="editCustomer(0)" nbButton size="small"
                       status="warning" type="button">Cancel
                    </a>
                </div>
                <div class="px-2">
                    <a (click)="onSubmit()" nbButton size="small"
                       status="danger" type="button">Save
                    </a>
                </div>
            </div>
        </nb-card-footer>
    </nb-card-body>
</nb-card>

