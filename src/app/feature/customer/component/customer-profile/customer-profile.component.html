<nb-card>
    <div class="container bg-light mb-3">
        <div class="row">
            <div class=" row col-md-3 m-4">
                <img alt="..." class="card-img-top" src="../../../../../assets/img/avatar.png"
                     style="width: 15rem">
            </div>
            <div class="col-md-6 mt-3">

                <div class="row">
                    <span> <b>Name :</b> {{customer.contactNumber}}</span></div>
                <div class="row">
                    <span> <b>Date Of Birth :</b> {{customer.dob | date}}</span></div>

                <div class="row">
                    <span> <b>Address :</b> {{customer?.province?.name}}, {{customer?.district?.name}}
                        , {{customer?.municipalities?.name}}, {{customer?.street}},
                        {{customer?.wardNumber}}</span></div>
                <div class="row">
                    <span> <b>Email :</b> {{customer.email }}</span></div>
                <div class="row">
                    <span> <b>Contact :</b> {{customer.contactNumber }}</span></div>

            </div>
        </div>
        <div class="d-flex justify-content-end">
            <button (click)="openSelectLoanTemplate(loanListTemplate)" class="btn btn-primary">Apply Loan</button>
        </div>
    </div>

    <div class="container mb-5">
        <div class="row">

            <div class="col-md-8">
                <div class="row col-md-12">
                    <div class="card">
                        <div class="card-header">
                            Loan History
                        </div>
                        <div class="card-body">
                            <table class="table table-bordered table-hover " id="add-branch-table"
                                   style="max-height: 400px;overflow-y: auto">
                                <thead>
                                <tr>
                                    <th>S.N</th>
                                    <th>Branch</th>
                                    <th>Loan Facility</th>
                                    <th>Proposed Amount</th>
                                    <th>Type</th>
                                    <th>Status</th>

                                    <th>Created On</th>

                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let model of customerLoanList;let i=index"

                                    class="cursor">
                                    <td>{{i + 1}}</td>
                                    <td>{{model?.branch?.name}}</td>

                                    <td>{{model?.loan?.name}}</td>
                                    <td>
                                        <span class="d-flex justify-content-end">{{model?.proposal?.proposedLimit | number}}</span>
                                    </td>

                                    <td>{{loanType[model?.loanType]}}</td>
                                    <td>{{model?.documentStatus}}</td>


                                    <td>

                                        {{model?.createdAt | date}}

                                    </td>


                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="row col-md-12">
                    <div class="card">
                        <div class="card-header">
                            Description 2
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">Special title treatment</h5>
                            <p class="card-text">Near the beginning of his career, Einstein thought that Newtonian
                                mechanics was no longer enough to reconcile the laws of classical mechanics with the
                                laws of the electromagnetic field. This led him to develop his special theory of
                                relativity during his time at the Swiss Patent Office in Bern (1902â€“1909). He
                                subsequently realized that the principle of relativity could be extended to
                                gravitational fields, and published a paper on general relativity in 1916 introducing
                                his theory of gravitation. He continued to deal with problems of statistical mechanics
                                and quantum theory, which led to his explanations of particle theory and the motion of
                                molecules. </p>
                        </div>
                    </div>
                </div>

            </div>

            <div class="col-md-4">

                <div class="row bg-danger">
                    <div class="col-4">
                        <div class="nav flex-column nav-pills mt-1">

                            <ul><a class="nav-link active">Content 1</a></ul>
                            <ul><a class="nav-link active">Content 2</a></ul>
                            <ul><a class="nav-link active">Content 3</a></ul>
                            <ul><a class="nav-link active">Content 4</a></ul>
                            <ul><a class="nav-link active">Content 5</a></ul>
                            <ul><a class="nav-link active">Content 6</a></ul>
                            <ul><a class="nav-link active">Content 7 </a></ul>
                            <ul><a class="nav-link active">Content 8</a></ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <app-spinner *ngIf="spinner" class="d-flex justify-content-center"></app-spinner>
</nb-card>

<ng-template #loanListTemplate>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Apply</h4>
        <a (click)="onClose()" aria-label="Close" class="close pull-right cursor">
            <span aria-hidden="true">&times;</span>
        </a>
    </div>
    <div class="modal-body">
        <form>
            <div class="col-md-12 row">

                <div class="col-md-6">
                    <select [(ngModel)]="applyForm.loanId" class="form-control rounded" name="loanId">
                        <option [ngValue]="undefined" hidden> select Loan Type</option>
                        <option *ngFor="let allList of loanList" [ngValue]="allList.id">{{allList.name}}</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <select [(ngModel)]="applyForm.loanCategory" class="form-control rounded" name="businessOrPersonal">
                        <option [ngValue]="undefined" hidden>Loan Category</option>
                        <option value="PERSONAL_TYPE">PERSONAL</option>
                        <option value="BUSINESS_TYPE">BUSINESS</option>
                    </select>
                </div>
            </div>

            <div class="col-md-12 py-2">
                <button (click)="openLoanForm()" class="btn btn-success float-right" type="submit">Next</button>
            </div>
        </form>
    </div>

</ng-template>




