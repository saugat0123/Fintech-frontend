<nb-card accent="primary">
  <nb-card-header>
    Customer Loan Information
  </nb-card-header>
  <nb-card-body>
    <div class="row col-md-12">
      <div class="col-md-4">
        <nb-card class="col-md-11 py-2" *ngIf="customerInfo?.cicl" #itemCicl>
          <a class="cursor info-label" (click)="openModel(ciclComponentTemplate)">
            <div class="row col-md-12">
              <div class="col-md-8">
                <nb-card-header>CICL</nb-card-header>
              </div>
            </div>
          </a>
        </nb-card>
        <ng-template #ciclComponentTemplate let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              CICL
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                <span aria-hidden="true">×</span></a>
            </nb-card-header>
            <nb-card-body>
              <app-cicl-view
                  [ciclValue]="customerInfo?.cicl"></app-cicl-view>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>
    </div>

    <div class="col-md-4">
      <nb-card class="col-md-11 py-2" *ngIf="customerInfo?.insurance?.length>0" #itemInsurance>
        <a class="cursor info-label" (click)="openModel(insuranceComponentTemplate)">
          <div class="row col-md-12">
            <div class="col-md-8">
              <nb-card-header>INSURANCE</nb-card-header>
            </div>
          </div>
        </a>
      </nb-card>
      <ng-template #insuranceComponentTemplate let-data let-ref="dialogRef">
        <nb-card class="template-css">
          <nb-card-header>
            INSURANCE
            <a aria-label="Close" class="close cursor"
               data-dismiss="modal" (click)="ref.close()">
              <span aria-hidden="true">×</span></a>
          </nb-card-header>
          <nb-card-body>
            <app-insurance-view [insurance]="customerInfo?.insurance"></app-insurance-view>
          </nb-card-body>
        </nb-card>
      </ng-template>
    </div>

    <div class="col-md-4">
      <nb-card class="col-md-11 py-2" *ngIf="customerInfo?.financial" #itemFinancial>
        <a class="cursor info-label" (click)="openModel(itemFinancialTemplate)">
          <div class="row col-md-12">
            <div class="col-md-8">
              <nb-card-header>FINANCIAL</nb-card-header>
            </div>
          </div>
        </a>
      </nb-card>
      <ng-template #itemFinancialTemplate let-data let-ref="dialogRef">
        <nb-card class="template-css">
          <nb-card-header>
            FINANCIAL
            <a aria-label="Close" class="close cursor"
               data-dismiss="modal" (click)="ref.close()">
              <span aria-hidden="true">×</span></a>
          </nb-card-header>
          <nb-card-body>
            <app-financial-view
                [formData]="customerInfo?.financial"
                [customerType]="customerInfo?.customerType"
            ></app-financial-view>
          </nb-card-body>
        </nb-card>
      </ng-template>
    </div>

<!--    <div class="col-md-4">-->
<!--      <nb-card class="col-md-11 py-2" #guarantor *ngIf="customerInfo?.guarantors">-->
<!--        <a class="cursor info-label" (click)="openModel(guarantorComponentTemplate)">-->
<!--          <div class="row col-md-12">-->
<!--            <div class="col-md-8">-->
<!--              <nb-card-header>GUARANTOR</nb-card-header>-->
<!--            </div>-->
<!--          </div>-->
<!--        </a>-->
<!--      </nb-card>-->
<!--      <ng-template #guarantorComponentTemplate let-data let-ref="dialogRef">-->
<!--        <nb-card class="template-css">-->
<!--          <nb-card-header>-->
<!--            GUARANTOR-->
<!--            <a aria-label="Close" class="close cursor"-->
<!--               data-dismiss="modal" (click)="ref.close()">-->
<!--              <span aria-hidden="true">×</span></a>-->
<!--          </nb-card-header>-->
<!--          <nb-card-body>-->
<!--            <app-guarantor-view-->
<!--                [guarantorData]="customerInfo?.guarantors"></app-guarantor-view>-->
<!--          </nb-card-body>-->
<!--        </nb-card>-->
<!--      </ng-template>-->
<!--    </div>-->

    <div class="col-md-4">
      <nb-card class="col-md-11 py-2" #siteVisit *ngIf="customerInfo?.siteVisit">
        <a class="cursor info-label" (click)="openModel(itemSiteVisitTemplate)">
          <div class="row col-md-12">
            <div class="col-md-8">
              <nb-card-header>SITE VISIT</nb-card-header>
            </div>
          </div>
        </a>
      </nb-card>
      <ng-template #itemSiteVisitTemplate let-data let-ref="dialogRef">
        <nb-card class="template-css">
          <nb-card-header>
            SITE VISIT
            <a aria-label="Close" class="close cursor"
               data-dismiss="modal" (click)="ref.close()">
              <span aria-hidden="true">×</span></a>
          </nb-card-header>
          <nb-card-body>
            <app-site-visit-view
                [siteVisit]="customerInfo?.siteVisit">

            </app-site-visit-view>
          </nb-card-body>
        </nb-card>
      </ng-template>
    </div>

    <div class="col-md-4">
      <nb-card class="col-md-11 py-2" #security>
        <a class="cursor info-label" (click)="openModel(securityComponentTemplate)">
          <div class="row col-md-12">
            <div class="col-md-8">
              <nb-card-header>SECURITY</nb-card-header>
            </div>
          </div>
        </a>
      </nb-card>
      <ng-template #securityComponentTemplate let-data let-ref="dialogRef">
        <nb-card class="template-css">
          <nb-card-header>
            SECURITY
            <a aria-label="Close" class="close cursor"
               data-dismiss="modal" (click)="ref.close()">
              <span aria-hidden="true">×</span></a>
          </nb-card-header>
          <nb-card-body>
            <app-security-view
                [security]="customerInfo?.security"
                [shareSecurityData]="customerInfo?.shareSecurity">

            </app-security-view>
          </nb-card-body>
        </nb-card>
      </ng-template>
    </div>
    <nb-accordion>

      <!--<nb-accordion-item #itemCrgAlpha *ngIf="customerInfo?.creditRiskGradingAlpha">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>CREDIT RISK GRADING (ALPHA)</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-credit-risk-grading-alpha
              *ngIf="itemCrgAlpha.expanded"
              [creditRiskGradingAlpha]="customerInfo?.creditRiskGradingAlpha"
              [financial]="customerInfo?.financial"
              [companyInfo]="companyInfo"
              [fromProfile]="false"></app-credit-risk-grading-alpha>
        </nb-accordion-item-body>
      </nb-accordion-item>-->

      <!--      <nb-accordion-item #itemCrg>-->
      <!--        <nb-accordion-item-header>-->
      <!--          <div class="row col-md-12">-->
      <!--            <div class="col-md-8">-->
      <!--              <span>CREDIT RISK GRADING</span>-->
      <!--            </div>-->
      <!---->
      <!--          </div>-->
      <!--        </nb-accordion-item-header>-->
      <!--        <nb-accordion-item-body>-->
      <!--          <app-credit-grading #CrgComponent-->
      <!--                              *ngIf="itemCrg.expanded"-->
      <!--                              [formData]="customerInfo?.creditRiskGrading"-->
      <!--                              [fromProfile]="false"></app-credit-grading>-->
      <!--        </nb-accordion-item-body>-->
      <!--      </nb-accordion-item>-->
    </nb-accordion>
  </nb-card-body>
</nb-card>
