<nb-card accent="primary">
  <nb-card-header>
    Customer Loan Information
  </nb-card-header>
  <nb-card-body>
    <nb-accordion>
      <nb-accordion-item *ngIf="customerInfo?.insurance?.length>0" #itemInsurance>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>INSURANCE</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-insurance-view *ngIf="itemInsurance.expanded"
                              [insurance]="customerInfo?.insurance"></app-insurance-view>
        </nb-accordion-item-body>
      </nb-accordion-item>
      <nb-accordion-item *ngIf="customerInfo?.financial" #itemFinancial>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>FINANCIAL</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-financial-view *ngIf="itemFinancial.expanded"
                              [formData]="customerInfo?.financial"
                              [customerType]="customerInfo?.customerType"
          ></app-financial-view>
        </nb-accordion-item-body>
      </nb-accordion-item>
      <nb-accordion-item #guarantor *ngIf="customerInfo?.guarantors">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>GUARANTOR</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-guarantor-view *ngIf="guarantor.expanded"
                              [guarantorData]="customerInfo?.guarantors"></app-guarantor-view>
        </nb-accordion-item-body>
      </nb-accordion-item>
      <nb-accordion-item #siteVisit *ngIf="customerInfo?.siteVisit">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>SITE VISIT</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-site-visit-view *ngIf="siteVisit.expanded"
                               [siteVisit]="customerInfo?.siteVisit">

          </app-site-visit-view>
        </nb-accordion-item-body>
      </nb-accordion-item>
      <nb-accordion-item #security *ngIf="customerInfo?.security">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>Security</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-security-view *ngIf="security.expanded"
                             [security]="customerInfo?.security"
                             [shareSecurityData]="customerInfo?.shareSecurity">

          </app-security-view>
        </nb-accordion-item-body>
      </nb-accordion-item>
      <nb-accordion-item #itemCrgAlpha *ngIf="customerInfo?.creditRiskGradingAlpha">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>CREDIT RISK GRADING (ALPHA)</span>
            </div>

          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-credit-risk-grading-alpha
              *ngIf="itemCrgAlpha.expanded"
              [creditRiskGradingAlpha]="customerInfo?.creditRiskGradingAlpha"
              [financial]="customerInfo?.financial"
              [companyInfo]="companyInfo"
              [fromProfile]="false"></app-credit-risk-grading-alpha>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item #itemCrg>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>CREDIT RISK GRADING</span>
            </div>

          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-credit-grading #CrgComponent
                              *ngIf="itemCrg.expanded"
                              [formData]="customerInfo?.creditRiskGrading"
                              [fromProfile]="false"></app-credit-grading>
        </nb-accordion-item-body>
      </nb-accordion-item>


      <nb-accordion-item #itemCrgGamma>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>CREDIT RISK GRADING (GAMMA)</span>
            </div>

          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-credit-risk-grading-gamma #CrgGammaComponent

                                         *ngIf="itemCrgGamma.expanded"
                                         [formData]="customerInfo?.crgGamma"
                                         [fromProfile]="false"></app-credit-risk-grading-gamma>
        </nb-accordion-item-body>
      </nb-accordion-item>

    </nb-accordion>
  </nb-card-body>
</nb-card>
