<nb-card accent="primary">
  <nb-card-header>
    Customer Loan Information
  </nb-card-header>
  <nb-card-body>
    <nb-accordion>
      <nb-accordion-item #siteVisit *ngIf="customerInfo?.siteVisit">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>SITE VISIT</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-site-visit-view *ngIf="siteVisit.expanded"
                               [siteVisit]="customerInfo?.siteVisit">

          </app-site-visit-view>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item *ngIf="customerInfo?.cicl" #itemCicl>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>CICL</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-cicl-view *ngIf="itemCicl.expanded"
                              [ciclValue]="customerInfo?.cicl"></app-cicl-view>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item *ngIf="customerInfo?.financial" #itemFinancial>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>{{customerInfo?.customerType === 'INDIVIDUAL' ? 'INCOME & EXPENSES' : 'FINANCIAL'}}</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-financial-view *ngIf="itemFinancial.expanded"
                              [formData]="customerInfo?.financial"
                              [customerType]="customerInfo?.customerType"></app-financial-view>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item *ngIf="customerInfo?.incomeFromAccount" #itemIncomeFromAccount>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>INCOME FROM ACCOUNT</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-income-from-account-summery  *ngIf="itemIncomeFromAccount.expanded"
                                            [formData]="customerInfo?.incomeFromAccount"></app-income-from-account-summery>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item *ngIf="customerInfo?.netTradingAssets" #itemNetTrading>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>NET TRADING CURRENT ASSETS (NTCA)</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item #security *ngIf="customerInfo?.security">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>SECURITY</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-security-view *ngIf="security.expanded"
                             [security]="customerInfo?.security"
                             [shareSecurityData]="customerInfo?.shareSecurity">

          </app-security-view>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item #guarantor *ngIf="customerInfo?.guarantors?.guarantorList">
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>GUARANTOR</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-guarantor-view *ngIf="guarantor.expanded"
                              [guarantorData]="customerInfo?.guarantors?.guarantorList"></app-guarantor-view>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item *ngIf="customerInfo?.insurance?.length>0" #itemInsurance>
      <nb-accordion-item-header>
        <div class="row col-md-12">
          <div class="col-md-8">
            <span>INSURANCE</span>
          </div>
        </div>
      </nb-accordion-item-header>
      <nb-accordion-item-body>
        <app-insurance-view *ngIf="itemInsurance.expanded"
                            [insurance]="customerInfo?.insurance"></app-insurance-view>
      </nb-accordion-item-body>
    </nb-accordion-item>

      <nb-accordion-item *ngIf="customerInfo?.creditChecklist" #itemCreditCheckList>
        <nb-accordion-item-header>
          <div class="row col-md-12">
            <div class="col-md-8">
              <span>CREDIT CHECKLIST</span>
            </div>
          </div>
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <app-credit-checklist-view *ngIf="itemCreditCheckList?.expanded"
                                     [formData]="customerInfo?.creditChecklist"></app-credit-checklist-view>
        </nb-accordion-item-body>
      </nb-accordion-item>

    </nb-accordion>
  </nb-card-body>
</nb-card>
