<nb-card accent="primary">
  <nb-card-header>
    Customer Loan Information
  </nb-card-header>
  <nb-card-body>
    <div class="row">
      <div class="col-md-4" *ngIf="customerInfo?.cicl">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemCicl>
            <a class="cursor info-label" (click)="openModel(ciclComponentTemplate)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">CICL</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
      </div>
      <div class="col-md-4" *ngIf="customerInfo?.insurance?.length>0">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemInsurance>
            <a class="cursor info-label" (click)="openModel(insuranceComponentTemplate)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">INSURANCE</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #insuranceComponentTemplate let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              INSURANCE
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-insurance-view
                      [insurance]="customerInfo?.insurance"></app-insurance-view>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>
      <div class="col-md-4" *ngIf="customerInfo?.guarantors?.guarantorList.length > 0">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemGuarantor>
            <a class="cursor info-label" (click)="openModel(guarantorComponentTemplate)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">GUARANTOR</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #guarantorComponentTemplate let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              GUARANTOR
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-guarantor-view
                                  [guarantorData]="customerInfo?.guarantors?.guarantorList"></app-guarantor-view>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>
      <div class="col-md-4" *ngIf="customerInfo?.siteVisit">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemSiteVisit>
            <a class="cursor info-label" (click)="openModel(siteVisitComponentTemplate)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">SITE VISIT</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #siteVisitComponentTemplate let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              SITE VISIT
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-site-visit-view
                      [siteVisit]="customerInfo?.siteVisit">
              </app-site-visit-view>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>
      <div class="col-md-4" *ngIf="customerInfo?.security">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemSecurity>
            <a class="cursor info-label" (click)="openModel(securityComponentTemplate)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">SECURITY</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #securityComponentTemplate let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              SECURITY
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-security-view
                      [security]="customerInfo?.security"
                      [shareSecurityData]="customerInfo?.shareSecurity">
              </app-security-view>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>

      <div class="col-md-4" *ngIf="customerInfo?.financialCcbl">
        <div class="row">
          <nb-card class="col-md-11 py-2" #financialCCbls>
            <a class="cursor info-label" (click)="openModel(financialCcbl)">
              <div class="row cursor">
                <div class="col-md-8">
                  <p class="custom-font">
                    Financial - CCBL
                  </p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
                  <span style="color:green" title="Status : Saved">
                     <em *ngIf="customerInfo?.financialCcbl" class="fas fa-check-circle px-2"></em>
                  </span>
                  <span style="color:red" title="Status :Not Saved">
                       <em *ngIf="!customerInfo?.financialCcbl" class="fas fa-times-circle px-2"></em>
                     </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #financialCcbl let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              Financial-CCBL
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-financial-ccbl [customerInfo]="customerInfo"  [fromProfile]="false" ></app-financial-ccbl>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>


      <div class="col-md-4" *ngIf="customerInfo?.crgCcbl">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemCrg>
            <a class="cursor info-label" (click)="openModel(crgCCBL)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">CRG CCBL</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #crgCCBL let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              CRG - CCBL
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-crg-ccbl [customerInfo]="customerInfo"></app-crg-ccbl>
            </nb-card-body>
          </nb-card>
        </ng-template>

      </div>

      <div class="col-md-4">
        <div class="row">
          <nb-card class="col-md-11 py-2" #itemCrg>
            <a class="cursor info-label" (click)="openModel(crgComponentTemplate)">
              <div class="row">
                <div class="col-md-8">
                  <p class="custom-font">CREDIT SCORING</p>
                </div>
                <div class="col-md-4 d-flex justify-content-end">
              <span style="color: green" title="Status : Saved">
                <em class="fas fa-check-circle px-2"></em>
              </span>
                </div>
              </div>
            </a>
          </nb-card>
        </div>
        <ng-template #crgComponentTemplate let-data let-ref="dialogRef">
          <nb-card class="template-css">
            <nb-card-header>
              CREDIT SCORING
              <a aria-label="Close" class="close cursor"
                 data-dismiss="modal" (click)="ref.close()">
                      <span style="color: red" (click)="ref.close()">
                <em class="fas fa-times-circle px-2"></em>
              </span></a>
            </nb-card-header>
            <nb-card-body>
              <app-credit-grading #CrgComponent
                                  [formData]="customerInfo?.creditRiskGrading"
                                  [fromProfile]="false"></app-credit-grading>
            </nb-card-body>
          </nb-card>
        </ng-template>
      </div>
    </div>
  </nb-card-body>
</nb-card>
