<nb-card class="m-0" accent="primary" [nbSpinner]="spinner"
         nbSpinnerStatus="primary"
         nbSpinnerSize="giant">
    <nb-card-header class="sb-bg-dark">

        <a (click)="close()" aria-label="Close" class="close cursor pull-right"
           data-dismiss="modal">
            <span aria-hidden="true" class="text-white">×</span></a>

        <h4 class="modal-title pull-left text-white">Add Customer</h4>
    </nb-card-header>
    <nb-card-body>
<!--        <nb-radio-group [(ngModel)]="calendarType" class="close d-inline-flex"-->
<!--                        name="basicInfoCalendarType">-->
<!--            <nb-radio value="AD">AD</nb-radio>-->
<!--            <nb-radio value="BS">BS</nb-radio>-->
<!--        </nb-radio-group>-->
        <nb-radio-group [(ngModel)]="switchLanguageType" class="close d-inline-flex"
                        name="switchLanguageType">
            <nb-radio [value]="lanType.ENGLISH">English</nb-radio>
            <nb-radio [value]="lanType.NEPALI">Nepali</nb-radio>
        </nb-radio-group>
        <!--    <button (click)="showHideNep()">NepDate</button>-->
        <div class="form-group">
            <form [formGroup]="basicInfo" class="form-horizontal">
                <!-- START ROW -->
                <!--        <div class="row">-->
                <!--          <div class="col-md-4">-->
                <!--            <div class="form-group">-->
                <!--              <label for="citizenshipNumber"><strong>Citizenship Number</strong></label>-->
                <!--              <div class="input-group mb-3">-->
                <!--                <input (change)="searchByCustomerCitizen()"-->
                <!--                       [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.citizenshipNumber.errors }"-->
                <!--                       class="form-control" formControlName="citizenshipNumber"-->
                <!--                       id="citizenshipNumber" name="citizenshipNumber"-->
                <!--                       placeholder="Customer Citizenship Number" type="text">-->
                <!--                <button (click)="searchByCustomerCitizen()" nbButton outline size="small"-->
                <!--                        status="primary">Search-->
                <!--                </button>-->
                <!--                <div *ngIf="(submitted) && basicInfoControls.citizenshipNumber.invalid"-->
                <!--                     class="invalid-feedback">-->
                <!--                  <div *ngIf="basicInfoControls.citizenshipNumber.errors.required">Citizenship number is required-->
                <!--                  </div>-->
                <!--                </div>-->
                <!--              </div>-->
                <!--            </div>-->
                <!--          </div>-->

                <!--        </div>-->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="customerNameForm"><strong>Customer Client Type</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="customerNameForm"><strong>ग्राहकको प्रकार</strong></label>
                            <select
                                    class="custom-select" formControlName="clientType">
                                <option [ngValue]="null">Select Client Type</option>
                                <option *ngFor="let data of clientType " [ngValue]="data"
                              [selected]="data === clientTypeInput" >{{data}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="customerNameForm"><strong>SubSector</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="customerNameForm"><strong>उप क्षेत्र</strong></label>
                            <select
                                    class="custom-select" formControlName="subsectorDetail">
                                <option [ngValue]="null">Select Subsector</option>
                                <option *ngFor="let data of subSector "
                                        [selected]="(data.key.toString().concat('-'+data.value)) === clientTypeInput"
                                        [ngValue]="data.key.toString().concat('-'+data.value)">{{data.value}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="customerNameForm"><strong>Customer Name</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="customerNameForm"><strong>ग्राहकको नाम</strong></label>
                            <input  *ngIf="switchLanguageType==='ENG'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.customerName.errors }"
                                    class="form-control form-control-sm-error rounded" formControlName="customerName"
                                    id="customerNameForm"
                                    name="customerName"
                                    placeholder="Applicant's Full Name"
                                    type="text">
                            <input *ngIf="switchLanguageType === 'NEP'"
                                   [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.customerName.errors }"
                                   class="form-control form-control-sm-error rounded nepaliFont" formControlName="customerName"
                                   name="customerName" type="text" placeholder="ग्राहकको नाम">
                            <div *ngIf="(submitted) && basicInfoControls.customerName.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="basicInfoControls.customerName.errors.required">Customer name is
                                    required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="customerCode"><strong>Customer ID</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="customerCode"><strong>ग्राहक आईडी</strong></label>
                            <input  *ngIf="switchLanguageType==='ENG'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.customerCode.errors }"
                                    class="form-control form-control-sm-error rounded" formControlName="customerCode"
                                    id="customerCode"
                                    name="customerCode"
                                    placeholder="Customer ID"
                                    type="text">
                            <input  *ngIf="switchLanguageType==='NEP'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.customerCode.errors }"
                                    class="form-control form-control-sm-error rounded" formControlName="customerCode"
                                    name="customerCode"
                                    type="text" placeholder="ग्राहकको आईडी">
                            <div *ngIf="(submitted) && basicInfoControls.customerCode.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="basicInfoControls.customerCode.errors.required">Customer ID
                                    required
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="email"><strong>Email</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="email"><strong>ईमेल</strong></label>
                            <input [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.email.errors }"
                                   class="form-control" formControlName="email" id="email" name="email"
                                   placeholder="eg. xyz@abc.com"
                                   type="email">
                            <div *ngIf="(submitted) && basicInfoControls.email.invalid" class="invalid-feedback">
                                <div *ngIf="basicInfoControls.email.errors.email">Valid email address has form
                                    xyz@abc.com
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- END ROW -->
                    <!-- Start Row-->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="dob"><strong>Date of birth</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="dob"><strong>जन्म मिति</strong></label>
                            <input [nbDatepicker]="dob" *ngIf="switchLanguageType === 'ENG'"
                                   [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.dob.errors }"
                                   class="form-control date-pick" formControlName="dob"
                                   id="dob"
                                   name="dob"
                                   placeholder="Customer Date of birth"
                                   readonly>
                            <input *ngIf="switchLanguageType === 'NEP'" formControlName="dob" hidden>
                            <app-calendar *ngIf="switchLanguageType === 'NEP'" [ePreDate]="basicInfo.get('dob').value"
                                          (messageToEmit)="basicInfo.get('dob').patchValue($event?.eDate)"></app-calendar>
                            <nb-datepicker #dob></nb-datepicker>
                            <div *ngIf="submitted && basicInfoControls.dob.errors"
                                 class="small text-danger">
                                <div
                                        *ngIf="basicInfoControls.dob.errors.required || basicInfoControls.dob.errors.beforeToday">
                                    Invalid date of birth
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- END ROW -->
                    <!-- START ROW -->
                    <!--<div class="col-md-4">
                        <div class="form-group">
                            <label for="mobile"><b>Mobile</b></label>
                            <input -- class="form-control" formControlName="mobile" id="mobile" name="mobile"
                                   type="text">
                            placeholder="Mobile number"
                            [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.mobile.errors }">
                            <div *ngIf="(submitted) && basicInfoControls.mobile.invalid" class="invalid-feedback">
                                <div *ngIf="basicInfoControls.mobile.errors.required">Mobile number is required</div>
                                <div *ngIf="basicInfoControls.mobile.errors.pattern">Mobile number is invalid.</div>
                            </div>
                        </div>
                    </div> -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="contactNumber"><strong>Mobile Number</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="contactNumber"><strong>मोबाइल नम्बर</strong></label>
                            <input  *ngIf="switchLanguageType==='ENG'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.contactNumber.errors }"
                                    class="form-control" formControlName="contactNumber" id="contactNumber"
                                    name="contactNumber"
                                    placeholder="Mobile number"
                                    type="number">
                            <input  *ngIf="switchLanguageType==='NEP'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.contactNumber.errors }"
                                    class="form-control" formControlName="contactNumber"
                                    name="contactNumber" type="number" placeholder="मोबाइल नम्बर">
                            <div *ngIf="(submitted) && basicInfoControls.contactNumber.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="basicInfoControls.contactNumber.errors.required">
                                    Mobile Number number is required
                                </div>
                                <div *ngIf="basicInfoControls.contactNumber?.errors.min || basicInfoControls.contactNumber?.errors.max">
                                    Enter 10 Digit Mobile no!
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="contactNumber"><strong>LandLine Number</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="contactNumber"><strong>ल्यान्डलाइन नम्बर</strong></label>
                            <input *ngIf="switchLanguageType==='ENG'"
                                class="form-control" formControlName="landLineNumber" id="landLineNumber"
                                name="landLineNumber"
                                placeholder="LandLine number"
                                type="text">
                        </div>
                        <div class="form-group">
                            <input  *ngIf="switchLanguageType==='NEP'"
                                    class="form-control" formControlName="landLineNumber" id="landLineNumberInNep"
                                    name="landLineNumber" type="text" placeholder="ल्यान्डलाइन नम्बर">
                        </div>
                    </div>
                    <!-- END ROW -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="wardNumber"><strong>Citizenship Number</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="wardNumber"><strong>नागरिकता नम्बर</strong></label>
                            <input  *ngIf="switchLanguageType==='ENG'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.citizenshipNumber.errors }"
                                    class="form-control" formControlName="citizenshipNumber" id="citizenshipNumber"
                                    name="citizenshipNumber" placeholder="citizenship Number"
                                    type="text">
                            <input  *ngIf="switchLanguageType==='NEP'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.citizenshipNumber.errors }"
                                    class="form-control" formControlName="citizenshipNumber" name="citizenshipNumber"
                                    type="text" placeholder="नागरिकता नम्बर">
                            <div *ngIf="(submitted) && basicInfoControls.citizenshipNumber.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="basicInfoControls.citizenshipNumber.errors.required">
                                    citizenship Number is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- START ROW -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="citizenshipIssuedPlace"><strong>Citizenship Issued District</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="citizenshipIssuedPlace"><strong>नागरिकता जारी गरेको जिल्ला</strong></label>
                            <ng-select [multiple]="false"
                                       formControlName="citizenshipIssuedPlace"
                                       id="citizenshipIssuedPlace"
                                       [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.citizenshipIssuedPlace.errors }"
                                      >
                                <ng-option *ngFor="let district of allDistrict" [value]="district?.name">
                                    {{district?.name}}
                                </ng-option>
                            </ng-select>
                            <div *ngIf="(submitted) && basicInfoControls.citizenshipIssuedPlace.invalid"
                                 class="help-block">
                <span *ngIf="basicInfoControls.citizenshipIssuedPlace.errors.required">
                  <span class="text-danger">citizenship issued district is required</span>
                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="customerCitizenshipIssuedDate"><strong>Issued Date</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="customerCitizenshipIssuedDate"><strong>जारी मिति</strong></label>
                            <input *ngIf="switchLanguageType === 'ENG'" [nbDatepicker]="customerCitizenshipIssuedDate"
                                   [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.citizenshipIssuedDate.errors }"
                                   class="form-control" formControlName="citizenshipIssuedDate"
                                   id="customerCitizenshipIssuedDate"
                                   name="customerCitizenshipIssuedDate"
                                   >
                            <input *ngIf="switchLanguageType === 'NEP'" formControlName="citizenshipIssuedDate" hidden>

                            <app-calendar [ePreDate]="basicInfo.get('citizenshipIssuedDate')?.value"
                                          *ngIf="switchLanguageType === 'NEP'"
                                          (messageToEmit)="basicInfo.get('citizenshipIssuedDate').patchValue($event?.eDate)"></app-calendar>
                            <nb-datepicker #customerCitizenshipIssuedDate></nb-datepicker>
                            <div *ngIf="submitted && basicInfoControls.citizenshipIssuedDate.errors"
                                 class="small text-danger">
                                <div
                                        *ngIf="basicInfoControls.citizenshipIssuedDate.errors.required || basicInfoControls.citizenshipIssuedDate.errors.beforeToday">
                                    Invalid Registration Date
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="otherOccupation"><strong>Occupation </strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="otherOccupation"><strong>पेशा </strong></label>
                            <nb-select [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.occupation.errors }"
                                       formControlName="occupation"
                                       placeholder="Occupation" multiple fullWidth
                                       (selectedChange)="occupationChange()">
                                <nb-option value="Business Owner">Business Owner</nb-option>
                                <nb-option value="Chartered Accountant">Chartered Accountant</nb-option>
                                <nb-option value="Lawyer">Lawyer</nb-option>
                                <nb-option value="Doctor">Doctor</nb-option>
                                <nb-option value="Engineer">Engineer</nb-option>
                                <nb-option value="Government Job">Government Job</nb-option>
                                <nb-option value="Banker">Banker</nb-option>
                                <nb-option value="Teaching Professional">Teaching Professional</nb-option>
                                <nb-option value="Banker">Salary</nb-option>
                                <nb-option value="Teaching Professional">Farmer</nb-option>
                                <nb-option value="Other">Other</nb-option>
                            </nb-select>
                            <div *ngIf="submitted && basicInfoControls.occupation.errors"
                                 class="help-block small">
                <span *ngIf="basicInfoControls.occupation.errors.required" class="text-danger">
                  <span>Occupation is required</span>
                </span>
                            </div>
                            <div *ngIf="tempFlag.showOtherOccupation"
                                 class="col-md-12 mt-3 form-group">
                                <label *ngIf="switchLanguageType==='ENG'">Other occupation(s)</label>
                                <label *ngIf="switchLanguageType==='NEP'">अन्य पेशा</label>
                                <input class="form-control" formControlName="otherOccupation" id="otherOccupation"
                                       name="otherOccupation" placeholder="Other occupation" type="text">
                                <input class="form-control nepaliFont" formControlName="otherOccupation"
                                       id="otherOccupationInNepali" name="otherOccupation" placeholder="अन्य पेशा" type="text">
                                <div *ngIf="submitted && basicInfoControls.otherOccupation.errors"
                                     class="help-block small">
                  <span *ngIf="basicInfoControls.otherOccupation.errors.required">
                  <span class="text-danger">Other occupation is required</span>
                </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END ROW -->
                    <!-- START ROW -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'"><strong>Income Source</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'"><strong>आय स्रोत</strong></label>
                            <nb-select
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.incomeSource.errors }"
                                    formControlName="incomeSource" id="incomeSource" name="incomeSource"
                                    placeholder="Income Source" multiple fullWidth
                                    (selectedChange)="onIncomeSourceChange()">
                                <nb-option value="Salaried">Salaried</nb-option>
                                <nb-option value="Business">Business</nb-option>
                                <nb-option value="Salaried & Business">Salaried & Business</nb-option>
                                <nb-option value="Rent">Rent</nb-option>
                                <nb-option value="Farming">Farming</nb-option>
                                <nb-option value="Other">Other</nb-option>
                            </nb-select>
                            <div *ngIf="submitted && basicInfoControls.incomeSource.errors"
                                 class="help-block">
                                <div *ngIf="basicInfoControls.incomeSource.errors.required">
                                    <span class="text-danger small"> Income Source is required</span>
                                </div>
                            </div>
                            <div *ngIf="tempFlag.showOtherIncomeSource"
                                 class="col-md-12 mt-3 form-group">
                                <label *ngIf="switchLanguageType==='ENG'">Other Income Source</label>
                                <label *ngIf="switchLanguageType==='NEP'">अन्य आय स्रोत</label>
                                <input class="form-control" formControlName="otherIncome" id="otherIncome"
                                       name="otherIncome" placeholder="Other Income source" type="text">
                                <input class="form-control nepaliFont" formControlName="otherIncome" id="otherIncomeInNepali"
                                       name="otherIncome" placeholder="अन्य आय स्रोत" type="text">
                                <div *ngIf="submitted && basicInfoControls.otherIncome.errors"
                                     class="invalid-feedback small">
                                    <div *ngIf="basicInfoControls.otherIncome.errors.required">Other income Source is
                                        required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h6 *ngIf="switchLanguageType==='ENG'">Permanent Address</h6>
                        <h6 *ngIf="switchLanguageType==='NEP'">स्थाई ठेगाना</h6>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="province"><strong>Province</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="province"><strong>प्रदेश</strong></label>
                            <select (change)="getDistricts(this.basicInfo.get('province').value)"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.province.errors }"
                                    class="custom-select"
                                    formControlName="province"
                                    id="province"
                                    name="province">
                                <option [value]="null" hidden>Select Province</option>
                                <option *ngFor="let provinceVal of provinceList" [ngValue]="provinceVal"
                                        [selected]="provinceVal.id === province?.id">
                                    {{provinceVal.name}}
                            </select>
                            <div *ngIf="(submitted) && basicInfoControls.province.invalid"
                                 class="invalid-feedback">
                                <span *ngIf="basicInfoControls.province.errors.required">Province is required</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="district"><strong>District</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="district"><strong>जिल्ला</strong></label>
                            <select (change)="getMunicipalities(this.basicInfo.get('district').value)"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.district.errors }"
                                    class="custom-select"
                                    formControlName="district"
                                    id="district"
                                    name="district">
                                <option [ngValue]="null" hidden>Select District</option>
                                <option *ngFor="let districtVal of districtList" [ngValue]="districtVal"
                                        [selected]="districtVal.id === district?.id">
                                    {{districtVal.name}}
                                </option>
                            </select>
                            <div *ngIf="(submitted) &&  basicInfoControls.district.invalid"
                                 class="invalid-feedback">
                <span
                    *ngIf="basicInfoControls.district.errors.required">district is required</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="municipality"><strong>Municipalities or VDC</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="municipality"><strong>नगरपालिका वा गा.वि.स</strong></label>
                            <select
                                [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.municipalities.errors }"
                                class="custom-select" formControlName="municipalities"
                                id="municipality"
                                name="municipality">
                                <option [ngValue]="null" hidden>Select Municipality</option>
                                <option *ngFor="let municipalityVal of municipalitiesList"
                                        [ngValue]="municipalityVal"
                                        [selected]="municipalityVal.id === municipality?.id">
                                    {{municipalityVal.name}}
                                </option>
                            </select>
                            <div *ngIf="(submitted) && basicInfoControls.municipalities.invalid"
                                 class="invalid-feedback">
                <span
                    *ngIf="basicInfoControls.municipalities.errors.required"> Municipalities/VDCs required</span>
                            </div>
                        </div>
                    </div>
                    <!-- END ROW -->
                    <!-- START ROW -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="street"><strong>Street</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="street"><strong>बाटोको नाम</strong></label>
                            <input  *ngIf="switchLanguageType==='ENG'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.street.errors }"
                                   class="form-control" formControlName="street" id="street"
                                   name="street" placeholder="Street Name"
                                   type="text">
                            <input  *ngIf="switchLanguageType==='NEP'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.street.errors }"
                                    class="form-control nepaliFont" formControlName="street" name="street"
                                    type="text" placeholder="बाटोको नाम">
                            <div *ngIf="(submitted) && basicInfoControls.street.invalid" class="invalid-feedback">
                                <div *ngIf="basicInfoControls.street.errors.required">Street is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="wardNumber"><strong>Ward Number</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="wardNumber"><strong>वार्ड नम्बर</strong></label>
                            <input *ngIf="switchLanguageType==='ENG'"
                                [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.wardNumber.errors }"
                                class="form-control" formControlName="wardNumber" id="wardNumber"
                                name="wardNumber" placeholder="Ward Number"
                                type="text">
                            <input *ngIf="switchLanguageType==='NEP'"
                                   [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.wardNumber.errors }"
                                   class="form-control" formControlName="wardNumber"
                                   name="wardNumber"
                                   type="text" placeholder="वार्ड नम्बर">
                            <div *ngIf="(submitted) && basicInfoControls.wardNumber.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="basicInfoControls.wardNumber.errors.required">
                                    Ward Number is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <button class="btn-sm" (click)="sameAsPermanent()" nbButton>Click </button>
                        Same as Permanent Address
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h6 *ngIf="switchLanguageType==='ENG'">Temporary Address</h6>
                        <h6 *ngIf="switchLanguageType==='NEP'">अस्थायी ठेगाना</h6>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="temporaryProvince"><strong>Province</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="temporaryProvince"><strong>प्रदेश</strong></label>
                            <select (change)="getTemporaryDistricts(this.basicInfo.get('temporaryProvince').value)"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryProvince.errors }"
                                    class="custom-select"
                                    formControlName="temporaryProvince"
                                    id="temporaryProvince"
                                    name="temporaryProvince">
                                <option [value]="null" hidden>Select Province</option>
                                <option *ngFor="let provinceVal of provinceList" [ngValue]="provinceVal"
                                        [selected]="provinceVal.id === province?.id">
                                    {{provinceVal.name}}
                            </select>
                            <div *ngIf="(submitted) && basicInfoControls.temporaryProvince.invalid"
                                 class="invalid-feedback">
                                <span *ngIf="basicInfoControls.temporaryProvince.errors.required">Province is required</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="temporaryDistrict"><strong>District</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="temporaryDistrict"><strong>जिल्ला</strong></label>
                            <select (change)="getTemporaryMunicipalities(this.basicInfo.get('temporaryDistrict').value)"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryDistrict.errors }"
                                    class="custom-select"
                                    formControlName="temporaryDistrict"
                                    id="temporaryDistrict"
                                    name="temporaryDistrict">
                                <option [ngValue]="null" hidden>Select District</option>
                                <option *ngFor="let districtVal of temporaryDistrictList" [ngValue]="districtVal"
                                    >
                                    {{districtVal.name}}
                                </option>
                            </select>
                            <div *ngIf="(submitted) &&  basicInfoControls.temporaryDistrict.invalid"
                                 class="invalid-feedback">
                <span
                    *ngIf="basicInfoControls.temporaryDistrict.errors.required">district is required</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="temporaryMunicipalities"><strong>Municipalities or VDC</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="temporaryMunicipalities"><strong>नगरपालिका वा गा.वि.स</strong></label>
                            <select
                                [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryMunicipalities.errors }"
                                class="custom-select" formControlName="temporaryMunicipalities"
                                id="temporaryMunicipalities"
                                name="temporaryMunicipalities">
                                <option [ngValue]="null" hidden>Select Municipality</option>
                                <option *ngFor="let municipalityVal of temporaryMunicipalitiesList"
                                        [ngValue]="municipalityVal"
                                      >
                                    {{municipalityVal.name}}
                                </option>
                            </select>
                            <div *ngIf="(submitted) && basicInfoControls.temporaryMunicipalities.invalid"
                                 class="invalid-feedback">
                <span
                    *ngIf="basicInfoControls.temporaryMunicipalities.errors.required"> Municipalities/VDCs required</span>
                            </div>
                        </div>
                    </div>
                    <!-- END ROW -->
                    <!-- START ROW -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="temporaryStreet"><strong>Street</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="temporaryStreet"><strong>बाटोको नाम</strong></label>
                            <input *ngIf="switchLanguageType==='ENG'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryStreet.errors }"
                                   class="form-control" formControlName="temporaryStreet" id="temporaryStreet"
                                   name="temporaryStreet" placeholder="Street Name"
                                   type="text">
                            <input *ngIf="switchLanguageType==='NEP'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryStreet.errors }"
                                   class="form-control nepaliFont" formControlName="temporaryStreet"
                                   id="temporaryStreetInNepali" name="temporaryStreet" type="text" placeholder="बाटोको नाम">
                            <div *ngIf="(submitted) && basicInfoControls.temporaryStreet.invalid" class="invalid-feedback">
                                <div *ngIf="basicInfoControls.temporaryStreet.errors.required">Street is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label *ngIf="switchLanguageType==='ENG'" for="temporaryWardNumber"><strong>Ward Number</strong></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="temporaryWardNumber"><strong>वार्ड नम्बर</strong></label>
                            <input  *ngIf="switchLanguageType==='ENG'"
                                [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryWardNumber.errors }"
                                class="form-control" formControlName="temporaryWardNumber" id="temporaryWardNumber"
                                name="temporaryWardNumber" placeholder="Ward Number"
                                type="text">
                            <input  *ngIf="switchLanguageType==='NEP'"
                                    [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.temporaryWardNumber.errors }"
                                    class="form-control" formControlName="temporaryWardNumber"
                                    id="temporaryWardNumberInNepali" name="temporaryWardNumber" type="text" placeholder="वार्ड नम्बर">
                            <div *ngIf="(submitted) && basicInfoControls.temporaryWardNumber.invalid"
                                 class="invalid-feedback">
                                <div *ngIf="basicInfoControls.temporaryWardNumber.errors.required">
                                    Ward Number is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div>
                    <div
                            *ngFor="let relatives of basicInfo.get('customerRelatives')['controls']; let i = index"
                            formArrayName="customerRelatives">
                        <div [formGroupName]="i">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label *ngIf="switchLanguageType==='ENG'" for="customerRelation{{i}}"><strong>Relation</strong></label>
                                        <label *ngIf="switchLanguageType==='NEP'" for="customerRelationInNepali{{i}}"><strong>सम्बन्ध</strong></label>
                                        <input *ngIf="switchLanguageType==='ENG'" class="form-control" formControlName="customerRelation"
                                               id="customerRelation{{i}}"
                                               [ngClass]="{ 'is-invalid': (submitted) && relatives.get('customerRelation').errors }"
                                               placeholder="Relation" type="text">
                                        <input *ngIf="switchLanguageType==='NEP'" class="form-control nepaliFont" formControlName="customerRelation"
                                               id="customerRelationInNepali{{i}}"
                                               [ngClass]="{ 'is-invalid': (submitted) && relatives.get('customerRelation').errors }"
                                               placeholder="सम्बन्ध" type="text">
                                        <div *ngIf="submitted && relatives.get('customerRelation').errors"
                                             class="invalid-feedback">
                                            <div *ngIf="relatives.get('customerRelation').errors?.required">Relation
                                                is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label *ngIf="switchLanguageType==='ENG'" for="relationName{{i}}"><strong>Name</strong></label>
                                        <label *ngIf="switchLanguageType==='NEP'" for="relationName{{i}}"><strong>नाम</strong></label>
                                        <input *ngIf="switchLanguageType==='ENG'"
                                                class="form-control" formControlName="customerRelativeName"
                                               [ngClass]="{ 'is-invalid': (submitted) && relatives.get('customerRelativeName').errors }"
                                               id="relationName{{i}}"
                                               placeholder="Name" type="text">
                                        <input *ngIf="switchLanguageType==='NEP'"
                                               class="form-control nepaliFont" formControlName="customerRelativeName"
                                               [ngClass]="{ 'is-invalid': (submitted) && relatives.get('customerRelativeName').errors }"
                                               id="relationNameInNepali{{i}}" type="text" placeholder="नाम">
                                        <div *ngIf="submitted && relatives.get('customerRelativeName').errors"
                                             class="invalid-feedback">
                                            Name is required!
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label *ngIf="switchLanguageType==='ENG'" for="citizenship{{i}}"><strong>CitizenshipNumber</strong></label>
                                        <label *ngIf="switchLanguageType==='NEP'" for="citizenship{{i}}"><strong>नागरिकता नम्बर</strong></label>
                                        <input *ngIf="switchLanguageType==='ENG'" class="form-control" formControlName="citizenshipNumber"
                                               id="citizenship{{i}}" placeholder="Citizenship Number" type="text">
                                        <input *ngIf="switchLanguageType==='NEP'" class="form-control" formControlName="citizenshipNumber"
                                               id="citizenshipInNepali{{i}}" type="text" placeholder="नागरिकता नम्बर">
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label *ngIf="switchLanguageType==='ENG'" for="issuedLocation{{i}}"><strong>Issued District</strong></label>
                                        <label *ngIf="switchLanguageType==='NEP'" for="issuedLocation{{i}}"><strong>जारी गरिएको जिल्ला</strong></label>
                                        <ng-select [multiple]="false"
                                                   formControlName="citizenshipIssuedPlace"
                                                   id="issuedLocation{{i}}"
                                                  >
                                            <ng-option *ngFor="let district of allDistrict" [value]="district?.name">
                                                {{district?.name}}
                                            </ng-option>
                                        </ng-select>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label *ngIf="switchLanguageType==='ENG'"><strong>Issued Date</strong></label>
                                        <label *ngIf="switchLanguageType==='NEP'"><strong></strong>जारी मिति</label>
                                        <input *ngIf="switchLanguageType === 'ENG'" nbInput
                                               [nbDatepicker]="relationCitizenIssueDate"
                                               class="form-control"
                                               formControlName="citizenshipIssuedDate"
                                               [ngClass]="{ 'is-invalid': (submitted) && relatives.get('citizenshipIssuedDate').errors }"
                                               >
                                        <input *ngIf="switchLanguageType === 'NEP'" formControlName="citizenshipIssuedDate"
                                               hidden>
                                        <app-calendar [ePreDate]="relatives.get('citizenshipIssuedDate').value"
                                                      *ngIf="switchLanguageType === 'NEP'"
                                                      (messageToEmit)="relatives.get('citizenshipIssuedDate').patchValue($event?.eDate)"></app-calendar>

                                        <nb-datepicker #relationCitizenIssueDate></nb-datepicker>
                                        <div *ngIf="submitted && relatives.get('citizenshipIssuedDate').errors"
                                             class="small text-danger">
                                            Invalid Issued Date!
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="i>2" class="ml-3">
                                    <button (click)="removeRelatives(i)"
                                            class="float-right" nbButton
                                            size="small" status="danger">remove
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-right">
                    <input (click)="addRelatives()" class="btn btn-sm btn-flat btn-primary"
                           type="button" value="Add More"/>
                </div>
                <div>
                    <label *ngIf="switchLanguageType==='ENG'"><strong>Introduction</strong></label>
                    <label *ngIf="switchLanguageType==='NEP'"><strong>परिचय</strong></label>
                    <textarea *ngIf="switchLanguageType==='ENG'"
                            id="introduction" formControlName="introduction" name="introduction" type="text"
                              class="form-control" placeholder="introduction"
                              [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.introduction.errors }"></textarea>
                    <textarea *ngIf="switchLanguageType==='NEP'"
                            id="introductionInNep" formControlName="introduction" name="introduction" type="text"
                              class="form-control nepaliFont" placeholder="परिचय"
                              [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.introduction.errors }"></textarea>
                    <div *ngIf="(submitted) && basicInfoControls.introduction.invalid"
                         class="invalid-feedback">
                        <div *ngIf="basicInfoControls.introduction.errors.required">
                            Introduction is required
                        </div>
                    </div>
                </div>
                <div>
                    <nb-card class="card-height">
                        <nb-card-header>
                            <label *ngIf="switchLanguageType==='ENG'" for="bankingRelationship"><h6>Banking Relationship</h6></label>
                            <label *ngIf="switchLanguageType==='NEP'" for="bankingRelationship"><h6>बैंकिंग सम्बन्ध</h6></label>
                        </nb-card-header>
                        <nb-card-body>
                            <div class="form-group">
                                <nb-radio-group class="d-contents form-control"
                                                formControlName="bankingRelationship"
                                                id="bankingRelationship"
                                                name="bankingRelationship"
                                                [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.bankingRelationship.errors }">
                                    <nb-radio *ngFor="let elem of bankingRelationshipList"
                                              [value]="elem?.value" >{{elem?.value}}
                                    </nb-radio>
                                </nb-radio-group>
                                <div *ngIf="submitted && basicInfoControls.bankingRelationship.errors"
                                     class="invalid-feedback">
                                    <div *ngIf="basicInfoControls.bankingRelationship.errors.required">
                                        Banking relation is required
                                    </div>
                                </div>
                            </div>
                        </nb-card-body>
                    </nb-card>
                </div>
                <div class="col-4">
                    <label *ngIf="switchLanguageType==='ENG'"><strong>Net worth</strong></label>
                    <label *ngIf="switchLanguageType==='NEP'"><strong>कुल मूल्य</strong></label>
                    <input id="netWorth" formControlName="netWorth" name="netWorth" type="text"
                           class="form-control" placeholder="Net Worth Amount"
                           [ngClass]="{ 'is-invalid': (submitted) && basicInfoControls.netWorth.errors }"/>
                    <div *ngIf="(submitted) && basicInfoControls.netWorth.invalid"
                         class="invalid-feedback">
                        <div *ngIf="basicInfoControls.netWorth.errors">
                            Valid Worth Amount is required
                        </div>
                    </div>
                </div>
                <!-- END ROW -->
            </form>
        </div>
    </nb-card-body>
    <nb-card-footer class="py-4">


        <div class="d-flex justify-content-end">
            <button nbButton status="info" (click)="close()" class=" mr-2">close</button>
            <button nbButton (click)="onSubmit()">save</button>
        </div>

    </nb-card-footer>
</nb-card>
