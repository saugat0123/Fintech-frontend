<div class="row">
    <div class="col-md-12">
        <h5>Company Relationship with Bank</h5>
    </div>
</div>
<form (ngSubmit)="onSubmit()" [formGroup]="bankingRelationForm">
    <nb-card>
        <nb-card-header>
            <label for="bankingRelationship"><h6>Banking Relationship</h6></label>
        </nb-card-header>
        <nb-card-body>
            <div class="form-group">
                <nb-radio-group class="d-contents form-control"
                                formControlName="bankingRelationship"
                                id="bankingRelationship"
                                name="bankingRelationship"
                                [ngClass]="{ 'is-invalid': (submitted) && formControl.bankingRelationship.errors }">
                    <nb-radio *ngFor="let elem of bankingRelationshipList"
                              [value]="elem?.value">{{elem?.value}}
                    </nb-radio>
                </nb-radio-group>
                <div *ngIf="submitted && formControl.bankingRelationship.errors" class="invalid-feedback">
                    <div *ngIf="formControl.bankingRelationship.errors.required">
                        Banking relation is required
                    </div>
                </div>
            </div>
        </nb-card-body>
    </nb-card>
    <nb-card>
        <nb-card-header>
            <label for="accountTurnover"><h6>Account Turnover</h6></label>
        </nb-card-header>
        <nb-card-body>
            <div class="form-group">
                <nb-radio-group class="d-contents form-control"
                                formControlName="accountTurnover"
                                id="accountTurnover"
                                name="accountTurnover">
                    <nb-radio *ngFor="let elem of accountTurnoverList"
                              [value]="elem?.value">{{elem?.value}}
                    </nb-radio>
                </nb-radio-group>
            </div>
            <div *ngIf="submitted && formControl.accountTurnover.errors" class="small text-danger">
                <div *ngIf="formControl.accountTurnover.errors.required">
                    Account Turnover is required
                </div>
            </div>
        </nb-card-body>
    </nb-card>
    <div class="form-group">
        <nb-card>
            <nb-card-header>
                <div class="row d-flex justify-content-center">
                    <h6>Account History</h6>
                </div>
            </nb-card-header>
            <nb-card-body>
                <div formGroupName="accountTransactionForm">
                    <div class="col-md-12" >
                        <table class="table table-bordered table-responsive-md table-hover text-center sb-small table-sm">
                            <thead>
                            <tr class="sb-bg-secondary text-white">
                                <th>Particular</th>
                                <th>Total Number</th>
                                <th>Total Value</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>Credit Transaction in Account</td>
                                <td>
                                    <input class="text-center form-control"
                                           formControlName="creditTransactionNumber"
                                           [ngClass]="{ 'is-invalid': (submitted) && transactionForm?.creditTransactionNumber?.invalid }"
                                           appDecimalNumber>
                                    <div *ngIf="(submitted) && transactionForm?.creditTransactionNumber?.invalid"
                                         class="invalid-feedback">
                                        <span>Invalid Credit Transaction Number.</span>
                                    </div>
                                </td>
                                <td>
                                    <input class="text-center form-control"
                                           formControlName="creditTransactionValue"
                                           [ngClass]="{ 'is-invalid': (submitted) && transactionForm?.creditTransactionValue?.invalid}" appDecimalNumber>
                                    <div *ngIf="(submitted) && transactionForm?.creditTransactionValue?.invalid"
                                         class="invalid-feedback">
                                        <span>Invalid Credit Transaction Value.</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Debit Transaction in Account</td>
                                <td>
                                    <input class="text-center form-control"
                                           formControlName="debitTransactionNumber"
                                           [ngClass]="{ 'is-invalid': (submitted) && transactionForm?.debitTransactionNumber?.invalid }" appDecimalNumber>
                                    <div *ngIf="(submitted) && transactionForm?.debitTransactionNumber?.invalid"
                                         class="invalid-feedback">
                                        <span>Invalid Debit Transaction Number.</span>
                                    </div>
                                </td>
                                <td>
                                    <input class="text-center form-control"
                                           formControlName="debitTransactionValue"
                                           [ngClass]="{ 'is-invalid': (submitted) && transactionForm?.debitTransactionValue?.invalid }" appDecimalNumber>
                                    <div *ngIf="(submitted) && transactionForm?.debitTransactionValue?.invalid"
                                         class="invalid-feedback">
                                        <span>Invalid Debit Transaction Value.</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Credit entries as percentage of sales</td>
                                <td>
                                    <input class="text-center form-control" type="text"
                                           formControlName="creditEntries" appDecimalNumber>
                                </td>
                                <td>
                                    <input class="text-center form-control"
                                           formControlName="creditEntriesValue">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="remark"><strong>Remark</strong></label>
                            <textarea class="form-control" formControlName="remarks" id="remark"
                                      name="remark" placeholder="Remark" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="col" *ngIf="!disabledAlpha && !disabledLambda">
                        <label for="repaymentTrackWithCurrentBank">
                            <strong>Repayment track in our bank</strong></label><strong
                            class="text-danger">*</strong>
                        <select id="repaymentTrackWithCurrentBank" class="form-control text-center"
                                formControlName="repaymentTrackWithCurrentBank"
                                [ngClass]="{'is-invalid': submitted && transactionForm?.repaymentTrackWithCurrentBank.invalid}">
                            <option [ngValue]="null" hidden selected>--Select Repayment Track--</option>
                            <option *ngFor="let m of repaymentTrack"
                                    [value]="m?.value">{{m?.value}}</option>
                        </select>
                        <div *ngIf="(submitted) && transactionForm?.repaymentTrackWithCurrentBank.invalid"
                             class="invalid-feedback">
                            Repayment Track is Required
                        </div>
                    </div>
                </div>
            </nb-card-body>
        </nb-card>
    </div>
    <nb-card>
        <nb-card-header>
            <label><h6>Repayment History</h6></label></nb-card-header>
        <nb-card-body>
            <div class="form-group">
                <nb-radio-group class="d-contents form-control"
                                formControlName="repaymentHistory"
                                name="repaymentHistory">
                    <nb-radio *ngFor="let history of repaymentHistoryList"
                              [value]="history?.value">{{history?.value}}</nb-radio>
                </nb-radio-group>
                <div *ngIf="submitted && formControl.repaymentHistory.errors" class="small text-danger">
                    <div *ngIf="formControl.repaymentHistory.errors.required">
                        Repayment History is required
                    </div>
                </div>
            </div>
        </nb-card-body>

    </nb-card>
</form>
