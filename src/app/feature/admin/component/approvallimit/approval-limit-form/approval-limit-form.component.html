<div class="modal-document" [nbSpinner]="spinner">
    <div class="modal-content">
        <div class="modal-header sb-bg-dark" style="display:block">
            <a class="close cursor" data-dismiss="modal" aria-label="Close"
               (click)="onClose()">
                <span aria-hidden="true" class="text-white">Ã—</span></a>
            <h4 class="modal-title pull-left text-white">{{task}} Approval Limit</h4>
        </div>
        <div class="modal-body">

            <form (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm">
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="loan_Category">Loan Category</label>
                        <input type="hidden" class="form-control" [(ngModel)]="model.id"
                               name="id" placeholder="id">
                        <select [(ngModel)]="loanCategory.id" name="loanCategory" id="loan_Category"
                                class="custom-select" required #Category="ngModel" (change)="setApprovalType(loanCategory.id)"
                                [ngClass]="{ 'is-invalid': f.submitted && Category.invalid }">
                            <option [ngValue]="undefined" hidden>Loan Category</option>
                            <option *ngFor="let allList of loanList"
                                    [selected]="allList.id === model?.loanCategory?.id"
                                    [ngValue]="allList.id">
                                {{allList.name}}
                            </option>
                        </select>
                        <div *ngIf="f.submitted && Category.invalid" class="invalid-feedback">
                            <div *ngIf="Category.errors.required">Category is required</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="amount">Amount</label>
                        <input type="text" class="form-control" placeholder="amount" id="amount"
                               [(ngModel)]="model.amount" name="amount" #approvalAmount="ngModel"
                               [ngClass]="{ 'is-invalid': f.submitted && approvalAmount.invalid }" required/>
                        <div *ngIf="f.submitted && approvalAmount.invalid" class="invalid-feedback">
                            <div *ngIf="approvalAmount.errors.required"> Approval Amount is required</div>
                        </div>

                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="authorities">Authorities</label>

                        <select class="custom-select" [(ngModel)]="authorities.id" id="authorities"
                                name="authorities" required #authority="ngModel"
                                [ngClass]="{ 'is-invalid': f.submitted && authority.invalid }">
                            <option [ngValue]="undefined" hidden>Authorities</option>
                            <option *ngFor="let role of roleList"
                                    [selected]="role.id === model?.authorities?.id" [ngValue]="role.id">
                                {{role.roleName}}</option>
                        </select>
                        <div *ngIf="f.submitted && authority.invalid" class="invalid-feedback">
                            <div *ngIf="authority.errors.required">Authority is required</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="customerType">Approval Type</label>
                        <select class="custom-select" [(ngModel)]="model.loanApprovalType"
                                name="customerType" id="customerType"
                                #type="ngModel" [ngClass]="{ 'is-invalid': f.submitted && type.invalid }" required disabled>
                            <option [ngValue]="undefined" hidden>Approval Type</option>
                            <option value="INDIVIDUAL">INDIVIDUAL</option>
                            <option value="INSTITUTION">INSTITUTION</option>
                        </select>
                        <div *ngIf="f.submitted && type.invalid" class="invalid-feedback">
                            <div *ngIf="type.errors.required">Type is required</div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" style="cursor: pointer"><i class="fa fa-save"></i></button>
                </div>
            </form>
        </div>

    </div>
    <!-- /.modal-content -->
</div>
<!-- /.modal-dialog -->
