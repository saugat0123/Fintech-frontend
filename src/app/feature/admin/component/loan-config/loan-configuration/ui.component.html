<nb-card>
    <nb-card-header><h2>Loan Configuration</h2></nb-card-header>
    <nb-card-body>
        <form (ngSubmit)="onSubmit()">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label><h4>Loan Schema</h4></label>
                            <input type="hidden" class="form-control" required [(ngModel)]="loanConfig.id" name="id"
                                   placeholder="id">
                            <input type="text" class="form-control" name="name" required placeholder="Loan Schema"
                                   [(ngModel)]="loanConfig.name">
                        </div>
                    </div>
                    <div class="col-md-6 row">
                        <div class="col-md-12 form-group">
                            <label for="fundable"><h4>Loan Type</h4></label>
                            <div class="row ml-2">
                                <nb-radio-group class="col-md-12 d-contents form-control" id="fundable"
                                                [(ngModel)]="loanConfig.isFundable"
                                                name="fundable">
                                    <nb-radio class="form-group" [value]=true>Fundable
                                    </nb-radio>
                                    <nb-radio class="form-group" [value]=false>Non-Fundable
                                    </nb-radio>
                                </nb-radio-group>
                            </div>
                        </div>
                    </div>
                </div>
                <h4>Assessment</h4>
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group">
                            <div class="box box-default border border-gray rounded" style="height: 300px">
                                <div class="box-body" class="cursor">
                                    <div class="col-sm-offset-2 col-sm-10"
                                         *ngFor="let loanTemplate of loanTemplateList">
                                        <div (dblclick)="updateSelectTemplate(loanTemplate)">
                                            <span>{{loanTemplate.name}}</span>
                                        </div>
                                        <br/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 my-auto">
                        <div class="text-center">
                            <i class="fas fa-arrow-right fa-5x"></i>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="form-group">
                            <div class="box box-default border border-gray rounded" style="height: 300px">
                                <div class="box-body cursor">
                                    <div class="col-sm-offset-2 col-sm-10"
                                         *ngFor="let confirmLoanTemplate of confirmLoanTemplateList">
                                        <div (dblclick)="updateUnselectTemplate(confirmLoanTemplate)">
                                            <span>{{confirmLoanTemplate.name}}</span>
                                        </div>
                                        <br/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="renewable"><h4>Renewable</h4></label><br>
                        <div class="row ml-2">
                            <nb-radio-group class="col-md-12 d-contents form-control" id="renewable"
                                            [(ngModel)]="loanConfig.isRenewable"
                                            name="renewable">
                                <nb-radio class="form-group" [value]="true">Renewable
                                </nb-radio>
                                <nb-radio class="form-group" [value]="false">Non-Renewable
                                </nb-radio>
                            </nb-radio-group>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label><b>Offer Letter</b></label>
                            <ng-select [items]="offerLetterList"
                                       bindLabel="name"
                                       bindValue="id"
                                       [multiple]="true" name="offerLetters"
                                       [(ngModel)]="selectedOfferLetterIdList"
                                       placeholder="Select Offer Letter">
                            </ng-select>
                        </div>
                    </div>
                </div>
                <br>
                <span><h4>Documents</h4></span>
                <div class="row">
                    <div class="box box-primary col-md-6 mb-2">
                        <nb-accordion>
                            <nb-accordion-item>
                                <nb-accordion-item-header>Initial</nb-accordion-item-header>
                                <nb-accordion-item-body>
                                    <div class="row">
                                        <div class="col-md-4"
                                             *ngFor="let initialDocument of initialDocumentList; let documentIndex = index">
                                                <nb-checkbox id="{{'initialDocument'+documentIndex}}" status="primary"
                                                             (change)="updateInitialDocument($event,initialDocument)"
                                                             [value]="initialDocument.checked">
                                                    {{initialDocument.name}}
                                                </nb-checkbox>
                                        </div>
                                    </div>
                                </nb-accordion-item-body>
                            </nb-accordion-item>
                        </nb-accordion>
                    </div>
                    <div class="box box-primary col-md-6 mb-2" [hidden]="loanConfig.isRenewable === false">
                        <nb-accordion>
                            <nb-accordion-item>
                                <nb-accordion-item-header>Renew</nb-accordion-item-header>
                                <nb-accordion-item-body>
                                    <div class="row">
                                        <div class="col-md-4"
                                             *ngFor="let renewalDocument of renewalDocumentList; let documentIndex = index;">
                                            <nb-checkbox id="{{'renewDocument'+documentIndex}}" status="primary"
                                                         (change)="updateRenewalDocument($event,renewalDocument)"
                                                         [value]="renewalDocument.checked">
                                                <span>{{renewalDocument.name}}</span>
                                            </nb-checkbox>
                                        </div>
                                    </div>
                                </nb-accordion-item-body>
                            </nb-accordion-item>
                        </nb-accordion>
                    </div>

                    <div class="box box-primary col-md-6 mb-2">
                        <nb-accordion>
                            <nb-accordion-item>
                                <nb-accordion-item-header>Closure</nb-accordion-item-header>
                                <nb-accordion-item-body>
                                    <div class="row">
                                        <div class="col-md-4"
                                             *ngFor="let closureDocument of closureDocumentList; let documentIndex = index">
                                            <nb-checkbox id="{{'closureDocument'+documentIndex}}" status="primary"
                                                         (change)="updateClosureDocument($event,closureDocument)"
                                                         [value]="closureDocument.checked">
                                                {{closureDocument.name}}
                                            </nb-checkbox>
                                        </div>
                                    </div>
                                </nb-accordion-item-body>
                            </nb-accordion-item>
                        </nb-accordion>
                    </div>

                    <!--<div class="box box-primary col-md-6 mb-2">
                        <nb-accordion>
                            <nb-accordion-item>
                                <nb-accordion-item-header>Eligibility</nb-accordion-item-header>
                                <nb-accordion-item-body>
                                    <div class="row">
                                        <div
                                            *ngFor="let eligibilityDocument of eligibilityDocumentList; let documentIndex = index"
                                            class="col-md-4">
                                            <nb-checkbox
                                                (change)="updateEligibilityDocument($event,eligibilityDocument)"
                                                [value]="eligibilityDocument.checked"
                                                id="{{'eligibility'+documentIndex}}"
                                                status="primary">
                                                <span>{{eligibilityDocument.name}}</span>
                                            </nb-checkbox>
                                        </div>
                                    </div>
                                </nb-accordion-item-body>
                            </nb-accordion-item>
                        </nb-accordion>
                    </div>-->
                </div>
                </div>
            <div class="box-footer text-right">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </nb-card-body>
</nb-card>
