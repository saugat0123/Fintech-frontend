<div class="modal-document">
    <div class="modal-content">
        <div class="modal-header" style="display:block">
            <a class="close cursor" style="cursor: pointer" data-dismiss="modal" aria-label="Close"
               (click)="onClose()">
                <span aria-hidden="true">Ã—</span></a>
            <h4 class="modal-title pull-left">{{task}} Sub-Segment</h4>
        </div>
        <div class="modal-body">
            <form (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm">
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="name">Sub Segment Name</label>
                        <input type="hidden" class="form-control" [(ngModel)]="model.id" name="id">
                        <input type="text" class="form-control" id="name" name="name" placeholder="Sub Segment Name"
                               [(ngModel)]="model.subSegmentName" #subSeg="ngModel"
                               [ngClass]="{ 'is-invalid': f.submitted && subSeg.invalid }" required/>
                        <div *ngIf="f.submitted && subSeg.invalid" class="invalid-feedback">
                            <div *ngIf="subSeg.errors.required"> Name is required</div>
                        </div>

                    </div>
                    <div class="col-md-6">
                        <label for="segment">Segment</label>
                        <select class="custom-select" id="segment" name="segment"
                                style="width: 100%;" [(ngModel)]="segment.id" tabindex="-1" aria-hidden="true"
                                placeholder="SubSegment" (change)="setSegment()" #segmentVal="ngModel"
                                [ngClass]="{ 'is-invalid': f.submitted && segmentVal.invalid }" required>
                            <option [ngValue]="undefined" hidden>Select Segment</option>
                            <option *ngFor="let segment of segmentList" [selected]="model?.segment?.id === segment.id"
                                    [ngValue]="segment.id">{{segment.segmentName}}</option>
                        </select>
                        <div *ngIf="f.submitted && segmentVal.invalid" class="invalid-feedback">
                            <div *ngIf="segmentVal.errors.required">Segment is required</div>
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="loan">Loan Type</label>
                        <select class="custom-select" id="loan" name="selectedLoan" style="width: 100%;"
                                [(ngModel)]="loanConfig.id" tabindex="-1" aria-hidden="true" placeholder="loan"
                                (change)="setLoan()"
                                #loanVal="ngModel" [ngClass]="{ 'is-invalid': f.submitted && loanVal.invalid }"
                                required>
                            <option [ngValue]="undefined" hidden>Select Loan Type</option>
                            <option *ngFor="let loan of loanTypeList" [selected]="loanConfig?.id === loan.id"
                                    [ngValue]="loan.id">{{loan.name}}</option>
                        </select>
                        <div *ngIf="f.submitted && loanVal.invalid" class="invalid-feedback">
                            <div *ngIf="loanVal.errors.required">Loan Type is required</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="funded">Is This a Funded Loan</label>
                        <div class="row ml-2">
                            <nb-radio-group class="col-md-4 form-control" style="display: contents;" id="funded"
                                            name="funded" [(ngModel)]="model.funded">
                                <nb-radio [value]=true>Yes</nb-radio>
                                <nb-radio [value]=false>No</nb-radio>
                            </nb-radio-group>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i></button>
                </div>
            </form>
        </div>
    </div>
</div>

