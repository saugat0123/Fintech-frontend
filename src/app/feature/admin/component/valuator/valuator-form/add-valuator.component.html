<div class="modal-document">
    <div class="modal-content">
        <div class="modal-header" style="display:block">
            <a class="close cursor" data-dismiss="modal" aria-label="Close"
               (click)="onClose()">
                <span aria-hidden="true">Ã—</span></a>
            <h4 class="modal-title pull-left">{{task}} Valuator</h4>
        </div>
        <div class="modal-body">
            <form #valuatorForm="ngForm" (ngSubmit)=" valuatorForm.valid && onSubmit()">
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="name">Name</label>
                        <input type="hidden" class="form-control" [(ngModel)]="model.id" name="id">
                        <input type="text" class="form-control" required id="name"
                               [(ngModel)]="model.name" name="name" placeholder="Name"
                               #name="ngModel" [ngClass]="{'is-invalid': valuatorForm.submitted && name.invalid}"/>
                        <div *ngIf="name.invalid && valuatorForm.submitted" class="invalid-feedback">
                            Name is required
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="province">Province</label>
                        <select name="province" id="province" class="custom-select"
                                [(ngModel)]="province.id" required (change)="getDistricts(province,1)"
                                (change)="setProvince(province)"
                                #provinceVal="ngModel"
                                [ngClass]="{ 'is-invalid': valuatorForm.submitted && provinceVal.invalid }">
                            <option [ngValue]="undefined" hidden>Province</option>
                            <option *ngFor="let province of provinces"
                                    [selected]="province.id===model?.province?.id"
                                    [ngValue]="province.id">
                                {{province.name}}
                        </select>
                        <div *ngIf="valuatorForm.submitted && provinceVal.invalid" class="invalid-feedback">
                            Province is required
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="district">District</label>
                        <select name="district" id="district" class="custom-select"
                                [(ngModel)]="district.id" (change)="setDistrict(district)"
                                (change)="getMunicipalities(district,1)" required
                                #districtVal="ngModel"
                                [ngClass]="{ 'is-invalid': valuatorForm.submitted && districtVal.invalid }">
                            <option [ngValue]="undefined" hidden>District</option>
                            <option *ngFor="let district of districts"
                                    [selected]="district.id === model?.district?.id"
                                    [ngValue]="district.id">
                                {{district.name}}
                            </option>
                        </select>
                        <div *ngIf="valuatorForm.submitted && districtVal.invalid" class="invalid-feedback">
                            District is required
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="municipality">Municipality</label>
                        <select name="municipality" id="municipality" class="custom-select"
                                [(ngModel)]="municipality.id" (change)="setMunicipality(municipality)" required
                                #municipal="ngModel"
                                [ngClass]="{ 'is-invalid': valuatorForm.submitted && municipal.invalid }">
                            <option [ngValue]="undefined" hidden>Municipality</option>
                            <option *ngFor="let municipality of municipalities"
                                    [selected]="municipality.id === model?.municipalityVdc?.id"
                                    [ngValue]="municipality.id">
                                {{municipality.name}}
                            </option>
                        </select>
                        <div *ngIf="valuatorForm.submitted && municipal.invalid" class="invalid-feedback">
                            Municipality is required
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="street_name">Street</label>
                        <input type="text" class="form-control"
                               [(ngModel)]="model.streetName" name="street"
                               id="street_name"
                               placeholder="Street Name" required
                               #streetVal="ngModel"
                               [ngClass]="{ 'is-invalid': valuatorForm.submitted && streetVal.invalid }"/>
                        <div *ngIf="valuatorForm.submitted && streetVal.invalid" class="invalid-feedback">
                            Street is required
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="ward_number">Ward</label>
                        <input type="text" class="form-control"
                               [(ngModel)]="model.wardNumber" name="ward"
                               id="ward_number"
                               placeholder="Ward" required
                               #wardVal="ngModel"
                               [ngClass]="{ 'is-invalid': valuatorForm.submitted && wardVal.invalid }"/>
                        <div *ngIf="valuatorForm.submitted && wardVal.invalid" class="invalid-feedback">
                            Ward is required
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="contactNo">Contact Number</label>
                        <input type="text" class="form-control" [(ngModel)]="model.contactNo"
                               id="contactNo" name="contactNo" placeholder="Phone Number" #contact="ngModel"
                               [ngClass]="{'is-invalid': valuatorForm.submitted && contact.invalid}" required/>
                        <div *ngIf="contact.invalid && valuatorForm.submitted" class="invalid-feedback">
                            Contact is required
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="site_province">Site Province</label>
                        <select name="province" id="site_province" class="custom-select"
                                [(ngModel)]="siteProvince.id" (change)="getDistricts(siteProvince,0)"
                                (change)="setSiteProvince(siteProvince)" #provinceValSite="ngModel"
                                [ngClass]="{'is-invalid': provinceValSite.submitted && provinceValSite.invalid}" required>
                            <option [ngValue]="undefined" hidden>Site Province</option>
                            <option *ngFor="let province of provinces"
                                    [selected]="province.id===model?.siteProvince?.id"
                                    [ngValue]="province.id">
                                {{province.name}}
                        </select>
                        <div *ngIf="valuatorForm.submitted && provinceValSite.invalid" class="invalid-feedback">
                            Site Province is required
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="site_district">Site District</label>
                        <select name="site_district" id="site_district"
                                class="custom-select"
                                [(ngModel)]="siteDistrict.id" (change)="setSiteDistrict(siteDistrict)"
                                (change)="getMunicipalities(siteDistrict,0)" required
                                #districtSiteVal="ngModel"
                                [ngClass]="{ 'is-invalid': valuatorForm.submitted && districtSiteVal.invalid }">
                            <option [ngValue]="undefined" hidden>Site District</option>
                            <option *ngFor="let district of siteDistricts"
                                    [selected]="district.id === model?.siteDistrict?.id"
                                    [ngValue]="district.id">
                                {{district.name}}
                            </option>
                        </select>
                        <div *ngIf="valuatorForm.submitted && districtSiteVal.invalid" class="invalid-feedback">
                            Site District is required
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="site_municipality">Site Municipality</label>
                        <select name="site_municipality" id="site_municipality" class="custom-select"
                                [(ngModel)]="siteMunicipality.id" (change)="setSiteMunicipality(siteMunicipality)"
                                required
                                #municipalSite="ngModel"
                                [ngClass]="{ 'is-invalid': valuatorForm.submitted && municipalSite.invalid }">
                            <option [ngValue]="undefined" hidden>Site Municipality</option>
                            <option *ngFor="let municipality of siteMunicipalities"
                                    [selected]="municipality.id === model?.siteMunicipalityVdc?.id"
                                    [ngValue]="municipality.id">
                                {{municipality.name}}
                            </option>
                        </select>
                        <div *ngIf="valuatorForm.submitted && municipalSite.invalid" class="invalid-feedback">
                            Site Municipality is required
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-md-6">
                        <label for="site_street_name">Site Street</label>
                        <input type="text" class="form-control "
                               [(ngModel)]="model.siteStreetName" name="site_street_name"
                               id="site_street_name"
                               placeholder="Site Street Name" required
                               #streetSiteVal="ngModel"
                               [ngClass]="{ 'is-invalid': valuatorForm.submitted && streetSiteVal.invalid }"/>
                        <div *ngIf="valuatorForm.submitted && streetSiteVal.invalid" class="invalid-feedback">
                            Site Street is required
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="site_ward_number">Site Ward</label>
                        <input type="text" class="form-control "
                               [(ngModel)]="model.siteWardNumber" name="site_ward_number"
                               id="site_ward_number"
                               placeholder="Site Ward" required
                               #wardSiteVal="ngModel"
                               [ngClass]="{ 'is-invalid': valuatorForm.submitted && wardSiteVal.invalid }"/>
                        <div *ngIf="valuatorForm.submitted && wardSiteVal.invalid" class="invalid-feedback">
                            Site Ward is required
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i></button>
                </div>
            </form>
        </div>
    </div>
</div>
