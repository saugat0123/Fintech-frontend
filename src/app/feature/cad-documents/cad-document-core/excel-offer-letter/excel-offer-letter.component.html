<nb-accordion>
    <nb-accordion-item>
        <nb-accordion-item-header>
            OFFER LETTER
        </nb-accordion-item-header>
        <nb-accordion-item-body>
            <nb-accordion>
                <nb-accordion-item *ngFor="let list of offerLetterList">
                    <nb-accordion-item-header *ngIf="list?.postApprovalDocType == 'OFFER_LETTER'">
                        <div class="row col-md-12">
                            <div class="col-md-8">
                                <span>{{list.name}}</span>
                            </div>
                            <div class="col-md-4 d-flex justify-content-end">
                                <!--                                      <span style="color:black">-->
                                <!--                                      <a (click)="showFullScreen(list.name)" title="full screen">-->
                                <!--                                        <i class="fa fa-expand px-2"></i>-->
                                <!--                                   </a>-->
                                <!--                                    </span>-->
                                <span *ngIf="list.isPresent && !list.isApproved" style="color:darkgreen">
                                    <!-- <input (change)="onFileChange($event)" class="hide-type"
                                            id="uploadOfferLetterInput"
                                            type="file">-->
                                     <a (click)="uploadOfferLetter(list.id,uploadModel)" title="upload {{list.name}}">
                                        <i class="fa fa-upload"></i>
                                   </a>
                                   </span>
                                <span *ngIf="list.isPresent && list.uploadedUrl !==null" style="color:#007bff"
                                      nbTooltipStatus="primary" nbTooltip="draft document">
                                      <a (click)="previewClick(list.uploadedUrl)" title="view {{list.name}}">
                                        <i class="fa fa-eye px-2"></i>
                                   </a>
                                    </span>
                                <span *ngIf="list.isPresent && list.pathSigned !==null" style="color:#007bff"
                                      nbTooltipStatus="primary" nbTooltip="signed document">
                                      <a (click)="previewClick(list.pathSigned)" title="view {{list.name}}">
                                       <i class="fas fa-file-signature px-2"></i>
                                   </a>
                                    </span>
                                <span *ngIf="list.isPresent && !list.isApproved" class="px-2"
                                      title="Print {{list.name}}">
                                    <button [useExistingCss]="true"
                                            class="btn btn-flat btn-sm btn-outline-info"
                                            ngxPrint printSectionId="{{offerLetterConst.keysEnum(list.name)}}Print">
                                        <i class="fas fa-print"></i>
                                    </button>
                                    </span>
                                <span *ngIf="list.isApproved" style="color:green" title="Status : Approved">
                                    <i class="fas fa-check-circle px-2"></i>
                                  </span>

                                <span *ngIf="!list.isApproved" style="color:red" title="Status :Not Approved">
                                    <i class="fas fa-times-circle px-2"></i>
                                  </span>


                            </div>
                        </div>
                    </nb-accordion-item-header>
                    <nb-accordion-item-body *ngIf="list?.postApprovalDocType == 'OFFER_LETTER'">
                        <app-dp-note-guarantor *ngIf="loanDataHolder && list.name === offerLetterConst.value(offerLetterConst.DPNOTEGUARANTOR)"
                                [customerId]="customerId"
                                [loanDataHolder]="loanDataHolder"
                                [offerLetterTypeId]="list.id"></app-dp-note-guarantor>
                    </nb-accordion-item-body>
                </nb-accordion-item>
            </nb-accordion>
        </nb-accordion-item-body>

    </nb-accordion-item>

    <nb-accordion-item>
        <nb-accordion-item-header>
            LEGAL DOCUMENT
        </nb-accordion-item-header>
        <nb-accordion-item-body>

        </nb-accordion-item-body>

    </nb-accordion-item>

    <nb-accordion-item>
        <nb-accordion-item-header>
            DISBURSEMENT
        </nb-accordion-item-header>
        <nb-accordion-item-body>

        </nb-accordion-item-body>

    </nb-accordion-item>
</nb-accordion>
<ng-template #uploadModel>
    <nb-card accent="primary">
        <nb-card-header>
            <div style="display:block">
                <a (click)="onClose()" aria-label="Close"
                   class="close cursor" data-dismiss="modal">
                    <span aria-hidden="true">Ã—</span></a>
                <h4 class="nav  navbar-right pull-left">Upload Offer Letter</h4>
            </div>
        </nb-card-header>

        <nb-card-body>
            <div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-12 form-group">
                                <label for="type">Select Offer Type</label>
                                <select [(ngModel)]="docType" class="form-control" id="type">
                                    <option *ngFor="let type of offerLetterType" [value]="type">{{type |titlecase}}
                                        Document
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group files">
                            <label>Upload Your File </label>
                            <input (change)="onFileChange($event)" class="form-control" multiple=""
                                   type="file">
                        </div>
                        <div (click)="previewClick(null)" *ngIf="preview"
                             class="d-flex justify-content-center">
                            <button class="btn btn-primary btn-sm btn-flat"><span class="px-2">Preview</span>
                            </button>
                        </div>

                    </div>


                </div>
            </div>
        </nb-card-body>

        <nb-card-footer>
            <div class="d-flex justify-content-end">
                <button (click)="onClose()" class="btn btn-danger  btn-flat fa-pull-left" type="submit">
                    NO
                </button>
                <button (click)="submitOfferLetter()" class="btn btn-success float-right" type="submit"
                >YES
                </button>


            </div>
        </nb-card-footer>

    </nb-card>
</ng-template>
