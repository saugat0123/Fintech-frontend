<div *ngIf="guarantorData?.length > 0" class="row">
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header">{{individual?'Guarantor Details':'Shareholder/Guarantor Details'}}</strong></p>
    <ng-container *ngFor="let guarantor of newGuarantor; let i= index">
      <table class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
        <tr>
          <td>
            <table
                    class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">

              <tbody>
              <tr class="text-left">
                <td class="sb-bg-dark text-white sub-header">Name</td>
              </tr>
              <tr class="text-left">
                <td class="sb-bg-dark text-white sub-header">Gender</td>
              </tr>
              <tr class="text-left">
                <td class="sb-bg-dark text-white sub-header">Relationship With Borrower</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-dark text-white sub-header">Father's Name</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-dark text-white sub-header">Grand Father Name</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Date Of Birth (AD/BS)</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Citizenship Number</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Phone Number</td>
              </tr>

              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Occupation</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Net Worth</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Age</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Email</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Permanent Address</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Temporary Address</td>
              </tr>
              </tbody>
            </table>

          </td>
          <td *ngFor="let subGuarantor of guarantor; let ii = index;">
            <table class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
              <tbody>
              <tr class="text-left">
                <td class="sub-header">{{subGuarantor?.name || 'N/A'}}</td>
              </tr>
              <tr class="text-left sub-header">
                <td class=" ">{{subGuarantor?.gender || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left sub-header">{{subGuarantor?.relationship || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left sub-header">{{subGuarantor?.fatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left sub-header">{{subGuarantor?.grandFatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{(subGuarantor?.dateOfBirth | date) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.citizenNumber || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.contactNumber || 'N/A'}}</td>
              </tr>

              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.profession || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.netWorth || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{calculateAge(subGuarantor?.dateOfBirth) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.email || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{'Province: ' + subGuarantor?.province?.name +', District: '+ subGuarantor?.district?.name + ', Municipality: '+ subGuarantor?.municipalities?.name}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{'Province: ' + subGuarantor?.provinceTemporary?.name +', District: '+ subGuarantor?.districtTemporary?.name + ', Municipality: '+ subGuarantor?.municipalitiesTemporary?.name}}</td>
              </tr>
              </tbody>
            </table>

          </td>
        </tr>
      </table>
      </ng-container>
  </div>
</div>

<div *ngIf="promoter?.length > 0 && customerAllLoanList[0]?.loanHolder?.customerType === 'INSTITUTION'" class="row">
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header sub-header">{{'Promoter/ Proprietor Details'}}</strong></p>
    <ng-container *ngFor="let guarantor of promoter; let i= index">
      <table class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
        <tr>
          <td>
            <table
                    class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">

              <tbody>
              <tr class="text-left">
                <td class="sb-bg-dark text-white sub-header">Name</td>
              </tr>
              <tr class="text-left">
                <td class="sb-bg-dark text-white sub-header">Gender</td>
              </tr>
              <tr class="text-left">
                <td class="sb-bg-dark text-white sub-header">Relationship With Borrower</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-dark text-white sub-header">Father's Name</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-dark text-white sub-header">Grand Father Name</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Date Of Birth (AD/BS)</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Citizenship Number</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Phone Number</td>
              </tr>

              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Occupation</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Net Worth</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Age</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Email</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Permanent Address</td>
              </tr>
              <tr>
                <td class="sb-bg-dark text-left text-white sub-header">Temporary Address</td>
              </tr>
              </tbody>
            </table>

          </td>
          <td *ngFor="let subGuarantor of guarantor; let ii = index;">
            <table class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
              <tbody>
              <tr class="text-left">
                <td class="sub-header">{{subGuarantor?.name || 'N/A'}}</td>
              </tr>
              <tr class="text-left">
                <td class="sub-header">{{subGuarantor?.gender || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left sub-header">{{subGuarantor?.relationship || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left sub-header">{{subGuarantor?.fatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left sub-header">{{subGuarantor?.grandFatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{(subGuarantor?.dateOfBirth | date) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.citizenNumber || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.contactNumber || 'N/A'}}</td>
              </tr>

              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.profession || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.netWorth || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{calculateAge(subGuarantor?.dateOfBirth) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{subGuarantor?.email || 'N/A'}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{'Province: ' + subGuarantor?.province?.name +', District: '+ subGuarantor?.district?.name + ', Municipality: '+ subGuarantor?.municipalities?.name}}</td>
              </tr>
              <tr>
                <td class=" text-left sub-header">{{'Province: ' + subGuarantor?.provinceTemporary?.name +', District: '+ subGuarantor?.districtTemporary?.name + ', Municipality: '+ subGuarantor?.municipalitiesTemporary?.name}}</td>
              </tr>
              </tbody>
            </table>

          </td>
        </tr>
      </table>
    </ng-container>
  </div>
</div>
<div *ngIf="promoterBackground?.length > 0 &&  customerAllLoanList[0]?.loanHolder?.customerType === 'INSTITUTION'" class="row">
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header sub-header">{{'Promoter/Proprietor/Partner Background'}}</strong></p>
    <ng-container *ngFor="let guarantor of promoterBackground; let i= index">
      <table  *ngIf="(guarantor?.promoterData | jsonParse)?.background?.length > 0" class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
    <thead class="sb-bg-dark text-white sub-header">
<tr>
  <th>S.N</th>
  <th>Name</th>
  <th>Previous/Other Associations</th>
  <th>Nature Of Business/Work</th>
  <th>Capacity</th>
  <th>Tenure</th>
  <th>Type</th>
</tr>
    </thead>
        <tbody>
        <tr *ngFor="let promoter of (guarantor?.promoterData | jsonParse)?.background; let j = index;" >
          <td>{{j + 1}}</td>
          <td class="sub-header">{{guarantor?.name}}</td>
          <td class="sub-header">{{promoter?.previousAssociations}}</td>
          <td class="sub-header">{{promoter?.natureOfBusiness}}</td>
          <td class="sub-header">{{promoter?.capacity}}</td>
          <td class="sub-header">{{(promoter?.tenure | date)}}</td>
          <td class="sub-header">{{guarantor?.guarantorType}}</td>
        </tr>
        </tbody>
      </table>
    </ng-container>
  </div>
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header sub-header">{{'Undivided Family Members'}}</strong></p>
    <ng-container *ngFor="let guarantor of promoterBackground; let i= index">
      <table  *ngIf="(guarantor?.promoterData | jsonParse)?.familyDetails?.length > 0" class="table table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
    <thead class="sb-bg-dark text-white sub-header">
<tr>
  <th>S.N</th>
  <th>Name</th>
  <th>Relation</th>
  <th>Age</th>
  <th>Profession</th>
  <th>Promoter/Proprietor/Partner Background</th>
  <th>Type</th>
</tr>
    </thead>
        <tbody>
        <tr *ngFor="let promoter of (guarantor?.promoterData | jsonParse)?.familyDetails; let j = index;" >
          <td>{{j + 1}}</td>
          <td class="sub-header">{{promoter?.name}}</td>
          <td class="sub-header">{{promoter?.relation}}</td>
          <td class="sub-header">{{promoter?.age}}</td>
          <td class="sub-header">{{promoter?.profession}}</td>
          <td class="sub-header">{{guarantor?.name}}</td>
          <td class="sub-header">{{guarantor?.guarantorType}}</td>
        </tr>
        </tbody>
      </table>
    </ng-container>
  </div>
</div>

