<div *ngIf="guarantorData?.length > 0" class="row">
  <hr class="print-line">
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header">{{'Guarantor Details'}}</strong></p>
    <ng-container *ngFor="let guarantor of newGuarantor; let i= index">
      <table class="table table-condensed table-sm table-responsive-md text-center table-sm sb-small" style="table-layout: fixed; width: 100%">
        <tr>
          <td>
            <table
                    class="table table1 table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">

              <tbody>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Name</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Age</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Father's Name</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Grand Father's Name</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Name of Spouse</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Phone Number</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Net Worth</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">E-mail</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Occupation</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Permanent Address</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Temporary Address</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Relationship With Borrower</td>
              </tr>
              </tbody>
            </table>
          </td>
          <td *ngFor="let subGuarantor of guarantor; let ii = index;">
            <table class="table table1 table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
              <tbody>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.name || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{calculateAge(subGuarantor?.dateOfBirth) || 'N/A'}} years</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.fatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.grandFatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.spouseName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.contactNumber || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">NPR. {{(subGuarantor?.netWorth  | currencyFormatter) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{(subGuarantor?.guarantorJson | jsonParse)?.email || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{(subGuarantor?.profession | titlecase) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.province?.name +', '+ subGuarantor?.district?.name + ', '+ subGuarantor?.municipalities?.name + ', '+ subGuarantor?.wardNumber}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.provinceTemporary?.name +', '+ subGuarantor?.districtTemporary?.name + ', '+ subGuarantor?.municipalitiesTemporary?.name + ', '+ subGuarantor?.wardNumberTemporary}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.relationship || 'N/A'}}</td>
              </tr>
              </tbody>
            </table>

          </td>
        </tr>
      </table>
      </ng-container>
  </div>
</div>

<div *ngIf="promoter?.length > 0 && customerAllLoanList[0]?.loanHolder?.customerType === 'INSTITUTION'" class="row">
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header">{{'Promoter/ Proprietor/ Partner Details'}}</strong></p>
    <ng-container *ngFor="let guarantor of promoter; let i= index">
      <table class="table table-condensed table-sm table-responsive-md text-center table-sm sb-small" style="table-layout: fixed; width: 100%">
        <tr>
          <td>
            <table
                    class="table table1 table-condensed table-bordered table-sm table-responsive-md table-sm sb-small">

              <tbody>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Name</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Gender</td>
              </tr>
              <tr>
                <td class="sb-bg-gray text-left pl-2">Relationship With Borrower</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Father's Name</td>
              </tr>
              <tr>
                <td class="text-left sb-bg-gray pl-2">Grand Father Name</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Date Of Birth (AD/BS)</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Citizenship Number</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Phone Number</td>
              </tr>

              <tr>
                <td class="sb-bg-gray pl-2 text-left">Occupation</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Net Worth</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Age</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Email</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Permanent Address</td>
              </tr>
              <tr>
                <td class="sb-bg-gray pl-2 text-left">Temporary Address</td>
              </tr>
              </tbody>
            </table>

          </td>
          <td *ngFor="let subGuarantor of guarantor; let ii = index;">
            <table class="table table1 table-condensed table-bordered table-sm table-responsive-md table-sm sb-small">
              <tbody>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.name || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.gender || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.relationship || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.fatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.grandFatherName || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{(subGuarantor?.dateOfBirth | date) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.citizenNumber || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.contactNumber || 'N/A'}}</td>
              </tr>

              <tr>
                <td class="text-left pl-2">{{(subGuarantor?.profession | titlecase) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">NPR. {{(subGuarantor?.netWorth  | currencyFormatter) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{calculateAge(subGuarantor?.dateOfBirth) || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.email || 'N/A'}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.province?.name +', '+ subGuarantor?.district?.name + ', '+ subGuarantor?.municipalities?.name  + ', '+ subGuarantor?.wardNumber}}</td>
              </tr>
              <tr>
                <td class="text-left pl-2">{{subGuarantor?.provinceTemporary?.name +', '+ subGuarantor?.districtTemporary?.name + ', '+ subGuarantor?.municipalitiesTemporary?.name + ', '+ subGuarantor?.wardNumberTemporary}}</td>
              </tr>
              </tbody>
            </table>

          </td>
        </tr>
      </table>
    </ng-container>
  </div>
</div>
<div *ngIf="promoterBackground?.length > 0 &&  !individual" class="row">
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header">{{'Promoter/Proprietor/Partner Background'}}</strong></p>
    <ng-container *ngFor="let guarantor of promoterBackground; let i= index">
      <table  *ngIf="(guarantor?.promoterData | jsonParse)?.background?.length > 0" class="table table1 table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
    <thead class="sb-bg-gray">
<tr>
  <th>Previous/Other Associations</th>
  <th>Nature Of Business/Work</th>
  <th>Capacity</th>
  <th>Tenure (Date)</th>
</tr>
    </thead>
        <tbody>
        <tr *ngFor="let promoter of (guarantor?.promoterData | jsonParse)?.background; let j = index;" >
          <td>{{promoter?.previousAssociations}}</td>
          <td>{{promoter?.natureOfBusiness}}</td>
          <td>{{promoter?.capacity}}</td>
          <td>{{(promoter?.tenure | date)}}</td>
        </tr>
        </tbody>
      </table>
    </ng-container>
  </div>
  <div class="col-md-12 text-center">
    <p class="float-left sub-header" ><strong  class="sub-header">{{'Undivided Family Members'}}</strong></p>
    <ng-container *ngFor="let guarantor of promoterBackground; let i= index">
      <table  *ngIf="(guarantor?.promoterData | jsonParse)?.familyDetails?.length > 0" class="table table1 table-condensed table-bordered table-sm table-responsive-md text-center table-sm sb-small">
    <thead class="sb-bg-gray">
<tr>
  <th>S.N</th>
  <th>Name</th>
  <th>Relation</th>
  <th>Age</th>
  <th>Profession</th>
  <th>Promoter/Proprietor/Partner Background</th>
  <th>Type</th>
</tr>
    </thead>
        <tbody>
        <tr *ngFor="let promoter of (guarantor?.promoterData | jsonParse)?.familyDetails; let j = index;" >
          <td>{{j + 1}}</td>
          <td>{{promoter?.name}}</td>
          <td>{{promoter?.relation}}</td>
          <td>{{promoter?.age}}</td>
          <td>{{promoter?.profession}}</td>
          <td>{{guarantor?.name}}</td>
          <td>{{guarantor?.guarantorType}}</td>
        </tr>
        </tbody>
      </table>
    </ng-container>
  </div>
</div>

