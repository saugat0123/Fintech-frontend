<div class="row">
    <div class="col-md-12" *ngIf="formData?.currentResidentFormChecked">
        <p><b>Current Resident</b></p>
        <table class="table table-bordered table-responsive-md table-sm sb-small">
            <tbody>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Last Date of Inspection</th>
                <td colspan="3" *ngFor="let cr of formData['currentResidentDetails']">
                    {{cr?.dateOfVisit ? (cr?.dateOfVisit | date) : 'NA'}}
                    ({{cr?.dateOfVisit ? (cr?.dateOfVisit | engNepDate: false) : 'NA'}})
                </td>
            </tr>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Inspected By</th>
                <td colspan="3" *ngFor="let cr of formData['currentResidentDetails']">
                    {{cr?.staffRepresentativeName ? ('Mr./Ms.' + cr?.staffRepresentativeName) : ''}}
                    {{cr?.staffRepresentativeName2 ? (' && Mr./Ms. ' + cr?.staffRepresentativeName2) : ''}}
                </td>
            </tr>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Comments, if any</th>
                <td colspan="3" *ngFor="let cr of formData['currentResidentDetails']">{{cr?.findingComment}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-12" *ngIf="formData?.businessSiteVisitFormChecked">
        <p><b>Business Site Visit</b></p>
        <p class="text-justify">
            The business of the customer shall be visited/inspected at least 4 times in a year; however, the Bank
            reserves the
            right to visit/inspect the customerâ€™s business any time, with or without prior notice to them. Visit reports
            shall
            be prepared and filed after they are noted by the BM/Unit Head. Any serious adverse issues observed during
            the site
            visit shall be escalated to Regional Office and Head Office along with course of action taken / to be taken,
            where
            warranted.
        </p>
        <p>Details of last 4 Business Inspection dates are as under;</p>
        <table class="table table-bordered table-responsive-md table-sm sb-small">
            <tbody>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Date of Inspection</th>
                <td colspan="3" *ngFor="let bs of formData['businessSiteVisitDetails']">
                    {{bs?.dateOfVisit ? (bs?.dateOfVisit | date) : 'NA'}}
                    ({{bs?.dateOfVisit ? (bs?.dateOfVisit | engNepDate: false) : 'NA'}})
                </td>
            </tr>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Inspected By</th>
                <td colspan="3" *ngFor="let bs of formData['businessSiteVisitDetails']">
                    {{bs?.staffRepresentativeName ? ('Mr./Ms.' + bs?.staffRepresentativeName) : ''}}
                    {{bs?.staffRepresentativeName2 ? (' && Mr./Ms. ' + bs?.staffRepresentativeName2) : ''}}
                </td>
            </tr>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Operating Status</th>
                <td colspan="3" *ngFor="let bs of formData['businessSiteVisitDetails']">{{bs?.operatingStatus}}</td>
            </tr>
            <tr>
                <th colspan="1" class="sb-bg-dark text-white">Comments, if any</th>
                <td colspan="3" *ngFor="let bs of formData['businessSiteVisitDetails']">{{bs?.findingsAndComments}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="col-md-12" *ngIf="fixedAssetsData?.length > 0">
        <p><b>Fixed Assets Collateral Inspection Details</b></p>
        <ng-container *ngIf="landData?.length > 0">
            <div *ngFor="let land of landData; let li = index">
                <table class="table-bordered table-responsive-md table table-sm sb-small">
                    <tr>
                        <th [colSpan]="land?.collateralData?.length + 1" class="text-center sb-bg-dark">Fixed Assets Collateral of Land Security {{li+1}}</th>
                    </tr>
                    <tbody>
                    <tr>
                        <th class="sb-bg-secondary">Latest Date of Inspection</th>
                        <td *ngFor="let fad of land?.collateralData">{{fad?.siteVisitDate | date}} ({{fad?.siteVisitDate | engNepDate: false}})</td>
                    </tr>
                    <tr>
                        <th class="sb-bg-secondary">Inspected By</th>
                        <td *ngFor="let fad of land?.collateralData">
                    <span *ngFor="let st of (fad?.siteVisitJsonData | jsonParse)?.staffs">
                        {{st?.staffRepresentativeName ? st?.staffRepresentativeName : 'NA'}},
                        {{st?.staffRepresentativeName2 ? st?.staffRepresentativeName2 : 'NA'}} <br>
                    </span>
                        </td>
                    </tr>
                    <tr>
                        <th class="sb-bg-secondary">Status/Comments <em><i>(if any)</i></em></th>
                        <td *ngFor="let fad of land?.collateralData">{{(fad?.siteVisitJsonData | jsonParse)?.commentAboutFAC}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </ng-container>
        <ng-container *ngIf="apartmentData?.length > 0">
            <div *ngFor="let apartment of apartmentData; let ap = index">
                <table class="table-bordered table-responsive-md table table-sm sb-small" *ngIf="apartmentData?.length > 0">
                    <tr>
                        <th [colSpan]="apartment?.collateralData?.length + 1" class="text-center sb-bg-dark">Fixed Assets Collateral of Apartment Security {{ap + 1}}</th>
                    </tr>
                    <tbody>
                    <tr>
                        <th class="sb-bg-secondary">Latest Date of Inspection</th>
                        <td *ngFor="let fad of apartment?.collateralData">{{fad?.siteVisitDate | date}} ({{fad?.siteVisitDate | engNepDate: false}})</td>
                    </tr>
                    <tr>
                        <th class="sb-bg-secondary">Inspected By</th>
                        <td *ngFor="let fad of apartment?.collateralData">
                    <span *ngFor="let st of (fad?.siteVisitJsonData | jsonParse)?.staffs">
                        {{st?.staffRepresentativeName ? st?.staffRepresentativeName : 'NA'}},
                        {{st?.staffRepresentativeName2 ? st?.staffRepresentativeName2 : 'NA'}} <br>
                    </span>
                        </td>
                    </tr>
                    <tr>
                        <th class="sb-bg-secondary">Status/Comments <em><i>(if any)</i></em></th>
                        <td *ngFor="let fad of apartment?.collateralData">{{(fad?.siteVisitJsonData | jsonParse)?.commentAboutFAC}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </ng-container>
        <ng-container *ngIf="landBuildingData?.length > 0">
            <div *ngFor="let landBuilding of landBuildingData; let lb = index">
                <table class="table-bordered table-responsive-md table table-sm sb-small">
                    <tr>
                        <th [colSpan]="landBuilding?.collateralData?.length + 1" class="text-center sb-bg-dark">Fixed Assets Collateral of Land & Building Security {{lb + 1}}</th>
                    </tr>
                    <tbody>
                    <tr>
                        <th class="sb-bg-secondary">Latest Date of Inspection</th>
                        <td *ngFor="let fad of landBuilding?.collateralData">{{fad?.siteVisitDate | date}} ({{fad?.siteVisitDate | engNepDate: false}})</td>
                    </tr>
                    <tr>
                        <th class="sb-bg-secondary">Inspected By</th>
                        <td *ngFor="let fad of landBuilding?.collateralData">
                    <span *ngFor="let st of (fad?.siteVisitJsonData | jsonParse)?.staffs">
                        {{st?.staffRepresentativeName ? st?.staffRepresentativeName : 'NA'}},
                        {{st?.staffRepresentativeName2 ? st?.staffRepresentativeName2 : 'NA'}} <br>
                    </span>
                        </td>
                    </tr>
                    <tr>
                        <th class="sb-bg-secondary">Status/Comments <em><i>(if any)</i></em></th>
                        <td *ngFor="let fad of landBuilding?.collateralData">{{(fad?.siteVisitJsonData | jsonParse)?.commentAboutFAC}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </ng-container>
    </div>
</div>
