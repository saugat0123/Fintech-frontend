<div class="container-full bg-light" [nbSpinner]="videoSpinner">
    <div class="row m-0">
        <div *ngIf="showHeader"  class="col-md-12 custom-header">
            <a (click)="close()" aria-label="Close" class="close pull-right cursor">
                <span aria-hidden="true"><b>&times;</b></span>
            </a>
        </div>
    </div>
    <div class="p-4 row">
        <div class="col-sm-12">
            <nb-card class="videoKyc">
                <nb-card-body>
                    <div class="row">
                        <div class="col-sm-12" #kycInfo>
                            <app-video-kyc-information [showSender]="showSender" [showBenf]="showBenificiary" [remitCustomer]="remitCustomer" [senderDetails]="senderDetailsArr"
    [benfDetails]="benfDetailsArr" [isModal]="isModal" (remitEvent)="getEvent($event)"></app-video-kyc-information>
                        </div>
                    </div>
                    <div class="row">
                        <nb-card *ngIf="showSender">
                            <nb-card-header>
                                <h6 class="p-2">Video KYC Sender</h6>
                            </nb-card-header>
                            <form [formGroup]="senderForm">
                                <div class="p-4 row">
                                    <div class="col-sm-12">
                                        <label class="label">Required</label><br>
                                        <nb-toggle (checkedChange)="onVideoKycPermissionSender($event)"
                                                   class="pt-2 pl-4">
                                        </nb-toggle>
                                    </div>
                                </div>
                                <div class="p-4 row" *ngIf="!hideVideoKycSender">
                                    <div class="col-sm-6">
                                        <input hidden
                                               formControlName="beneficiaryId">
                                    </div>
                                    <div class="col-sm-6">
                                        <input hidden
                                               formControlName="id">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="date1" class="label">Meeting Date</label>
                                        <input
                                                formControlName="date" type="date" nbInput fullWidth id="date1">

                                    </div>
                                    <div class="col-sm-6">
                                        <label for="date1" class="label">Meeting Time</label>
                                        <input formControlName="time" type="time" min="00:00" max="24:00" nbInput fullWidth
                                               id="time1">
                                    </div>

                                    <div class="col-sm-6">
                                        <label for="Meetinglink" class="label">Meeting Link</label>
                                        <input formControlName="meetingLink" type="text" nbInput fullWidth id="Meetinglink"
                                               placeholder="link">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="recordedmeeting" class="label">Recorded Meeting</label>
                                        <input type="text"  disabled formControlName="recordedLink" nbInput fullWidth id="recordedmeeting"
                                               placeholder="recorded">
                                    </div>
                                    <div id="generatebtn" class="col-sm-6" style="margin-bottom: 15px; margin-top: 15px">
                                        <button [disabled]="!senderLink" (click)="generateVideoKycSender($event)" type="submit"
                                                id="sender" nbButton status="danger">Generate
                                        </button>
                                    </div>
                                    <div class="col-sm-6" style="margin: 15px 0;">
                                        <div class="d-flex justify-content-end">
                                            <button nbButton [disabled]="!senderLink" (click)="save(senderForm)">save</button>
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </nb-card>

                    </div>
                    <div class="row">
                        <nb-card *ngIf="showBenificiary">

                            <nb-card-header>
                                <h6 class="p-2">Video KYC Beneficiary</h6>
                            </nb-card-header>
                            <form [formGroup]="beneficiaryForm">
                                <div class="p-4 row">
                                    <div class="col-sm-12">
                                        <label class="label">Required</label><br>
                                        <nb-toggle (checkedChange)="onVideoKycPermissionBeneficiary($event)"
                                                   class="pt-2 pl-4">
                                        </nb-toggle>
                                    </div>
                                </div>
                                <div class="p-4 row" *ngIf="!hideVideoKycBeneficiary">
                                    <div class="col-sm-6">
                                        <input hidden
                                               formControlName="beneficiaryId">
                                    </div>
                                    <div class="col-sm-6">
                                        <input hidden
                                               formControlName="id">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="date" class="label">Meeting Date</label>
                                        <input
                                                formControlName="date" type="date" nbInput fullWidth id="date">

                                    </div>
                                    <div class="col-sm-6">
                                        <label for="time" class="label">Meeting Time</label>
                                        <input formControlName="time" type="time" min="00:00" max="24:00" nbInput fullWidth
                                               id="time">
                                    </div>

                                    <div class="col-sm-6">
                                        <label for="Meetinglink1" class="label">Meeting Link</label>
                                        <input formControlName="meetingLink" type="text" nbInput fullWidth id="Meetinglink1"
                                               placeholder="link">
                                    </div>
                                    <div class="col-sm-6">
                                        <label for="recordedmeeting1" class="label">Recorded Meeting</label>
                                        <input type="text" disabled formControlName="recordedLink" nbInput fullWidth id="recordedmeeting1"
                                               placeholder="recorded">
                                    </div>
                                    <div id="generatebtn1" class="col-sm-6" style="margin-bottom: 15px; margin-top: 15px">
                                        <button [disabled]="!benfLink" (click)="generateVideoKycBeneficiary($event)" type="submit"
                                                id="benf" nbButton status="danger">Generate
                                        </button>
                                    </div>
                                    <div class="col-sm-6" style="margin: 15px 0;">
                                        <div class="d-flex justify-content-end">
                                            <button nbButton [disabled]="!benfLink" (click)="save(beneficiaryForm)">save</button>
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </nb-card>
                    </div>
                </nb-card-body>
            </nb-card>
        </div>
    </div>
</div>



