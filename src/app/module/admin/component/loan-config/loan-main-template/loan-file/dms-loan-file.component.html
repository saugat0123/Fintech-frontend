<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title"><b>General</b></h3>
    </div>
    <form role="form" (ngSubmit)="onSubmit()" [formGroup]="loanForm">
        <div class="box-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="name"><b>Customer Name</b></label>
                        <input type="text" formControlName="customerName"
                               [ngClass]="{ 'is-invalid':submitted && form.customerName.errors}"
                               class="form-control rounded" id="name"
                               placeholder="Enter name"/>
                        <div *ngIf="submitted && form.customerName.errors" class="invalid-feedback">
                            <div *ngIf="form.customerName.errors.required">Name is required</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group rounded">
                        <label for="citizenshipNumber"><b>Citizenship Number</b></label>
                        <input type="text" formControlName="citizenshipNumber" class="form-control rounded"
                               [ngClass]="{ 'is-invalid':submitted && form.citizenshipNumber.errors}"
                               id="citizenshipNumber" placeholder="Enter citizenship number"/>
                        <div *ngIf="submitted && form.citizenshipNumber.errors" class="invalid-feedback">
                            <div *ngIf="form.citizenshipNumber.errors.required">Citizenship number is required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="contact"><b>Contact Number</b></label>
                        <input type="text" formControlName="contactNumber" class="form-control rounded" id="contact"
                               [ngClass]="{ 'is-invalid':submitted && form.contactNumber.errors}"
                               placeholder="Enter Contact Number"/>
                        <div *ngIf="submitted && form.contactNumber.errors" class="invalid-feedback">
                            <div *ngIf="form.contactNumber.errors.required">Contact number is required</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="interest"><b>Interest Rate</b></label>
                        <input type="text" formControlName="interestRate" class="form-control rounded" id="interest"
                               [ngClass]="{ 'is-invalid':submitted && form.interestRate.errors}"
                               placeholder="Enter interest rate"/>
                        <div *ngIf="submitted && form.interestRate.errors" class="invalid-feedback">
                            <div *ngIf="form.interestRate.errors.required">Interest is required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="amount"><b>Proposed Amount</b></label>
                        <input type="text" formControlName="proposedAmount" class="form-control rounded" id="amount"
                               [ngClass]="{ 'is-invalid':submitted && form.proposedAmount.errors}"
                               placeholder="Enter proposed amount"/>
                        <div *ngIf="submitted && form.proposedAmount.errors" class="invalid-feedback">
                            <div *ngIf="form.proposedAmount.errors.required">Amount is required</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label><b>Security</b></label>
                        <ng-select [items]="dropdownList"
                                   bindLabel="name"
                                   bindValue="id"
                                   [multiple]="true"
                                   placeholder="Select Security"
                                   formControlName="security"
                                   [ngClass]="{ 'is-invalid':submitted && form.security.errors}"
                        >
                        </ng-select>
                        <div *ngIf="submitted && form.security.errors" class="invalid-feedback">
                            <div *ngIf="form.security.errors.required">Amount is required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="box-header with-border">
                        <h3 class="box-title"><b>Document for initial phase</b></h3>
                        <em><span style="color:red;">(select the image in .png or .jpg format)</span></em>
                    </div>
                    <div class="box-body">
                        <table class="table table-striped table-bordered table-hover ">
                            <thead>
                            <tr>
                                <th>#</th>
                                <th>Document Type</th>
                                <th>Upload</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let document of initialDocuments; let i=index">
                                <td>
                                    {{i + 1}}
                                </td>
                                <td>{{document.name}}</td>
                                <td><input type="file" class="form-control-file" id="initial" formControlName="file"

                                           accept=".png, .jpg" multiple=""
                                           (change)="documentUploader($event,document.name)">
                                    <div *ngIf="showError">
                                        Maximum Image Size Exceeds
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary" type="submit">Submit</button>
        </div>
    </form>
</div>


